<!-- ************************************************************** -->
<!-- A. Declare the document elements. The names of the document
elements, i.e., mei and meicorpus, as well as the names of the meihead
and music elements, cannot be changed in order to assure an absolute
minimum level of MEI compliance. The version attribute contains the
version of the DTD used by the instance. Since either the mei or
meicorpus elements can serve as the document element, it is declared
in both elements. -->

<!-- The document element for a single document contains a header
and data. -->
<!ELEMENT mei  (meihead, music)>
<!ATTLIST mei
          id                 ID                    #IMPLIED
          version            NMTOKEN               #FIXED '1.9b'>

<!-- The document element for a group of documents, each with its own
complete header, contains a header for the group, and one or more mei
elements. -->
<!ELEMENT meicorpus  (meihead, mei+)>
<!ATTLIST meicorpus
          id                 ID                    #IMPLIED
          version            NMTOKEN               #FIXED '1.9b'>

<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- C. Declare default values for some parameter entities. These are
declared here so that they may be used in additional declarations
contained in meiGIs.ent, meiKey.ent, and meiClass.ent. They may be
overridden by declarations contained in meiModifications.ent or in the
internal DTD subset of a document. -->

<!-- Some tagging options are turned off by default. -->
<!-- 'major modes' -->
<!-- <!ENTITY % meiMensural       'IGNORE'>
     <!ENTITY % meiNeumes         'IGNORE'> -->

<!-- 'minor modes' -->
<!ENTITY % meiCrit           'INCLUDE'>
<!ENTITY % meiEdit           'INCLUDE'>
<!ENTITY % meiMIDI           'INCLUDE'>
<!ENTITY % meiFacs           'INCLUDE'>

<!-- By default, analytical, gestural, and visual attributes are
enabled. In order to deactive them, the meiAnalysis, meiGestural, and
meiVisual entities must be set to "IGNORE" in the internal DTD subset
or in the meiModifications.ent file. -->
<!ENTITY % meiAnalysis 'INCLUDE'>
<!ENTITY % meiGestural 'INCLUDE'>
<!ENTITY % meiVisual   'INCLUDE'>
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- D. Declare and invoke entities for MEI generic identifiers.    -->
<!-- ************************************************************** -->
<!-- <!ENTITY % meiElementNames SYSTEM 'meiGIs.ent'> %meiElementNames; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiGIs.ent  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains name declarations for all the elements
          in the MEI DTD. It is invoked by the mei.dtd driver file. -->
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Shared)                               -->
<!-- Common elements which are used in more than one module         -->
<!-- ************************************************************** -->
<!ENTITY % n.abbr 'abbr'>
<!ENTITY % n.accid 'accid'>
<!ENTITY % n.address 'address'>
<!ENTITY % n.addressline 'addressline'>
<!ENTITY % n.anchoredtext 'anchoredtext'>
<!ENTITY % n.artic 'artic'>
<!ENTITY % n.barline 'barline'>
<!ENTITY % n.bibl 'bibl'>
<!ENTITY % n.blockquote 'blockquote'>
<!ENTITY % n.caption 'caption'>
<!ENTITY % n.clefchange 'clefchange'>
<!ENTITY % n.corpname 'corpname'>
<!ENTITY % n.curve 'curve'>
<!ENTITY % n.date 'date'>
<!ENTITY % n.dot 'dot'>
<!ENTITY % n.expan 'expan'>
<!ENTITY % n.extptr 'extptr'>
<!ENTITY % n.extref 'extref'>
<!ENTITY % n.fig 'fig'>
<!ENTITY % n.figdesc 'figdesc'>
<!ENTITY % n.geogname 'geogname'>
<!ENTITY % n.graphic 'graphic'>
<!ENTITY % n.head 'head'>
<!ENTITY % n.item 'item'>
<!ENTITY % n.identifier 'identifier'>
<!ENTITY % n.keyaccid 'keyaccid'>
<!ENTITY % n.keysig 'keysig'>
<!ENTITY % n.l 'l'>
<!ENTITY % n.lb 'lb'>
<!ENTITY % n.lg 'lg'>
<!ENTITY % n.line 'line'>
<!ENTITY % n.list 'list'>
<!ENTITY % n.measure 'measure'>
<!ENTITY % n.mensur 'mensur'>
<!ENTITY % n.mensurchange 'mensurchange'>
<!ENTITY % n.name 'name'>
<!ENTITY % n.num 'num'>
<!ENTITY % n.p 'p'>
<!ENTITY % n.proport 'proport'>
<!ENTITY % n.proportchange 'proportchange'>
<!ENTITY % n.table 'table'>
<!ENTITY % n.td 'td'>
<!ENTITY % n.th 'th'>
<!ENTITY % n.pb 'pb'>
<!ENTITY % n.periodname 'periodname'>
<!ENTITY % n.persname 'persname'>
<!ENTITY % n.pgdesc 'pgdesc'>
<!ENTITY % n.ptr 'ptr'>
<!ENTITY % n.ref 'ref'>
<!ENTITY % n.rend 'rend'>
<!ENTITY % n.repository 'repository'>
<!ENTITY % n.stack 'stack'>
<!ENTITY % n.staff 'staff'>
<!ENTITY % n.stylename 'stylename'>
<!ENTITY % n.symbol 'symbol'>
<!ENTITY % n.title 'title'>
<!ENTITY % n.tr 'tr'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Structure)                            -->
<!-- THESE ELEMENTS MAY OCCUR IN ALL MEI DOCUMENTS.                 -->
<!-- ************************************************************** -->
<!ENTITY % n.body 'body'>
<!ENTITY % n.ending 'ending'>
<!ENTITY % n.group 'group'>
<!ENTITY % n.layer 'layer'>
<!ENTITY % n.layerdef 'layerdef'>
<!ENTITY % n.mdiv 'mdiv'>
<!ENTITY % n.music 'music'>
<!ENTITY % n.ossia 'ossia'>
<!ENTITY % n.part 'part'>
<!ENTITY % n.parts 'parts'>
<!ENTITY % n.sb 'sb'>
<!ENTITY % n.score 'score'>
<!ENTITY % n.scoredef 'scoredef'>
<!ENTITY % n.section 'section'>
<!ENTITY % n.staffdef 'staffdef'>
<!ENTITY % n.staffgrp 'staffgrp'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Base)                                 -->
<!-- ************************************************************** -->
<!ENTITY % n.note 'note'>
<!ENTITY % n.rest 'rest'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (CWN)                                  -->
<!-- ************************************************************** -->
<!-- Events (and their children) -->
<!ENTITY % n.beam 'beam'>
<!ENTITY % n.beatrpt 'beatrpt'>
<!ENTITY % n.btrem 'btrem'>
<!ENTITY % n.chord 'chord'>
<!ENTITY % n.clef 'clef'>
<!ENTITY % n.ftrem 'ftrem'>
<!ENTITY % n.halfmrpt 'halfmrpt'>
<!ENTITY % n.pad 'pad'>
<!ENTITY % n.space 'space'>
<!ENTITY % n.tuplet 'tuplet'>

<!-- Control events -->
<!ENTITY % n.annot 'annot'>
<!ENTITY % n.arpeg 'arpeg'>
<!ENTITY % n.beamspan 'beamspan'>
<!ENTITY % n.bend 'bend'>
<!ENTITY % n.breath 'breath'>
<!ENTITY % n.custos 'custos'>
<!ENTITY % n.dir 'dir'>
<!ENTITY % n.dynam 'dynam'>
<!ENTITY % n.fermata 'fermata'>
<!ENTITY % n.gliss 'gliss'>
<!ENTITY % n.hairpin 'hairpin'>
<!ENTITY % n.harppedal 'harppedal'>
<!ENTITY % n.mrest 'mrest'>
<!ENTITY % n.mrpt 'mrpt'>
<!ENTITY % n.mrpt2 'mrpt2'>
<!ENTITY % n.mspace 'mspace'>
<!ENTITY % n.multirest 'multirest'>
<!ENTITY % n.multirpt 'multirpt'>
<!ENTITY % n.octave 'octave'>
<!ENTITY % n.pedal 'pedal'>
<!ENTITY % n.phrase 'phrase'>
<!ENTITY % n.reh 'reh'>
<!ENTITY % n.slur 'slur'>
<!ENTITY % n.tempo 'tempo'>
<!ENTITY % n.tie 'tie'>
<!ENTITY % n.tupletspan 'tupletspan'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Lyrics)                               -->
<!-- ************************************************************** -->
<!ENTITY % n.lyrics 'lyrics'>
<!ENTITY % n.syl 'syl'>
<!ENTITY % n.verse 'verse'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Ornaments)                            -->
<!-- ************************************************************** -->
<!ENTITY % n.mordent 'mordent'>
<!ENTITY % n.trill 'trill'>
<!ENTITY % n.turn 'turn'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Layout)                               -->
<!-- ************************************************************** -->
<!ENTITY % n.fw 'fw'>
<!ENTITY % n.grpsym 'grpsym'>
<!ENTITY % n.label 'label'>
<!ENTITY % n.pgfoot1 'pgfoot1'>
<!ENTITY % n.pgfoot2 'pgfoot2'>
<!ENTITY % n.pghead1 'pghead1'>
<!ENTITY % n.pghead2 'pghead2'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Harmony)                              -->
<!-- ************************************************************** -->
<!ENTITY % n.barre 'barre'>
<!ENTITY % n.chorddef 'chorddef'>
<!ENTITY % n.chordmember 'chordmember'>
<!ENTITY % n.chordtable 'chordtable'>
<!ENTITY % n.harm 'harm'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (User-defined symbols)                 -->
<!-- ************************************************************** -->
<!ENTITY % n.symboldef 'symboldef'>
<!ENTITY % n.symboltable 'symboltable'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Instruments)                          -->
<!-- ************************************************************** -->
<!ENTITY % n.instrdef 'instrdef'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Apparatus)                            -->
<!-- ************************************************************** -->
<!ENTITY % n.app 'app'>
<!ENTITY % n.rdg 'rdg'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Neumes)                               -->
<!-- ************************************************************** -->
<!ENTITY % n.ineume 'ineume'>
<!ENTITY % n.syllable 'syllable'>
<!ENTITY % n.uneume 'uneume'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Mensural)                             -->
<!-- ************************************************************** -->
<!ENTITY % n.keychange 'keychange'>
<!ENTITY % n.ligature 'ligature'>
<!ENTITY % n.nota 'nota'>
<!ENTITY % n.pausa 'pausa'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Head)                                 -->
<!-- ************************************************************** -->
<!ENTITY % n.accessdesc 'accessdesc'>
<!ENTITY % n.acqsource 'acqsource'>
<!ENTITY % n.altmeiid 'altmeiid'>
<!ENTITY % n.appinfo 'appinfo'>
<!ENTITY % n.application 'application'>
<!ENTITY % n.availability 'availability'>
<!ENTITY % n.bibnote 'bibnote'>
<!ENTITY % n.change 'change'>
<!ENTITY % n.changedesc 'changedesc'>
<!ENTITY % n.classcode 'classcode'>
<!ENTITY % n.condition 'condition'>
<!ENTITY % n.correction 'correction'>
<!ENTITY % n.creation 'creation'>
<!ENTITY % n.dimensions 'dimensions'>
<!ENTITY % n.edition 'edition'>
<!ENTITY % n.editionstmt 'editionstmt'>
<!ENTITY % n.editorialdecl 'editorialdecl'>
<!ENTITY % n.encodingdesc 'encodingdesc'>
<!ENTITY % n.exhibithist 'exhibithist'>
<!ENTITY % n.extent 'extent'>
<!ENTITY % n.filedesc 'filedesc'>
<!ENTITY % n.fingerprint 'fingerprint'>
<!ENTITY % n.hand 'hand'>
<!ENTITY % n.handlist 'handlist'>
<!ENTITY % n.inscription 'inscription'>
<!ENTITY % n.interpretation 'interpretation'>
<!ENTITY % n.keywords 'keywords'>
<!ENTITY % n.language 'language'>
<!ENTITY % n.langusage 'langusage'>
<!ENTITY % n.musicclass 'musicclass'>
<!ENTITY % n.normalization 'normalization'>
<!ENTITY % n.notesstmt 'notesstmt'>
<!ENTITY % n.physdesc 'physdesc'>
<!ENTITY % n.physloc 'physloc'>
<!ENTITY % n.physmedium 'physmedium'>
<!ENTITY % n.price 'price'>
<!ENTITY % n.profiledesc 'profiledesc'>
<!ENTITY % n.projectdesc 'projectdesc'>
<!ENTITY % n.provenance 'provenance'>
<!ENTITY % n.pubstmt 'pubstmt'>
<!ENTITY % n.respstmt 'respstmt'>
<!ENTITY % n.revisiondesc 'revisiondesc'>
<!ENTITY % n.samplingdecl 'samplingdecl'>
<!ENTITY % n.segmentation 'segmentation'>
<!ENTITY % n.seriesstmt 'seriesstmt'>
<!ENTITY % n.source 'source'>
<!ENTITY % n.sourcedesc 'sourcedesc'>
<!ENTITY % n.stdvals 'stdvals'>
<!ENTITY % n.sysreq 'sysreq'>
<!ENTITY % n.term 'term'>
<!ENTITY % n.titlestmt 'titlestmt'>
<!ENTITY % n.treatmenthist 'treatmenthist'>
<!ENTITY % n.treatmentsched 'treatmentsched'>
<!ENTITY % n.unpub 'unpub'>
<!ENTITY % n.userestrict 'userestrict'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (MIDI)                                 -->
<!-- ************************************************************** -->
<!ENTITY % n.cc 'cc'>
<!ENTITY % n.chan 'chan'>
<!ENTITY % n.chanpr 'chanpr'>
<!ENTITY % n.cue 'cue'>
<!ENTITY % n.hex 'hex'>
<!ENTITY % n.instr 'instr'>
<!ENTITY % n.marker 'marker'>
<!ENTITY % n.metatext 'metatext'>
<!ENTITY % n.midi 'midi'>
<!ENTITY % n.noteoff 'noteoff'>
<!ENTITY % n.noteon 'noteon'>
<!ENTITY % n.port 'port'>
<!ENTITY % n.prog 'prog'>
<!ENTITY % n.seqnum 'seqnum'>
<!ENTITY % n.trkname 'trkname'>
<!ENTITY % n.vel 'vel'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Text)                                 -->
<!-- ************************************************************** -->
<!ENTITY % n.back 'back'>
<!ENTITY % n.div 'div'>
<!ENTITY % n.front 'front'>
<!ENTITY % n.titlepage 'titlepage'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Edit)                                 -->
<!-- ************************************************************** -->
<!ENTITY % n.add 'add'>
<!ENTITY % n.choice 'choice'>
<!ENTITY % n.corr 'corr'>
<!ENTITY % n.damage 'damage'>
<!ENTITY % n.del 'del'>
<!ENTITY % n.gap 'gap'>
<!ENTITY % n.handshift 'handshift'>
<!ENTITY % n.orig 'orig'>
<!ENTITY % n.reg 'reg'>
<!ENTITY % n.restore 'restore'>
<!ENTITY % n.sic 'sic'>
<!ENTITY % n.subst 'subst'>
<!ENTITY % n.supplied 'supplied'>
<!ENTITY % n.unclear 'unclear'>

<!-- ************************************************************** -->
<!-- MEI Generic Identifiers (Facsimile)                            -->
<!-- ************************************************************** -->
<!ENTITY % n.facsimile 'facsimile'>
<!ENTITY % n.surface 'surface'>
<!ENTITY % n.zone 'zone'>

<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- E. Declare and invoke the MEI keywords file.                   -->
<!-- ************************************************************** -->
<!-- <!ENTITY % meiKeywords SYSTEM 'meiKey.ent'> %meiKeywords; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiKey.ent  **DRAFT **
                     **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains datatype and attribute value list
          declarations. It is invoked by the mei.dtd driver file.   -->
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- MEI keywords for datatypes                                     -->
<!-- ************************************************************** -->

<!--These parameter entities are used as keywords to express rules or
constraints which cannot be fully expressed in attribute declarations;
their expansions show the nearest available equivalent.             -->

<!-- A beat location, i.e., [0-9]+(\.?[0-9]*)? The value must fall between
0 and the numerator of the time signature + 1, where 0 represents the left
barline and the upper bound represents the right barline.  For example, in
12/8 the value must be in the range from 0 to 13. -->
<!ENTITY % BEAT 'CDATA'>

<!-- EITHER a hexadecimal color value, ie., x[0-9A-Fa-f]{6,6} OR a
descriptive word, i.e., aqua, black, blue, fuchsia, gray, green, lime,
maroon, navy, olive, purple, red, silver, teal, white, or yellow -->
<!ENTITY % COLOR 'NMTOKEN'>

<!-- 360th-unit measure of a cirle's circumference; optionally signed
decimal number, i.e., [+-]?[0-9]+(\.?[0-9]*)? -->
<!ENTITY % DEGREES 'CDATA'>

<!-- if not supplied, the value is inherited from an ancestor node -->
<!ENTITY % INHERITED '#IMPLIED'>

<!-- unsigned positive integer values including '0', i.e., [0-9]+ -->
<!ENTITY % INTEGERNONNEGATIVE 'CDATA'>

<!-- unsigned positive integer values excluding '0', i.e., 1 to infinity. -->
<!ENTITY % INTEGERPOSITIVE 'CDATA'>

<!-- ISO date format: YYYYMMDD -->
<!ENTITY % ISODATE 'CDATA'>

<!-- ISO 24-hour time format: HH:MM:SS.ss, i.e.,
[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.?[0-9]*)?-->
<!ENTITY % ISOTIME 'CDATA'>

<!-- A duration expressed as a count of measures plus a beat location,
i.e., [0-9]+m *\+ *[0-9]+(\.?[0-9]*)?, e.g., dur="1m + 3.5" indicates a
duration of 1 measure plus 3 and one half beats or, in other words,
on the 2nd half of the 3rd beat of the next measure. The measure number
must be in the range of 0 to the number of remaining measures and the
beat number must be in the range from 0 to the numerator of the time
signature plus 1.  For example, for an event starting in the first
measure of a piece containing 6 measures in 6/8, the measure number
must be between 0 to 5 and the beat number must be within the range
from 0 to 7, e.g., "4m+3". -->
<!ENTITY % MEASUREBEAT 'CDATA'>

<!-- MIDI quarter notes per minute: positive integer in the range
10-1000 -->
<!ENTITY % MIDITEMPO 'CDATA'>

<!-- optionally signed decimal number, i.e., [+-]?[0-9]+(\.?[0-9]*)? -->
<!ENTITY % NUMBER 'CDATA'>

<!-- positive decimal number plus '%', i.e., [0-9]+(\.?[0-9]*)?\% -->
<!ENTITY % PERCENT 'CDATA'>

<!-- if not supplied, the value should be obtained from a previous
event in the *same measure* -->
<!ENTITY % PROPAGATED '#IMPLIED'>

<!-- a ratio, i.e., [0-9]+(\.?[0-9]*)?:[0-9]+(\.?[0-9]*)?  For example,
"40:7.2319"-->
<!ENTITY % RATIO 'CDATA'>

<!-- In string tablature, the number of the string to be played, i.e.,
[1-9]+. -->
<!ENTITY % STRINGNUMBER 'CDATA'>

<!-- Beats (meter signature denominator) per minute, e.g. 120. -->
<!ENTITY % TEMPOVALUE 'CDATA'>

<!-- A positive or negative offset from the value given in the tstamp
attribute. The datatype of this attribute must be the same as that of
the tstamp, tstamp.ges, or tstamp.real attribute. -->
<!ENTITY % TSTAMPOFFSET 'CDATA'>

<!-- a Uniform Resource Identifier, see [RFC2396] -->
<!ENTITY % URI 'CDATA'>

<!-- an xPath expression -->
<!ENTITY % XPATH 'CDATA'>

<!-- a fragment identifier in xPointer syntax -->
<!ENTITY % XPOINTER 'CDATA'>


<!-- ************************************************************** -->
<!-- MEI keywords for attribute value lists                         -->
<!-- ************************************************************** -->

<!-- These parameter entities are used as keywords to express a list of
values. They are provided so that attribute value lists may be
restricted or expanded according to local practice or to accommodate
software constraints. -->

<!-- Accidental attribute values:
     s = sharp, f = flat, ss = dblsharp, x= dblsharp, ff = dblflat,
     n = natural, nf = naturalflat, ns = naturalsharp. ss indicates the
     use of 2 sharp signs, while x indicates the use of a single double
     sharp. nf and ns are used to cancel dbflats and dblsharps,
     respectively. su = sharp note qtr. tone up, sd = sharp note qtr.
     tone down, fu = flat note qtr. tone up, fd = flat note qtr. tone
     down, nu = natural note qtr. tone up, nd = natural note quarter
     tone down. Quarter-tone accidentals listed in Read, p. 145. -->
<!ENTITY % ACCIDENTAL.EXPLICIT 
                     '(s|f|ss|x|ff|n|nf|ns|su|sd|fu|fd|nu|nd)'>
<!ENTITY % ACCIDENTAL.IMPLICIT
                     '(s|f|ss|ff|n)'>

<!-- The following list of articulations mostly corresponds to symbols
1D110-1D111, 1D17B-1D182, 1D185-1D189, 1D1AA-1D1AD, 1D1B3-1D1B5 from
the Western Musical Symbols portion of the Unicode Standard, v. 3.1.
The dot and stroke values may be used in cases where interpretation is
not desirable. -->
<!ENTITY % ARTICULATION
                     '(acc|stacc|ten|stacciss|marc|marc-stacc|acc-marc|
                     loure|spicc|rip|doit|plop|fall|bend|flip|smear|dnbow|
                     upbow|harm|snap|fingernail|damp|dampall|open|stop|
                     dbltongue|trpltongue|heel|toe|tap|pluck|dot|stroke)'>

<!-- 1 or more from the list given in the definition of the
ARTICULATION entity. Changing this to CDATA, however, would allow the
use of character entities. -->
<!ENTITY % ARTICULATIONS
                     'NMTOKENS'>

<!-- Dots attribute values (number of augmentation dots) (Read,
113-119, ex. 8-21) -->
<!ENTITY % AUGMENTDOT
                     '(0|1|2|3|4)'>

<!-- Placement of barlines: between staves only, between and across
staves as necessary, short line above staff or through top line -->
<!ENTITY % BARPLACE  '(mensur|staff|takt)'>

<!-- Renderings of barlines -->
<!ENTITY % BARRENDITION 
                     '(dashed|dotted|dbl|dbldashed|dbldotted|end|invis|
                     rptstart|rptboth|rptend|single)'>

<!-- Beam attribute values: initial, medial, terminal. Nested beaming
is permitted. -->
<!ENTITY % BEAM      '(i1|i2|i3|i4|i5|i6|m1|m2|m3|m4|m5|m6|t1|t2|t3|t4|t5|t6)'>

<!-- 1 or more from the list given in the definition of the BEAM entity. -->
<!ENTITY % BEAMS     'NMTOKENS'>

<!-- Boolean attribute values -->
<!ENTITY % BOOLEAN   '(true|false)'>

<!-- Values for certainty attribute -->
<!ENTITY % CERTAINTY '(high|medium|low|unknown)'>

<!-- Clef line attribute values -->
<!ENTITY % CLEFLINE  '%INTEGERPOSITIVE;'>

<!-- 1 or more from the list given in the definition of the CLEFLINE
entity. Changing this to CDATA would allow the use of character
entities. -->
<!ENTITY % CLEFLINES
                     'NMTOKENS'>

<!-- Clef shape attribute values (Read, p.53-56) -->
<!ENTITY % CLEFSHAPE '(G|GG|F|C|perc|TAB)'>

<!-- 1 or more from the list given in the definition of the CLEFSHAPE
entity. Changing this to CDATA would allow the use of character
entities. -->
<!ENTITY % CLEFSHAPES
                     'NMTOKENS'>

<!-- Clef trans attribute values -->
<!ENTITY % CLEFTRAN  '(8va|8vb|15va)'>

<!-- Tone-clusters -->
<!ENTITY % CLUSTER   '(whbox|blbox)'>

<!-- Renderings of curves -->
<!ENTITY % CURVERENDITION
                     '(medium|wide|dashed|dotted)'>

<!-- Logical, that is, written, duration attribute values. Whole note
duration = '1'. -->
<!ENTITY % DURATION.BASE 'long|breve|1|2|4|8|16|32|64|128|256|512|1024|2048'>
<!ENTITY % DURATION.MEN 'maxima|longa|brevis|semibrevis|minima|semiminima|
                      fusa|semifusa'>
<!ENTITY % DURATION '(%DURATION.BASE;)'>
<!ENTITY % DURATION.MENSURAL '(%DURATION.MEN;)'>
<!ENTITY % DURATIONS '(%DURATION.BASE; | %DURATION.MEN;)'>

<!-- Enclosures for editorial notes and accidentals -->
<!ENTITY % ENCLOSURE '(paren|brack)'>

<!-- Font family (for text) attribute values
Mup-acceptable values: <!ENTITY % FONTFAMILY
                     '(avantgarde|bookman|courier|helvetica|
                     newcentury|palatino|times)'> -->
<!ENTITY % FONTFAMILY 'CDATA'>

<!-- Font name (for text) attribute values
Mup-acceptable values: <!ENTITY % FONTNAME  '(rom|ital|bold|boldital)'> -->
<!ENTITY % FONTNAME 'CDATA'>

<!-- Font style (for text) attribute values -->
<!ENTITY % FONTSTYLE '(ital|normal)'>

<!-- Font weight (for text) attribute values -->
<!ENTITY % FONTWEIGHT '(bold)'>

<!-- Fragment referencing method.  Setting this entity to '%XPATH;' or
'%XPOINTER;' makes it possible to document the use of these methods. -->
<!ENTITY % FRAGMENT 'CDATA'>

<!-- In string tablature, the fret number, i.e., [0-9]+. The value '0'
indicates the open string. -->
<!ENTITY % FRETNUMBER 'CDATA'>

<!-- Analytical glissando attribute values: i(nitial), m(edial),
t(erminal) -->
<!ENTITY % GLISSANDO '(i|m|t)'>

<!-- Do grace notes get time from the current (acc) or previous (unacc)
one? -->
<!ENTITY % GRACE '(acc|unacc)'>

<!-- Allowed notehead shapes -->
<!ENTITY % HEADSHAPE  '(quarter|half|whole|dblwhole|
                       filldiamond|diamond|dwdiamond|
                       fillisotriangle|isotriangle|dwhisotriangle|
                       fillpiewedge|piewedge|dwhpiewedge|
                       fillrectangle|rectangle|dwhrectangle|
                       fillrtriangle|rtriangle|dwrtriangle|
                       fillurtriangle|urtriangle|dwurtriangle|
                       fillsemicircle|semicircle|dwsemicircle|
                       fillslash|slash|dwslash|x|blank|circlex|
                       cross)'>


<!-- Interrupted neume, i.e. neumes written as 2 or more sub-neumes -->
<!ENTITY % INEUME
                     '(pessubpunctis|climacus|scandicus|bistropha|
                     tristropha|pressusminor|pressusmaior|
                     pressusliquescens|virgastrata)'>
                     
<!-- Interrupted neume forms -->
<!ENTITY % INEUMEFORM
                     '(liquescent1|liquescent2|tied|tiedliquescent1|
                     tiedliquescent2)'>
                     
<!-- Key signature is normally indicated by a value showing where the
key is in the circle of fifths. Mixed key signatures, e.g. those
consisting of a mixture of flats and sharps, and key signatures with
unorthodox placement of the accidentals (Read, p. 143) must be
indicated by setting the key.sig attribute to 'mixed' and providing
explicit keysig info in the key.sig.mixed attribute. -->
<!ENTITY % KEYSIGNATURE
                     '(7f|6f|5f|4f|3f|2f|1f|0|1s|2s|3s|4s|5s|6s|7s|
                      mixed)'>

<!-- Indicates how stems should be drawn when more than one layer is
present. '1' indicates that there is only a single layer on a staff.
'2o' means there are two layers with opposing stems. '2f' indicates
two 'free' layers; that is, opposing stems will be drawn unless one of
the layers has 'space'. In that case, stem direction in the remaining
layer will be determined as if there were only one layer. '3o' and
'3f' are analogous to '2o' and '2f' with three layers allowed. What
about more than 3 layers? -->
<!ENTITY % LAYERSCHEME
                     '(1|2o|2f|3o|3f)'>

<!-- Ligature forms -->
<!ENTITY % LIGATUREFORM  '(recta|obliqua)'>

<!-- Renderings of lines -->
<!ENTITY % LINERENDITION
                     '(narrow|medium|wide|dashed|dotted|wavy)'>

<!-- Mensuration attribute values -->
<!ENTITY % MENSURATIONSIGN '(C|O)'>

<!-- Meter.sym attribute values for common-practice notation: -->
<!ENTITY % METERTEXT '(common|cut)'>

<!-- MIDI channels -->
<!ENTITY % MIDICHANNEL
                     '(1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16)'>

<!-- MIDI values are in the following range -->
<!ENTITY % MIDIVALUE '(0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|
                     19|20|21|22|23|24|25|26|27|28|29|30|31|32|33|34|
                     35|36|37|38|39|40|41|42|43|44|45|46|47|48|49|50|
                     51|52|53|54|55|56|57|58|59|60|61|62|63|64|65|66|
                     67|68|69|70|71|72|73|74|75|76|77|78|79|80|81|82|
                     83|84|85|86|87|88|89|90|91|92|93|94|95|96|97|98|
                     99|100|101|102|103|104|105|106|107|108|109|110|
                     111|112|113|114|115|116|117|118|119|120|121|122|
                     123|124|125|126|127)'>

<!-- Modes -->
<!ENTITY % MODE      '(major|minor|dorian|phrygian|lydian|mixolydian|
                     aeolian|locrian)'>

<!-- Music font family -->
<!ENTITY % MUSICFONT 'CDATA'>

<!-- Oct attribute values. The default values conform to Acoustical
Society of America representation. Read, p. 44. The entity name is
plural so as not to conflict with the %octave entity used in the
definition of the octave element. -->
<!ENTITY % OCTAVE    '(0|1|2|3|4|5|6|7|8|9)'>

<!-- Page scale factor datatype.  Setting this to %RATIO; allows
page.scale attributes to contain a virtual units to real units conversion
ratio. -->
<!ENTITY % PGSCALE   '%PERCENT;'>

<!-- Unit attribute values -->
<!ENTITY % PGUNITS   '(in|cm|mm)'>

<!-- Pclass (pitch class) attribute values -->
<!ENTITY % PITCHCLASS
                     '(0|1|2|3|4|5|6|7|8|9|10|11)'>

<!-- The pitch names (gamut) used within a single octave. The default
values conform to Acoustical Society of America representation. -->
<!ENTITY % PITCHNAME '(a|b|c|d|e|f|g)'>

<!-- Gestural pitch names need an additional value for when the notated
pitch is not to be played. -->
<!ENTITY % PITCHNAME.GES '(a|b|c|d|e|f|g|none)'>

<!-- Pnum (pitch number, e.g. MIDI) attribute values -->
<!ENTITY % PITCHNUMBER 
                     '%INTEGERNONNEGATIVE;'>

<!-- Participant list referencing method.  Setting this entity to '%XPATH;'
or '%XPOINTER;' makes it possible to document the use of these methods. -->
<!ENTITY % PLIST
                     'IDREFS'>

<!-- Place, i.e., relative location of musical material -->
<!ENTITY % PLACE     '(above|below)'>

<!-- Size attribute values -->
<!ENTITY % SIZE      '(normal|cue)'>

<!-- i=initial, t=terminal. Number is used to match endpoints of the
slur when slurs are nested or overlap, e.g. 
<note slur='i1 i2'/><note slur='t1'/><note slur='t2'/> encodes the
fact that two slurs begin on note 1, one which terminates on note 2
and one which terminates on note 3. % SLUR isn't currently invoked in
the DTD; it serves as documentation for the tokens that can be used
where % SLURS is invoked. -->
<!ENTITY % SLUR      '(i1|i2|i3|i4|i5|i6|t1|t2|t3|t4|t5|t6)'>
 
<!-- 1 or more from the list given in the definition of the SLUR
entity. -->
<!ENTITY % SLURS     'NMTOKENS'>

<!-- Slur directions -->
<!ENTITY % SLURDIRECTION
                     '(up|down)'>

<!-- Staff location. Staff location includes staff lines, spaces, and
the spaces directly above and below the staff. The value ranges between
0 (just below the staff) to 2 * number of staff lines (directly above
the staff).  For example, on a 5-line staff the lines would be numbered
1,3,5,7, and 9 while the spaces would be numbered 0,2,4,6,8,10. -->
<!ENTITY % STAFFLOC  '%INTEGERNONNEGATIVE;'>

<!-- Stem directions -->
<!ENTITY % STEMDIRECTION '(up|down)'>

<!-- Stem modifications -->
<!ENTITY % STEMMODIFIER
                     '(1slash|2slash|3slash|4slash|5slash|6slash|
                      sprech|z)'>

<!-- Which side of stem? -->
<!ENTITY % STEMPOSITION
                     '(left|right|center)'>

<!-- Temperament -->
<!ENTITY % TEMPERAMENT
                     '(equal|just|mean)'>

<!-- Rendition values for a single line of text
<!ENTITY % TEXTLINERENDITION
                     '(left|right|center)'> -->
                     
<!-- Text renditions -->
<!ENTITY % TEXTRENDITION
                     '(box|center|circle|dblunderline|justify|left|
                      none|quoted|right|smcaps|stack|strike|sub|sup|
                      underline)'>

<!-- Tie attribute values: initial, medial, terminal. -->
<!ENTITY % TIE       '(i|m|t)'>

<!ENTITY % TIEDIRECTION
                     '(up|down)'>

<!-- Tuplet attribute values: initial, medial, terminal. -->
<!ENTITY % TUPLET    '(i1|i2|i3|i4|i5|i6|m1|m2|m3|m4|m5|m6|t1|t2|t3|
                      t4|t5|t6)'>

<!-- Basic, i.e., single, uninterrupted, neume names. -->
<!ENTITY % UNEUME    '(punctum|virga|pes|clivis|torculus|torculusresupinus|
porrectus|porrectusflexus|apostropha|oriscus)'>

<!ENTITY % UNEUMEFORM '(liquescent1|liquescent2|liquescent3|quilismatic|
rectangular|rhombic|tied)'>

<!-- Visual, i.e. ho and vo, offsets are expressed in terms of staff
interline distance. -->
<!ENTITY % VISUALOFFSET '%NUMBER;'>

<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- F. Declare and invoke the character entity declarations file.  -->
<!-- ************************************************************** -->
<!-- <!ENTITY % meiCharacters SYSTEM 'meiChars.ent'> %meiCharacters; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiChars.ent  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains entities which reference Unicode
          characters. It is invoked by the mei.dtd driver file.     -->
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- MEI Entities for Text Characters                               -->
<!-- ************************************************************** -->
<!ENTITY % ISOlat1 SYSTEM 
   'http://text.lib.virginia.edu/charent/iso-lat1.ent'> %ISOlat1;
<!ENTITY % ISOgrk1 SYSTEM 
   'http://text.lib.virginia.edu/charent/iso-grk1.ent'> %ISOgrk1;
<!ENTITY % ISOgrk2 SYSTEM 
   'http://text.lib.virginia.edu/charent/iso-grk2.ent'> %ISOgrk2;
<!ENTITY % ISOgrk3 SYSTEM 
   'http://text.lib.virginia.edu/charent/iso-grk3.ent'> %ISOgrk3;
<!ENTITY % ISOgrk4 SYSTEM 
   'http://text.lib.virginia.edu/charent/iso-grk4.ent'> %ISOgrk4;
<!ENTITY % ISOnum  SYSTEM 
   'http://text.lib.virginia.edu/charent/iso-num.ent'>  %ISOnum;
<!ENTITY % ISOpub  SYSTEM 
   'http://text.lib.virginia.edu/charent/iso-pub.ent'>  %ISOpub;
<!ENTITY % ISOtech SYSTEM 
   'http://text.lib.virginia.edu/charent/iso-tech.ent'> %ISOtech;
<!ENTITY % ISOdia  SYSTEM 
   'http://text.lib.virginia.edu/charent/iso-dia.ent'>  %ISOdia;
<!ENTITY % UVAsupp SYSTEM 
   'http://text.lib.virginia.edu/charent/uva-supp.ent'> %UVAsupp;
<!ENTITY % MusicChars SYSTEM
   'http://text.lib.virginia.edu/charent/musicchar.ent'> %MusicChars;

<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- II. Declare shared attributes and content models.              -->
<!-- ************************************************************** -->
<!-- <!ENTITY % meiClasses SYSTEM 'meiClass.ent'> %meiClasses; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiClass.ent  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains shared declarations of attributes and
          content models. It is invoked by the mei.dtd driver 
          file.                                                     -->
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- Shared attributes (attribute classes)                          -->
<!-- ************************************************************** -->

<!-- Common analytical attributes:  corresp may be used to point to
other events or control events that correspond to this event in some
fashion. -->
<!ENTITY % a.anl.common
                     'corresp           IDREFS                #IMPLIED'>

<!-- Bibliographic attributes: The analog attribute contains a reference
to a field or element in another descriptive encoding system to which an
MEI element is comparable. Mapping elements from one system to another
may help a repository harvest selected data from the MEI file to build a
basic catalog record. The encoding system from which fields are taken
must be specified. When possible, subfields as well as fields should be
specified, e.g., subfields within MARC fields. A display label for an
element can be supplied using the label attribute when a meaningful
label cannot be derived by a style sheet from the element name or when a
heading element <head> is not available. -->
<!ENTITY % a.bibl
                     'analog            CDATA                 #IMPLIED'>

<!ENTITY % a.color   'color             %COLOR;               #IMPLIED'>


<!-- Common attributes: Each id within a document must have a unique
value. The id attribute regularizes the naming of the element and thus
facilitates building links between it and other resources. The n attribute
may be used to provide a label (name or number) for the element. This
need not be unique. -->
<!ENTITY % a.common
                     'id                ID                    #IMPLIED
                     n                  NMTOKEN               #IMPLIED'>

<!-- Control events rely on other events for their existence. For
example, a slur/phrase marking must be drawn between or over a group of
notes. The next attribute may be used to point to the next control
event(s) in a user-defined collection while the prev attribute may point
to the previous event(s). The plist (participant list) attribute may
contain ID references or xPointer fragment identifiers (depending on
how % PLIST is configured) which identify logical events which
participate in the control event, e.g., notes under a phrase mark. The
staff and layer attributes allow the control event to encode its scope
of influence. The tstamp attribute encodes the onset time of a musical
feature in terms of musical time, i.e., beats.  The tstamp.ges attribute
may be used to record the onset time in pulses per quarter note (ppq,
MusicXML divisions, or MIDI clicks) since the start of the measure, while
the tstamp.real attribute records the onset time as a real-time offset, i.e.,
HH:MM:SS.ss, since the beginning of the file. -->
<!ENTITY % a.controlevent
                     'layer             %INTEGERPOSITIVE;     #IMPLIED
                     next               IDREFS                #IMPLIED
                     plist              %PLIST;               #IMPLIED
                     prev               IDREFS                #IMPLIED
                     staff              %INTEGERPOSITIVE;     #REQUIRED
                     tstamp             %BEAT;                #IMPLIED
                     tstamp.ges         %INTEGERNONNEGATIVE;  #IMPLIED
                     tstamp.real        %ISOTIME;             #IMPLIED'>

<!ENTITY % a.coordinated
                     'ulx               %INTEGERNONNEGATIVE;  #IMPLIED
                     uly                %INTEGERNONNEGATIVE;  #IMPLIED
                     lrx                %INTEGERNONNEGATIVE;  #IMPLIED
                     lry                %INTEGERNONNEGATIVE;  #IMPLIED'>

<!-- Attributes common to all elements representing variant readings: -->
<!ENTITY % a.crit
                     'cause             NMTOKEN               #IMPLIED
                     hand               IDREF                 #IMPLIED
                     resp               IDREF                 #IMPLIED
                     seq                %INTEGERPOSITIVE;     #IMPLIED
                     source             IDREFS                #IMPLIED'>
                    
<!-- Attributes common to dates: calendar indicates the system or
calendar to which the date belongs, for example, Gregorian, Julian,
Roman, Mosaic, Revolutionary, Islamic; cert indicates the degree of
precision to be attributed to the date, e.g. ca., approx, after, before,
etc.; from contains the starting point of a date range; notafter should
contain an upper boundary for an uncertain date while notbefore should
contain a lower boundary, e.g, <date notbefore='1957'
notafter='1960'>Feb. 5</date>; reg gives the value of the date in
standard ISO form; to contains the end point of a date range. -->
<!ENTITY % a.date
                     'calendar          NMTOKEN               #IMPLIED
                     cert               %CERTAINTY;           #IMPLIED
                     from               %ISODATE;             #IMPLIED
                     notafter           %ISODATE;             #IMPLIED
                     notbefore          %ISODATE;             #IMPLIED
                     reg                %ISODATE;             #IMPLIED
                     to                 %ISODATE;             #IMPLIED'>

<!-- Attributes describing the nature of an encoded scholarly
intervention or interpretation: cert signifies the degree of certainty
associated with the intervention or interpretation. evidence indicates
the nature of the evidence supporting the reliability or accuracy of the
intervention or interpretation. Suggested values include: 'internal',
'external', 'conjecture'. The resp attribute indicates responsibility
for the identification or content within the element to which it is
attached. It must point to one of the identifiers declared in the
document header, associated with a person asserted as responsible for
some aspect of the text's creation, transcription, editing, or
encoding. The source attribute contains a list of one or more pointers
indicating the sources which support the given reading. -->
<!ENTITY % a.edit
                     'cert              %CERTAINTY;           #IMPLIED
                     evidence           NMTOKEN               #IMPLIED
                     resp               IDREFS                #IMPLIED
                     source             IDREFS                #IMPLIED'>

<!-- Attributes that apply to all written events, e.g. beam, beatrpt,
chord, note, etc. The tstamp attribute encodes the onset time of a musical
feature in terms of musical time, i.e., beats.  The tstamp.ges attribute
may be used to record the onset time in pulses per quarter note (ppq,
MusicXML divisions, or MIDI clicks) since the start of the measure, while
the tstamp.real attribute records the onset time as a real-time offset, i.e.,
HH:MM:SS.ss, since the beginning of the file. -->
<!ENTITY % a.event
                     'layer             %INTEGERPOSITIVE;     #IMPLIED
                     next               IDREFS                #IMPLIED
                     prev               IDREFS                #IMPLIED
                     staff              %INTEGERPOSITIVE;     #IMPLIED
                     tstamp             %BEAT;                #IMPLIED
                     tstamp.ges         %INTEGERNONNEGATIVE;  #IMPLIED
                     tstamp.real        %ISOTIME;             #IMPLIED'>

<!-- All elements subscribing to this class may include one or more ID
references to an image or to an image zone which corresponds with the
element. -->
<![%meiFacs;[
<!ENTITY % a.facsimile
                     'facs              IDREFS                #IMPLIED'>
]]>
<!ENTITY % a.facsimile ''>

<!-- Attributes common to all linking elements: actuate defines whether
a link occurs automatically or must be requested by the user. It is used
in conjunction with the show attribute to determine link behavior. show
defines whether a remote resource that is the target of a link appears
at the point of the link, replaces the existing link, or appears in a
new window. The targettype attribute allows the target resource to be
characterized, using any convenient classification scheme or typology. -->
<!ENTITY % a.link.common
                     'actuate           (onLoad|onRequest|other|none)
                                                              #IMPLIED
                     show               (new|replace|other|none)
                                                              #IMPLIED
                     targettype         NMTOKEN               #IMPLIED'>

<!-- Linking attributes for external referencing elements: entityref
references a previously-declared entity which represents a complete
document. The href attribute allows the use of an undeclared URI. The
fragment attribute allows one to identify one or more sub-parts
within the document being pointed to. In the case of audio files, the
fragment attribute syntax may be expressed as a time offset from the
start of the file. -->
<!ENTITY % a.link.external
                     'entityref         ENTITY                #IMPLIED
                     fragment           %FRAGMENT;            #IMPLIED
                     href               %URI;                 #IMPLIED'>

<!-- Linking attributes for internal referencing elements. -->
<!ENTITY % a.link.internal
                     'plist             %PLIST;               #IMPLIED'>

<!-- Attributes shared by names:  The dbkey attribute may be used to
record a value which serves as a primary key in an external database.
The reg attribute may be used to record a regularized form of the
name. -->
<!ENTITY % a.name
                     'key               NMTOKEN               #IMPLIED
                     reg                CDATA                 #IMPLIED'>

<!-- Start and end attributes record the IDs of other elements to which
the current element is associated. -->
<!ENTITY % a.startendid
                     'endid             IDREF                 #IMPLIED
                     startid            IDREF                 #IMPLIED'>

<!-- Attributes common to text elements: The lang attribute should be
used to identify the language of the word or text phrase marked. Its
value must be the identifier of a <language> element supplied in the
MEI header of the current document. -->
<!ENTITY % a.lang
                     'lang              IDREF                 #IMPLIED'>

<!-- Attributes for elements encoding authorial or scribal intervention
when transcribing manuscript or similar sources: The hand attribute
signifies the hand of the agent which made the intervention. Its value
must be the ID of hand element declared in the header. The seq attribute
may be used to assign a sequence number related to the order in which
the encoded features carrying this attribute are believed to have
occurred. -->
<!ENTITY % a.trans
                     'hand              IDREF                 #IMPLIED
                     seq                %INTEGERPOSITIVE;     #IMPLIED'>

<!-- Attributes which can be used to classify or subclassify elements in
any way -->
<!ENTITY % a.typed
                     'subtype           NMTOKEN               #IMPLIED
                     type               NMTOKEN               #IMPLIED'>

<!-- Typographical attributes -->
<!ENTITY % a.typography
                     'fontfam           %FONTFAMILY;          #IMPLIED
                     fontname           %FONTNAME;            #IMPLIED
                     fontsize           %NUMBER;              #IMPLIED
                     fontstyle          %FONTSTYLE;           #IMPLIED
                     fontweight         %FONTWEIGHT;          #IMPLIED'>

<!-- Some items may have their location recorded in terms of offsets
from their programmatically-determined location. The ho attribute
records the horizontal offset while vo records the vertical. The to
attribute holds a timestamp offset, the most common use of which is as
an alternative to ho. -->
<!ENTITY % a.visualoffset
                     'ho                %VISUALOFFSET;        #IMPLIED
                     to                 %TSTAMPOFFSET;        #IMPLIED
                     vo                 %VISUALOFFSET;        #IMPLIED'>

<!-- Some elements may have their exact "output" coordinates recorded: x
and y indicate where to place the rendered output. Recording the
coordinates of a feature in a facsimile requires the use of the facs
attribute. -->
<!ENTITY % a.xy
                     'x                 %NUMBER;              #IMPLIED
                     y                  %NUMBER;              #IMPLIED'>

<!ENTITY % a.xy.required
                     'x                 %NUMBER;              #REQUIRED
                     y                  %NUMBER;              #REQUIRED'>
                     
<!-- Some elements need 2 coordinate pairs -->
<!ENTITY % a.xy2
                     'x2                %NUMBER;              #IMPLIED
                     y2                 %NUMBER;              #IMPLIED'>
                     
<!ENTITY % a.xy2.required
                     'x2                %NUMBER;              #REQUIRED
                     y2                 %NUMBER;              #REQUIRED'>

<!-- ************************************************************** -->
<!-- Element model classes                                          -->
<!-- ************************************************************** -->

<!-- Location/referencing elements. This entity must be declared before
the m.anchoredtext entity. -->
<!ENTITY % m.locref  '%n.extptr;|%n.extref;|%n.ptr;|%n.ref;'>

<!-- Anchored text sub-elements. These occur as part of the
representation of the score, as opposed to the textual matter which
accompanies it. m.anchoredtext is equivalent to %m.textinline without
the pb element. -->
<!ENTITY % m.anchoredtext
                     '%n.abbr;|%n.address;|%n.annot;|%n.bibl;|%n.corpname;|
                     %n.date;|%n.expan;|%n.geogname;|%n.identifier;|
                     %n.lb;|%n.name;|%n.num;|%n.periodname;|%n.persname;|
                     %n.rend;|%n.repository;|%n.stack;|%n.stylename;|
                     %n.title;|%m.locref;'>

<!-- MIDI events -->
<!ENTITY % m.midievents
                     '%n.cc;|%n.chan;|%n.chanpr;|%n.cue;|%n.hex;|
                     %n.marker;|%n.metatext;|%n.noteoff;|%n.noteon;|
                     %n.port;|%n.prog;|%n.seqnum;|%n.trkname;|%n.vel;'>

<!-- Unless the meiMIDI entity's value is INCLUDE, the m.midi class
of elements is not available.  To activate them, the meiMIDI entity
must be set to INCLUDE in the internal DTD subset or in the
meiModifications.ent file. This entity must be declared before the
m.controlevents entity. -->
<![%meiMIDI;[
  <!ENTITY % m.midi '|%n.midi;'>
]]>
<!ENTITY % m.midi   ''>

<!-- Control events modify or otherwise depend on the existence of
notated events. -->
<!ENTITY % m.controlevents.mensural ''>
<!ENTITY % m.controlevents.base
                     '%n.annot;|%n.arpeg;|%n.beamspan;|%n.bend;|
                     %n.breath;|%n.dir;|%n.dynam;|%n.fermata;|
                     %n.gliss;|%n.hairpin;|%n.harm;|%n.harppedal;|
                     %n.lyrics;|%n.mordent;|%n.octave;|%n.pedal;|
                     %n.phrase;|%n.reh;|%n.slur;|%n.tempo;|%n.tie;|
                     %n.trill;|%n.tupletspan;|%n.turn; %m.midi;'>
<!ENTITY % m.controlevents
                     '%m.controlevents.base;
                     %m.controlevents.mensural;'>

<!-- Notated events. Sometimes referred to as "logical" events. The
mrest, mrpt, mspace, multirest, and multirpt elements are not included
in this list since in the measure element's content model they are
alternatives to the elements listed here. They are, however, part of the
a.events class. -->
<!ENTITY % m.events.base
                     '%n.clefchange;|%n.note;|%n.pad;|%n.rest;|%n.space;'>
<!ENTITY % m.events.neume
                      '|%n.ineume;|%n.uneume;|%n.syllable;'>
<!ENTITY % m.events.neume ''>
<!ENTITY % m.events.mensural
                      '|%n.barline;|%n.dot;|%n.ligature;|%n.keychange;|
                      %n.mensurchange;|%n.nota;|%n.pausa;|%n.proportchange;'>
<!ENTITY % m.events.mensural ''>
<!ENTITY % m.events.modern
                     '|%n.beam;|%n.beatrpt;|%n.btrem;|%n.chord;|%n.ftrem;|
                     %n.halfmrpt;|%n.tuplet;'>
<!ENTITY % m.events
                     '%m.events.base;
                     %m.events.neume;
                     %m.events.mensural;
                     %m.events.modern;'>

<!-- Graphic primitives: curves, lines, symbols (made up of curves,
lines, symbols, or anchored text), and anchoredtext -->
<!ENTITY % m.primitives
                     '%n.curve;|%n.line;|%n.symbol;|%n.anchoredtext;'>

<!-- Lowest level text elements. Since these elements can occur in more
than one module, they're declared in the meiShared DTD. -->
<!ENTITY % m.textinline
                     '%n.abbr;|%n.address;|%n.bibl;|%n.corpname;|
                     %n.date;|%n.expan;|%n.geogname;|%n.identifier;|
                     %n.lb;|%n.name;|%n.num;|%n.pb;|%n.periodname;|
                     %n.persname;|%n.rend;|%n.repository;|%n.stack;|
                     %n.stylename;|%n.title;|%m.locref;'>

<!-- Block level text elements. These elements are declared in the
meiShared DTD. -->
<!ENTITY % m.textcomponents
                     '%n.blockquote;|%n.fig;|%n.lg;|%n.list;|
                     %n.p;|%n.table;'>

<!-- Some element classes have different members when certain parameter
entities are invoked in the internal subset. -->
<!-- Unless the meiEdit entity's value is INCLUDE, the m.edit class
of elements is not available.  To activate them, the meiEdit entity
must be set to INCLUDE in the internal DTD subset or in the
meiModifications.ent file. -->
<![%meiEdit;[
  <!ENTITY % m.edit
                     '|%n.add;|%n.choice;|%n.corr;|%n.damage;|%n.del;|
                     %n.orig;|%n.reg;|%n.restore;|%n.sic;|%n.supplied;|
                     %n.unclear;|%n.handshift;|%n.gap;|%n.subst;'>
  <!ENTITY % m.choice
                     '%n.abbr;|%n.choice;|%n.corr;|%n.expan;|%n.orig;|
                     %n.reg;|%n.sic;|%n.unclear;'>
  <!ENTITY % m.subst
                     '%n.add;|%n.corr;|%n.damage;|%n.del;|%n.orig;|
                     %n.reg;|%n.restore;|%n.sic;|%n.supplied;|%n.unclear;'>
]]>
<!ENTITY % m.edit ''>

<!-- Content model of the bibl, extref, and ref elements. The
% m.textinline entity must be declared prior to the m.bibl entity. -->
<!ENTITY % m.bibl '%n.edition;|%m.textinline;'>

<!-- The content model of the date element is similar to the content
model of textinline without date or other mid-level text structures, such
as address, bibl, etc. This declaration must follow the declaration of
the m.edit entity. -->
<!ENTITY % m.date    '(#PCDATA|%n.abbr;|%n.expan;|%n.lb;|%n.num;|%n.pb;|
                     %n.rend;|%n.stack;|%m.locref; %m.edit;)*'>

<!-- The content model of the stack element is similar to the content
model of textinline without the stack element. -->
<!ENTITY % m.stack   '(#PCDATA|%n.abbr;|%n.address;|%n.bibl;|
                     %n.corpname;|%n.date;|%n.expan;|%n.geogname;|
                     %n.identifier;|%n.lb;|%n.num;|%n.periodname;|
                     %n.persname;|%n.rend;|%n.stylename;|%n.title;|
                     %m.locref; %m.edit;)*'>

<!-- Paragraph content model. A paragraph may contain inline elements
and all the other block-level elements except lg and itself. The
% m.textinline entity must be declared prior to the m.paracontent
entity. -->
<!ENTITY % m.paracontent
                     '%n.blockquote;|%n.fig;|%n.list;|%n.table;|
                     %m.textinline; %m.edit;'>

<!-- Unless the meiFac entity's value is INCLUDE, the m.facsimile class
of elements is not available.  To activate them, the meiFac entity must
be set to INCLUDE in the internal DTD subset or in the
meiModifications.ent file. -->
<![%meiFacs;[
  <!ENTITY % m.facsimile  "(%n.facsimile;)*,">
]]>
<!ENTITY % m.facsimile "">

<!-- Unless the meiCrit entity's value is INCLUDE, the app tag and its rdg
sub-elements are not available.  To activate them, the meiCrit entity must
be set to INCLUDE in the internal DTD subset or in the meiModifications.ent
file. -->
<!ENTITY % meiCrit 'IGNORE'>
<![%meiCrit;[
  <!ENTITY % m.apparatus '|%n.app;'>
]]>
<!-- When meiCrit is IGNOREd, use the following declaration. -->
<!ENTITY % m.apparatus    ''>

<!-- Default element class declarations for "out-of-the-box" MEI. -->

<!-- By default the content model of the clefchange element is empty. -->
<!ENTITY % m.clefchange '(%n.clef;)*'>
<!-- <!ENTITY % m.clefchange 'EMPTY'> -->

<!-- Notated events at the layer level -->
<!ENTITY % m.layer   '%m.events;|%n.mrest;|%n.mrpt;|%n.mrpt2;|
                     %n.mspace;|%n.multirest;|%n.multirpt;|%m.controlevents; %m.edit;'>

<!-- Measure content model (all) -->
<!ENTITY % m.measure '((%n.staff;|%n.layer;|%m.layer; %m.apparatus; %m.edit;)*
                     |(%n.mrest;|%n.mrpt;|%n.mrpt2;|%n.mspace;
                     |%n.multirest;|%n.multirpt;)?)'>
<!-- Measure content model (default)
<!ENTITY % m.measure '((%n.staff; %m.apparatus; %m.edit;)*
                     |(%n.mrest;|%n.mrpt;|%n.mrpt2;|%n.mspace;
                     |%n.multirest;|%n.multirpt;)?)'> -->

<!-- Multiple clefs -->
<!ENTITY % m.multidef ''>

<!-- Reading content model -->
<!ENTITY % m.rdg     '( %n.scoredef;
                      | %n.staffgrp;
                      | %n.staffdef;
                      | (%n.section;, (%n.ending;)*)
                      | %n.div;
                      | ((%n.measure;)*, (%n.pb;|%n.sb;)?)*
                      | (%n.layer;|%m.events;)*
                      | ((%n.staff; %m.edit;)*, (%n.ossia;)*, (%m.controlevents;)*, (%m.primitives;)*)
                      %m.apparatus;
                    )'>

<!-- Score content model (all) -->
<!ENTITY % m.score   '|((%n.measure;|%n.pb;|%n.sb;)*)|(%n.staff;)*'>
<!-- Score content model (default)
<!ENTITY % m.score   '|((%n.measure;)?, (%n.pb;|%n.sb;)?)*'> -->

<!-- Staff content model (all) -->
<!ENTITY % m.staff   '(%n.layer;|%n.measure;|%n.pb;|%n.sb;|%m.layer;|%m.controlevents;|%m.primitives; %m.apparatus;)*'>
<!-- Staff content model (default)
<!ENTITY % m.staff   '(%n.layer;|%m.layer; %m.apparatus;)*'> -->

<!-- ************************************************************** -->
<!-- Declare attributes in each musical domain, e.g. analytical,
gestural, visual, for the musical elements in separate parameter
entities. This documents which domain an attribute operates in and
makes it easier to modify the attributes in a given domain
independently of the others. Declaring these here rather than in the
base tagset makes them available in any element models declared in the
meiModifications.dtd file.                                          -->
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- For the base tagset, declare attributes in each musical domain,
e.g. analytical, gestural, and visual, in separate parameter entities.
This documents which domain an attribute operates in and makes it
easier to modify the attributes in a given domain independently of the
others. Declaring these here rather than in the individual tagsets
makes them available in any element models declared in the
meiModifications.dtd file.                                          -->
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- * Attributes for barline                                     * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.barline
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.barline ''>
                     
<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.barline
                     ''>
]]>
<!ENTITY % a.ges.barline
                     'tstamp            CDATA                 #IMPLIED'>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.barline
                     'complete          (c|i|o)               #IMPLIED
                     control            %BOOLEAN;             #IMPLIED
                     measref            IDREF                 #IMPLIED
                     rend               %BARRENDITION;        #IMPLIED'>
                     
<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.barline
                     '%a.color;
                     barplace           %BARPLACE;            #IMPLIED
                     taktplace          %STAFFLOC;            #IMPLIED
                     width              %NUMBER;              #IMPLIED'>
]]>
<!ENTITY % a.vis.barline ''>

<!-- ************************************************************** -->
<!-- * Attributes for clef                                        * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.clef
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.clef ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.clef ''>
]]>
<!ENTITY % a.ges.clef ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.clef
                     'line              %CLEFLINE;            #REQUIRED
                     octave.default     %OCTAVE;              #IMPLIED
                     shape              %CLEFSHAPE;           #REQUIRED
                     trans              %CLEFTRAN;            #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.clef
                     '%a.color;
                     altsym            IDREF                 #IMPLIED'>
]]>
<!ENTITY % a.vis.clef  ''>

<!-- ************************************************************** -->
<!-- * Attributes for custos                                      * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.custos
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.custos ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.custos ''>
]]>
<!ENTITY % a.ges.custos ''>

<!-- Logical domain attributes: The pname and oct attributes identify
the location where the custos appears.  This is usually, but not always,
the same as the target pitch.  The target pitch may be referenced using
the target attribute. -->
<!ENTITY % a.log.custos
                    'oct                %OCTAVE;              #REQUIRED             
                    pname               %PITCHNAME;           #REQUIRED
                    source              IDREF                 #IMPLIED
                    target              IDREF                 #IMPLIED'>

<!-- Visual domain attributes: The rend attribute indicates whether
hash marks should be rendered between systems. See Read, p. 436, ex.
26-3. -->
<![%meiVisual;[
  <!ENTITY % a.vis.custos
                     '%a.color;'>
]]>
<!ENTITY % a.vis.custos ''>

<!-- ************************************************************** -->
<!-- * Attributes for dot                                         * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.dot
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.dot ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.dot ''>
]]>
<!ENTITY % a.ges.dot ''>

<!-- Logical domain attributes:  -->
<!ENTITY % a.log.dot
                    'form               (aug|div)             #IMPLIED
                    loc                 %STAFFLOC;            #IMPLIED'>

<!-- Visual domain attributes:  -->
<![%meiVisual;[
  <!ENTITY % a.vis.dot
                     '%a.color;
                     %a.xy;'>
]]>
<!ENTITY % a.vis.dot ''>


<!-- ************************************************************** -->
<!-- * Attributes for ending                                      * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.ending
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.ending ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.ending ''>
]]>
<!ENTITY % a.ges.ending ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.ending ''>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.ending ''>
]]>
<!ENTITY % a.vis.ending ''>

<!-- ************************************************************** -->
<!-- * Attributes for grpsym                                      * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.grpsym
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.grpsym ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.grpsym ''>
]]>
<!ENTITY % a.ges.grpsym ''>

<!-- Logical domain attributes: The staves attribute must be used when
multiple grpsym elements are present. The label.* attributes should be
used instead of n. -->
<!ENTITY % a.log.grpsym
                     'barthru           %BOOLEAN;             #IMPLIED
                     label.abbr         CDATA                 #IMPLIED
                     label.full         CDATA                 #IMPLIED
                     start              CDATA                 #REQUIRED
                     end                CDATA                 #REQUIRED
                     symbol             (brace|bracket|line)  #REQUIRED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.grpsym
                     '%a.visualoffset;
                     %a.xy;'>
]]>
<!ENTITY % a.vis.grpsym ''>

<!-- ************************************************************** -->
<!-- * Attributes for interruped neume                            * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.ineume
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.ineume ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.ineume ''>
]]>
<!ENTITY % a.ges.ineume ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.ineume
                     'form              %INEUMEFORM;          #IMPLIED
                     name               %INEUME;              #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.ineume
                     '%a.color;'>
]]>
<!ENTITY % a.vis.ineume ''>

<!-- ************************************************************** -->
<!-- * Attributes for layer                                       * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.layer
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.layer ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.layer ''>
]]>
<!ENTITY % a.ges.layer ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.layer ''>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.layer
                    'visible            %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.layer ''>

<!-- ************************************************************** -->
<!-- * Attributes for layerdef                                    * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.layerdef ''>
]]>
<!ENTITY % a.anl.layerdef ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.layerdef
                     'grace             %GRACE;               %INHERITED;
                     midi.channel       %MIDICHANNEL;         %INHERITED;
                     midi.duty          %PERCENT;             %INHERITED;
                     midi.instr         %MIDIVALUE;           %INHERITED;
                     midi.instrname     CDATA                 %INHERITED;
                     midi.port          %MIDIVALUE;           %INHERITED;
                     midi.track         %INTEGERPOSITIVE;     %INHERITED;'>

]]>
<!ENTITY % a.ges.layerdef ''>

<!-- Logical domain attributes: The n attribute is provided for explicit
layer numbering. -->
<!ENTITY % a.log.layerdef.mensural ''>
<!ENTITY % a.log.layerdef.base
                     'beam.group        CDATA                 %INHERITED;
                     beam.rests         %BOOLEAN;             %INHERITED;
                     dur.default        %DURATIONS;           %INHERITED;
                     octave.default     %OCTAVE;              %INHERITED;'>
<!ENTITY % a.log.layerdef
                     '%a.log.layerdef.base;
                     %a.log.layerdef.mensural;'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.layerdef.mensural ''>
  <!ENTITY % a.vis.layerdef.base
                     'beam.rend         (acc|rit|norm)        %INHERITED;
                     beam.slope         %NUMBER;              %INHERITED;
                     slur.rend          %CURVERENDITION;      %INHERITED;
                     text.fam           %FONTFAMILY;          %INHERITED;
                     text.name          %FONTNAME;            %INHERITED;
                     text.size          %NUMBER;              %INHERITED;
                     text.style         %FONTSTYLE;           #IMPLIED
                     text.weight        %FONTWEIGHT;          #IMPLIED
                     tie.rend           %CURVERENDITION;      %INHERITED;
                     visible            %BOOLEAN;             %INHERITED;'>
  <!ENTITY % a.vis.layerdef
                     '%a.vis.layerdef.base;
                     %a.vis.layerdef.mensural;'>
]]>
<!ENTITY % a.vis.layerdef ''>

<!-- ************************************************************** -->
<!-- * Attributes for ligature                                    * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.ligature
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.ligature ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.ligature ''>
]]>
<!ENTITY % a.ges.ligature ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.ligature
                     'form              %LIGATUREFORM;        #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.ligature ''>
]]>
<!ENTITY % a.vis.ligature ''>

<!-- ************************************************************** -->
<!-- * Attributes for mensur                                      * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.mensur
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.mensur ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.mensur ''>
]]>
<!ENTITY % a.ges.mensur ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.mensur
                     'modusmaior        (2|3)                 #IMPLIED
                     modusminor         (2|3)                 #IMPLIED
                     num                %INTEGERPOSITIVE;     #IMPLIED
                     numbase            %INTEGERPOSITIVE;     #IMPLIED
                     prolatio           (2|3)                 #IMPLIED
                     tempus             (2|3)                 #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.mensur
                     '%a.color;
                     dot                %BOOLEAN;             #IMPLIED
                     form               (horizontal|vertical) #IMPLIED
                     loc                %STAFFLOC;            #IMPLIED
                     orient             (reversed|90CW|90CCW) #IMPLIED
                     sign               %MENSURATIONSIGN;     #IMPLIED
                     size               %SIZE;                #IMPLIED
                     slash              %INTEGERPOSITIVE;     #IMPLIED'>
]]>
<!ENTITY % a.vis.mensur ''>

<!-- ************************************************************** -->
<!-- * Attributes for proport                                     * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.proport
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.proport ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.proport ''>
]]>
<!ENTITY % a.ges.proport ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.proport
                     'num               %INTEGERPOSITIVE;     #REQUIRED
                     numbase            %INTEGERPOSITIVE;     #REQUIRED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.proport
                     ''>
]]>
<!ENTITY % a.vis.proport ''>

<!-- ************************************************************** -->
<!-- * Attributes for part                                        * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.part
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.part ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.part ''>
]]>
<!ENTITY % a.ges.part ''>

<!-- Logical domain attributes: The n attribute allows explicit
numbering of parts. -->
<!ENTITY % a.log.part ''>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.part ''>
]]>
<!ENTITY % a.vis.part ''>

<!-- ************************************************************** -->
<!-- * Attributes for parts                                       * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.parts
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.parts ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.parts ''>
]]>
<!ENTITY % a.ges.parts ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.parts ''>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.parts ''>
]]>
<!ENTITY % a.vis.parts ''>

<!-- ************************************************************** -->
<!-- * Attributes for rdg                                         * -->

<!-- Analytical domain attributes: The priority attribute is available
so that variant readings may be assigned an order, e.g., for selection
and/or rendering purposes, other than the encoded order. The resp
attribute identifies the editor responsible for asserting this reading
in the source. -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.rdg
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.rdg ''>

<!-- Gestural domain attributes: The expan attribute contains a list of
ids of child section, ending or app elements. This 'expansion list'
indicates how the section should be expanded into its 'through-composed'
form. -->
<![%meiGestural;[
  <!ENTITY % a.ges.rdg
                     'expan             IDREFS                #IMPLIED'>
]]>
<!ENTITY % a.ges.rdg ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.rdg ''>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.rdg ''>
]]>
<!ENTITY % a.vis.rdg ''>

<!-- ************************************************************** -->
<!-- * Attributes for sb                                          * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.sb
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.sb ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.sb ''>
]]>
<!ENTITY % a.ges.sb ''>

<!-- Adding the following attributes:
                    leftmar             %NUMBER;              #IMPLIED
                    rightmar            %NUMBER;              #IMPLIED
                    spacing.staff       %NUMBER;              #IMPLIED
to a.log.sb would make it possible to record layout changes without
requiring them to be at section boundaries. -->
<!ENTITY % a.log.sb 'source             IDREFS                #IMPLIED'>

<!-- Visual domain attributes: The rend attribute indicates whether
hash marks should be rendered between systems. See Read, p. 436, ex.
26-3. -->
<![%meiVisual;[
  <!ENTITY % a.vis.sb
                     'rend              (hash)                #IMPLIED'>
]]>
<!ENTITY % a.vis.sb ''>

<!-- ************************************************************** -->
<!-- * Attributes for score                                       * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.score
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.score ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.score ''>
]]>
<!ENTITY % a.ges.score ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.score ''>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.score ''>
]]>
<!ENTITY % a.vis.score ''>

<!-- ************************************************************** -->
<!-- * Attributes for scoredef                                    * -->

<!-- Analytical domain attributes: Since the score element carries
analytical attributes for the score, it is unlikely a.anl.scoredef will
ever be used. -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.scoredef ''>
]]>
<!ENTITY % a.anl.scoredef ''>

<!-- Gestural domain attributes: 
   Definitions and suggested default values:
   grace              do grace notes get time from the current (acc) or
                      previous (unacc) main note? 'acc'
   midi.channel       '1'
   midi.div           MIDI pulses per quarter note '96'
   midi.duty          specifies the 'on' part of the duty cycle as a
                      percentage. '80'
   midi.instr         General MIDI instrument number '1'
   midi.instrname     General MIDI instrument name 'Acoustic Piano'
   midi.port          MIDI port number '1'
   midi.tempo         quarter notes per minute '120'
   midi.track         MIDI track number '1'
   tempo              beats per minute '120'
   tune.pname         name of tuning reference pitch 'a'
   tune.Hz            frequency of tuning reference pitch '440'
   tune.temper        temperament 'equal'
-->
<![%meiGestural;[
  <!ENTITY % a.ges.scoredef
                     'grace             %GRACE;               #IMPLIED
                     midi.channel       %MIDICHANNEL;         #IMPLIED
                     midi.div           %INTEGERPOSITIVE;     #IMPLIED
                     midi.duty          %PERCENT;             #IMPLIED
                     midi.instr         %MIDIVALUE;           #IMPLIED
                     midi.instrname     CDATA                 #IMPLIED
                     midi.port          %MIDIVALUE;           #IMPLIED
                     midi.tempo         %MIDITEMPO;           #IMPLIED
                     midi.track         %INTEGERPOSITIVE;     #IMPLIED
                     tempo              %TEMPOVALUE;          #IMPLIED
                     tune.pname         %PITCHNAME;           #IMPLIED
                     tune.Hz            %NUMBER;              #IMPLIED
                     tune.temper        %TEMPERAMENT;         #IMPLIED'>
]]>
<!ENTITY % a.ges.scoredef
                     ''>

<!-- Logical domain attributes:
   beam.group         an example of how beaming (including secondary
                      beams) is to be done, e.g. (4.,4.,4.) indicates one
                      outer beam per measure with secondary beams broken
                      at each dotted quarter duration, no default
   beam.rests         should beams include rests shorter than a quarter
                      duration?, 'no'
   clef.line          position of the clef, '2'
   clef.shape         clef, 'G'
   clef.trans         octave shift indicated by the clef, '0'
   dur.default        default duration, '4'
   key.accid          tonic accidental, i.e., 's' or 'f', no default
   key.mode           mode, 'major'
   key.pname          tonic pitchname, no default
   key.sig            effective key signature, no default
   key.sig.mixed      key signature contains both sharps and flats, no
                      default
   meter.count        number of beats per measure, top number of the meter
                      sig, no default
   meter.sym          display a symbol, e.g. C, instead of numbers, like
                      4/4, no default
   meter.unit         beat unit, bottom number of the meter sig, no default
   octave.default     default octave when octave isn't specified on the
                      first note of the measure, '4'
   trans.diat         amount of diatonic pitch shift, e.g. C to C# = 0, C
                      to Db = 1, '0'
   trans.semi         amount of pitch shift in semitones, e.g. C to C# =
                      1, C to Db = 1, '0'. (Transposition requires both
                      trans.diat and trans.semi.)
-->
<!ENTITY % a.log.scoredef.mensural
                     'mensur            %MENSURATIONSIGN;     #IMPLIED
                     mensur.dot         %BOOLEAN;             #IMPLIED
                     mensur.slash       %INTEGERPOSITIVE;     #IMPLIED
                     modusmaior         (2|3)                 #IMPLIED
                     modusminor         (2|3)                 #IMPLIED
                     num                %INTEGERPOSITIVE;     #IMPLIED
                     numbase            %INTEGERPOSITIVE;     #IMPLIED
                     prolatio           (2|3)                 #IMPLIED
                     proport.num        %INTEGERPOSITIVE;     #IMPLIED
                     proport.numbase    %INTEGERPOSITIVE;     #IMPLIED
                     tempus             (2|3)                 #IMPLIED'>
<!ENTITY % a.log.scoredef.base
                     'beam.group        CDATA                 #IMPLIED
                     beam.rests         %BOOLEAN;             #IMPLIED
                     clef.line          %CLEFLINE;            #IMPLIED
                     clef.shape         %CLEFSHAPE;           #IMPLIED
                     clef.trans         %CLEFTRAN;            #IMPLIED
                     dur.default        %DURATIONS;           #IMPLIED
                     key.accid          %ACCIDENTAL.IMPLICIT; #IMPLIED
                     key.mode           %MODE;                #IMPLIED
                     key.pname          %PITCHNAME;           #IMPLIED
                     key.sig            %KEYSIGNATURE;        #IMPLIED
                     key.sig.mixed      CDATA                 #IMPLIED
                     meter.count        %NUMBER;              #IMPLIED
                     meter.sym          %METERTEXT;           #IMPLIED
                     meter.unit         %NUMBER;              #IMPLIED
                     octave.default     %OCTAVE;              #IMPLIED
                     trans.diat         %NUMBER;              #IMPLIED
                     trans.semi         %NUMBER;              #IMPLIED'>
<!ENTITY % a.log.scoredef
                     '%a.log.scoredef.base;
                     %a.log.scoredef.mensural;'>

<!-- Visual domain attributes: 
   Definitions and suggested software default values:
   mnum.visible       are measure numbers visible?, 'no'
   bar.place          placement of barlines, 'norm'
   beam.rend          encodes whether a beam is feathered and in which
                      direction, 'norm'
   beam.slope         default beam slope, Mup uses '1.0, 25.0'
   clef.color         hexadecimal RGB/name color value
   clef.visible       are clefs visible?, 'yes'
   dynam.dist         how far from staff to render dynamic marks, '2'
   ending.rend        where to draw ending marks, 'top'
   grid.show          display chord grids?, 'no'
   harm.dist          how far from staff to render harmony, '2'
   key.sig.show       display key signature?, 'yes'
   key.sig.showchange display cautionary key signature change?, 'yes'
   lyric.align        alignment of lyrics beneath notes, Mup uses '0.25'
   lyric.fam          font family for lyrics, 'times'
   lyric.name         font name for lyrics, 'rom'
   lyric.size         point size of lyrics, '12'
   meter.rend         display meter normally (3/4), with symbol as denom,
                      or invis, 'norm'
   meter.sig.showchange display cautionary meter signature change?, 'yes'
   ontheline          governs display of notes on a 1-line staff, 'yes'
   optimize           display only those staves with notes?, 'no'
   ** page.* attributes apply to the entire score/part
   page.height        height of page, '11'
   page.width         width of page, '8.5'
   page.units         real-world measurement (inches, centimeters,
                      millimeters), 'in'
   page.topmar        top page margin, '1'
   page.botmar        bottom page margin, '1'
   page.leftmar       left page margin, '.5'
   page.rightmar      right page margin, '.5'
   page.panels        number of logical pages to place on physical page, '1'
   page.scale         scale printed output by the specified percentage, '100'
   pedal.rend         are piano pedal marks drawn as lines or as terms
                      (e.g. 'Ped.' & '*'), 'term'
   reh.enclose        default look of rehearsal letters/numbers, 'box'
   slur.rend          default look of slurs, 'medium'
   spacing.packexp    note spacing relative to its time value, '0.8'
   spacing.packfact   note spacing of output, '1'
   spacing.staff      minimum amount of space between staves in the same
                      system, '2'
   spacing.system     minimum and maximum amount of space between systems,
                      '12, 20'
   system.leftmar     left system margin relative to page.leftmar, '0'
   system.rightmar    right system margin relative to page.rightmar, '0'
   system.topmar      distance from page's top edge to the first system,
                      used for first page only
   text.dist          how far from staff to render text, '2'
   text.fam           font family for text, 'times'
   text.nam           font name for text, 'rom'
   text.size          point size of text, '12'
   tie.rend           default look of ties, 'medium'
-->

<![%meiVisual;[
  <!ENTITY % a.vis.scoredef.mensural
                     'mensur.form       (horizontal|vertical) #IMPLIED
                     mensur.loc         %INTEGERPOSITIVE;     #IMPLIED
                     mensur.orient      (reversed|90CW|90CCW) #IMPLIED
                     mensur.size        %SIZE;                #IMPLIED'>
  <!ENTITY % a.vis.scoredef.base
                     'bar.place         %BARPLACE;            #IMPLIED
                     beam.rend          (acc|rit|norm)        #IMPLIED
                     beam.slope         %NUMBER;              #IMPLIED
                     clef.color         %COLOR;               #IMPLIED
                     clef.visible       %BOOLEAN;             #IMPLIED
                     dynam.dist         %NUMBER;              #IMPLIED
                     ending.rend        (top|barred|grouped)  #IMPLIED
                     grid.show          %BOOLEAN;             #IMPLIED
                     harm.dist          %NUMBER;              #IMPLIED
                     key.sig.show       %BOOLEAN;             #IMPLIED
                     key.sig.showchange %BOOLEAN;             #IMPLIED
                     lyric.align        %NUMBER;              #IMPLIED
                     lyric.fam          %FONTFAMILY;          #IMPLIED
                     lyric.name         %FONTNAME;            #IMPLIED
                     lyric.size         %NUMBER;              #IMPLIED
                     lyric.style        %FONTSTYLE;           #IMPLIED
                     lyric.weight       %FONTWEIGHT;          #IMPLIED
                     meter.rend         (denomsym|norm|invis) #IMPLIED
                     meter.sig.showchange
                                        %BOOLEAN;             #IMPLIED
                     mnum.visible       %BOOLEAN;             #IMPLIED
                     multi.number       %BOOLEAN;             #IMPLIED
                     music.name         %MUSICFONT;           #IMPLIED
                     music.size         %NUMBER;              #IMPLIED
                     ontheline          %BOOLEAN;             #IMPLIED
                     optimize           %BOOLEAN;             #IMPLIED
                     page.height        %NUMBER;              #IMPLIED
                     page.width         %NUMBER;              #IMPLIED
                     page.units         %PGUNITS;             #IMPLIED
                     page.topmar        %NUMBER;              #IMPLIED
                     page.botmar        %NUMBER;              #IMPLIED
                     page.leftmar       %NUMBER;              #IMPLIED
                     page.rightmar      %NUMBER;              #IMPLIED
                     page.panels        (1|2)                 #IMPLIED
                     page.scale         %PGSCALE;             #IMPLIED
                     pedal.rend         (line|term)           #IMPLIED
                     reh.enclose        (box|circle|none)     #IMPLIED
                     slur.rend          %CURVERENDITION;      #IMPLIED
                     spacing.packexp    %NUMBER;              #IMPLIED
                     spacing.packfact   %NUMBER;              #IMPLIED
                     spacing.staff      %NUMBER;              #IMPLIED
                     spacing.system     CDATA                 #IMPLIED
                     system.leftmar     %NUMBER;              #IMPLIED
                     system.rightmar    %NUMBER;              #IMPLIED
                     system.topmar      %NUMBER;              #IMPLIED
                     text.dist          %NUMBER;              #IMPLIED
                     text.fam           %FONTFAMILY;          #IMPLIED
                     text.name          %FONTNAME;            #IMPLIED
                     text.size          %NUMBER;              #IMPLIED
                     text.style         %FONTSTYLE;           #IMPLIED
                     text.weight        %FONTWEIGHT;          #IMPLIED
                     tie.rend           %CURVERENDITION;      #IMPLIED'>
  <!ENTITY % a.vis.scoredef
                     '%a.vis.scoredef.base;
                     %a.vis.scoredef.mensural;'>
]]>
<!ENTITY % a.vis.scoredef ''>

<!-- Score-level encoding strategies for:
   a) alternating meter sig, e.g. 2/4 3/4 in alternating measures (Read,
      p. 164-165) and combined meters (Read, p.166-168): explicitly
      encode meters, make them invisible, display both meter sigs at the
      start of the section
   b) compound meter sig, e.g. 2+3+2/4 (Read, p. 168-170): set
      meter.count=2+3+2
   c) polymeters, e.g. different simultaneous meters (Read, p. 170-173):
      1. where barlines coincide, use beaming to elucidate the polymeter
      2. where barlines sometimes coincide, break into measures
      according to a common unit of time, draw barlines where visually
      required
      3. where barlines never coincide, encode as parts only
   d) mixed meter sig, e.g. 2/4 + 3/16 in the same measure (Read, p.
      173-174): encode in common time base, e.g. 11/16, make meter
      invisible, display both meter sigs at the start of the measure
   e) fractional meter sig, e.g. 3.5/4 (Read, p. 175-177):
      set meter.count=3.5
      The beat count may be displayed as a fraction or as its decimal
      equivalent.
-->

<!-- ************************************************************** -->
<!-- * Attributes for section                                     * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.section
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.section ''>

<!-- Gestural domain attributes: The expan attribute contains a list of
ids of child section, ending or app elements. This 'expansion list'
indicates how the section should be expanded into its 'through-composed'
form. See Read, p. 226 (ex. 12-10), 228-229 (ex. 12-16). -->
<![%meiGestural;[
  <!ENTITY % a.ges.section
                     'expan             IDREFS                #IMPLIED'>
]]>
<!ENTITY % a.ges.section ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.section ''>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.section ''>
]]>
<!ENTITY % a.vis.section ''>

<!-- ************************************************************** -->
<!-- * Attributes for staff                                       * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.staff
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.staff ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.staff ''>
]]>
<!ENTITY % a.ges.staff ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.staff ''>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.staff
                     'visible           %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.staff ''>

<!-- ************************************************************** -->
<!-- * Attributes for staffdef                                    * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.staffdef ''>
]]>
<!ENTITY % a.anl.staffdef ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.staffdef.tablature
                     'tab.strings       CDATA                 #IMPLIED'>
  <!ENTITY % a.ges.staffdef.base
                     'grace             %GRACE;               %INHERITED;
                     midi.channel       %MIDICHANNEL;         %INHERITED;
                     midi.div           %INTEGERPOSITIVE;     %INHERITED;
                     midi.duty          %PERCENT;             %INHERITED;
                     midi.instr         %MIDIVALUE;           %INHERITED;
                     midi.instrname     CDATA                 %INHERITED;
                     midi.port          %MIDIVALUE;           %INHERITED;
                     midi.track         %INTEGERPOSITIVE;     %INHERITED;'>
                     <!-- Adding tune.pname, tune.Hz, and tune.temper
                     attributes here would allow each staff to establish
                     its own tuning standard. -->
  <!ENTITY % a.ges.staffdef '%a.ges.staffdef.base;
                            %a.ges.staffdef.tablature;'>
]]>
<!ENTITY % a.ges.staffdef ''>

<!-- Logical domain attributes: The n attribute is provided for explicit
staff numbering. -->
<!ENTITY % a.log.staffdef.mensural
                     'mensur.sign       %MENSURATIONSIGN;     #IMPLIED
                     mensur.dot         %BOOLEAN;             #IMPLIED
                     mensur.slash       %INTEGERPOSITIVE;     #IMPLIED
                     modusmaior         (2|3)                 #IMPLIED
                     modusminor         (2|3)                 #IMPLIED
                     num                %INTEGERPOSITIVE;     #IMPLIED
                     numbase            %INTEGERPOSITIVE;     #IMPLIED
                     prolatio           (2|3)                 #IMPLIED
                     proport.num        %INTEGERPOSITIVE;     #IMPLIED
                     proport.numbase    %INTEGERPOSITIVE;     #IMPLIED
                     tempus             (2|3)                 #IMPLIED'>
<!ENTITY % a.log.staffdef.base
                     'beam.group        CDATA                 %INHERITED;
                     beam.rests         %BOOLEAN;             %INHERITED;
                     clef.line          %CLEFLINE;            %INHERITED;
                     clef.shape         %CLEFSHAPE;           %INHERITED;
                     clef.trans         %CLEFTRAN;            %INHERITED;
                     dur.default        %DURATIONS;           %INHERITED;
                     key.accid          %ACCIDENTAL.IMPLICIT; #IMPLIED
                     key.mode           %MODE;                %INHERITED;
                     key.pname          %PITCHNAME;           #IMPLIED
                     key.sig            %KEYSIGNATURE;        %INHERITED;
                     key.sig.mixed      CDATA                 %INHERITED;
                     meter.count        %NUMBER;              #IMPLIED
                     meter.sym          %METERTEXT;           #IMPLIED
                     meter.unit         %NUMBER;              #IMPLIED
                     octave.default     %OCTAVE;              %INHERITED;
                     trans.diat         %NUMBER;              %INHERITED;
                     trans.semi         %NUMBER;              %INHERITED;'>
<!ENTITY % a.log.staffdef
                     '%a.log.staffdef.base;
                     %a.log.staffdef.mensural;'>

<!-- Visual domain attributes: It is a semantic error if the clef.shape,
clef.line, key.sig, meter.count, and meter.unit attributes are not
supplied or are not available from a scoredef ancestor. The layerscheme
attribute indicates the number of layers and the stem direction. The
lines attribute indicates the number of stafflines. The lines.color
attribute is structured; that is, it should have the same number of
space-separated RGB values as indicated by the lines attribute. A line
can be made invisible by assigning it the same RGB value as the
background, usually white. The tab.strings attribute lists a written
pitch and octave for each open string, e.g. "e3 a3 d4 g4 b4 e5" for
standard guitar tuning. It should contain the number of tokens indicated
by the lines attribute. Chromatic alteration may be indicated with '-'
(flat) and '#' (sharp).  Double sharps and flats are not permitted.  The
spacing attribute should be used to record the absolute distance (as
opposed to the relative distances recorded in scoredef elements) between
this staff and the preceding one in the same system.  This value is
meaningless for the first staff in a system since the spacing.system
attribute indicates the spacing between systems. -->
<![%meiVisual;[
  <!ENTITY % a.vis.staffdef.mensural
                     'mensur.form       (horizontal|vertical) #IMPLIED
                     mensur.loc         %INTEGERPOSITIVE;     #IMPLIED
                     mensur.orient      (reversed|90CW|90CCW) #IMPLIED
                     mensur.size        %SIZE;                #IMPLIED'>
  <!ENTITY % a.vis.staffdef.base
                     'beam.rend         (acc|rit|norm)        %INHERITED;
                     beam.slope         %NUMBER;              %INHERITED;
                     clef.color         %COLOR;               %INHERITED;
                     clef.visible       %BOOLEAN;             %INHERITED;
                     dynam.dist         %NUMBER;              %INHERITED;
                     grid.show          %BOOLEAN;             %INHERITED;
                     harm.dist          %NUMBER;              %INHERITED;
                     key.sig.show       %BOOLEAN;             %INHERITED;
                     key.sig.showchange %BOOLEAN;             %INHERITED;
                     label.full         CDATA                 #IMPLIED
                     label.abbr         CDATA                 #IMPLIED
                     layerscheme        %LAYERSCHEME;         #IMPLIED
                     lines              %INTEGERPOSITIVE;     #IMPLIED
                     lines.color        NMTOKENS              #IMPLIED
                     lines.visible      %BOOLEAN;             #IMPLIED
                     lyric.align        %NUMBER;              %INHERITED;
                     lyric.fam          %FONTFAMILY;          %INHERITED;
                     lyric.name         %FONTNAME;            %INHERITED;
                     lyric.size         %NUMBER;              %INHERITED;
                     lyric.style        %FONTSTYLE;           #IMPLIED
                     lyric.weight       %FONTWEIGHT;          #IMPLIED
                     meter.rend         (denomsym|norm|invis) %INHERITED;
                     meter.sig.showchange
                                        %BOOLEAN;             %INHERITED;
                     multi.number       %BOOLEAN;             %INHERITED;
                     ontheline          %BOOLEAN;             %INHERITED;
                     pedal.rend         (line|term)           %INHERITED;
                     reh.enclose        (box|circle|none)     %INHERITED;
                     scale              %NUMBER;              #IMPLIED
                     slur.rend          %CURVERENDITION;      %INHERITED;
                     spacing            %NUMBER;              %INHERITED;
                     text.dist          %NUMBER;              %INHERITED;
                     text.fam           %FONTFAMILY;          %INHERITED;
                     text.name          %FONTNAME;            %INHERITED;
                     text.size          %NUMBER;              %INHERITED;
                     text.style         %FONTSTYLE;           #IMPLIED
                     text.weight        %FONTWEIGHT;          #IMPLIED
                     tie.rend           %CURVERENDITION;      %INHERITED;
                     visible            %BOOLEAN;             #IMPLIED'>
  <!ENTITY % a.vis.staffdef
                     '%a.vis.staffdef.base;
                     %a.vis.staffdef.mensural;'>
]]>
<!ENTITY % a.vis.staffdef ''>

<!-- ************************************************************** -->
<!-- * Attributes for staffgrp                                    * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.staffgrp ''>
]]>
<!ENTITY % a.anl.staffgrp ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.staffgrp
                     'midi.div           %INTEGERPOSITIVE;    %INHERITED;'>
]]>
<!ENTITY % a.ges.staffgrp ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.staffgrp ''>

<!-- Visual domain attributes: barthru indicates whether barlines go
across the space between staves (yes) or are only drawn across the
stafflines of each staff (no), label.full is used on the first page
while label.abbr is used thereafter, symbol indicates the left-hand
connecting symbol for the group, and the visible attribute indicates
whether this group is to be printed. The brace and bracket attributes
may be used (instead of additional staffgrp sub-elements) to indicate
sub-groupings of staves. -->
<![%meiVisual;[
  <!ENTITY % a.vis.staffgrp
                     'barthru           %BOOLEAN;             #IMPLIED
                     brace              CDATA                 #IMPLIED
                     bracket            CDATA                 #IMPLIED
                     label.abbr         CDATA                 #IMPLIED
                     label.full         CDATA                 #IMPLIED
                     symbol             (brace|bracket|line)  #IMPLIED
                     visible            %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.staffgrp ''>

<!-- ************************************************************** -->
<!-- * Attributes for uneume                                       * -->

<!-- Analytical domain attributes:
     accid.cautionary cautionary accidental
     accid.editorial  editorial accidental or musica ficta
     hfunc            harmonic function, e.g. root, 3rd, 5th
     inth             harmonic interval from pitch in same chord
     intm             melodic interval from previous pitch
     mfunc            melodic function, e.g. appogg., N.T.
     pclass           pitch class 
     psolfa           solfa, e.g. do, re, mi, etc.
-->
<![%meiAnalysis;[
  <!ENTITY % a.anl.uneume
                     '%a.anl.common;
                     accid.cautionary   %ACCIDENTAL.EXPLICIT; #IMPLIED
                     accid.editorial    %ACCIDENTAL.EXPLICIT; #IMPLIED
                     hfunc              CDATA                 #IMPLIED
                     inth               CDATA                 #IMPLIED
                     intm               CDATA                 #IMPLIED
                     mfunc              CDATA                 #IMPLIED
                     pclass             %PITCHCLASS;          #IMPLIED
                     psolfa             CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.anl.uneume ''>

<!-- Gestural domain (performance) attributes:
Unused note attributes:
  accid.ges          %ACCIDENTAL.IMPLICIT; #IMPLIED
  artic.ges          %ARTICULATIONS;       #IMPLIED
  detune             CDATA                 #IMPLIED
  dur.ges            CDATA                 #IMPLIED
  gliss              %GLISSANDO;           #IMPLIED
  grace              %GRACE;               #IMPLIED
  grace.time         %PERCENT;             #IMPLIED
  instr              IDREF                 #IMPLIED
  oct.ges            %OCTAVE;              #IMPLIED
  pname.ges          %PITCHNAME.GES;       #IMPLIED
  pnum               %PITCHNUMBER;         #IMPLIED
-->
<![%meiGestural;[
  <!ENTITY % a.ges.uneume ''>
]]>
<!ENTITY % a.ges.uneume ''>

<!-- Logical domain attributes: 
  Unused note attributes:
  accid              %ACCIDENTAL.EXPLICIT; #IMPLIED
  artic              %ARTICULATIONS;       #IMPLIED
  beam               %BEAMS;               #IMPLIED
  dots               %AUGMENTDOT;          #IMPLIED
  dur                %DURATION;            #IMPLIED
  fermata            %PLACE;               #IMPLIED
  lv                 %BOOLEAN;             #IMPLIED
  oct                %OCTAVE;              %PROPAGATED;
  pname              %PITCHNAME;           %PROPAGATED;
  slur               %SLURS;               #IMPLIED
  tab.fret           %FRETNUMBER;          #IMPLIED
  tab.string         %STRINGNUMBER;        #IMPLIED
  tie                %TIE;                 #IMPLIED
  tuplet             %TUPLET;              #IMPLIED -->
<!ENTITY % a.log.uneume
                     '%a.event;
                     form               %UNEUMEFORM;          #IMPLIED
                     name               %UNEUME;              #IMPLIED
                     syl                CDATA                 #IMPLIED'>

<!-- Visual domain attributes:  
  Unused note attributes:
  accid.ho           %NUMBER;              #IMPLIED
  beam.with          %PLACE;               #IMPLIED
  coloration         (inverse)             #IMPLIED
  dot.ho             %VISUALOFFSET;        #IMPLIED
  dot.vo             %VISUALOFFSET;        #IMPLIED
  dot.x              %NUMBER;              #IMPLIED
  dot.y              %NUMBER;              #IMPLIED
  enclose.accid      %ENCLOSURE;           #IMPLIED
  enclose.note       %ENCLOSURE;           #IMPLIED
  slur.dir           %SLURDIRECTION;       #IMPLIED
  slur.rend          (dotted|dashed)       #IMPLIED
  tie.dir            %TIEDIRECTION;        #IMPLIED
  tie.rend           (dotted|dashed)       #IMPLIED
  stem.dir           %STEMDIRECTION;       #IMPLIED
  stem.len           %NUMBER;              #IMPLIED
  stem.mod           %STEMMODIFIER;        #IMPLIED
  stem.pos           %STEMPOSITION;        #IMPLIED
  stem.with          %PLACE;               #IMPLIED
  stem.x             %NUMBER;              #IMPLIED
  stem.y             %NUMBER;              #IMPLIED
 -->
<![%meiVisual;[
  <!ENTITY % a.vis.uneume
                     '%a.color;
                     %a.xy;
                     altsym             IDREF                 #IMPLIED
                     headshape          %HEADSHAPE;           #IMPLIED
                     ho                 %VISUALOFFSET;        #IMPLIED
                     size               %SIZE;                #IMPLIED
                     visible            %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.uneume ''>

<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- For the measure tagset, declare attributes in each musical domain,
e.g. analytical, gestural, and visual, in separate parameter entities.
This documents which domain an attribute operates in and makes it
easier to modify the attributes in a given domain independently of the
others. Declaring these here rather than in the individual tagsets
makes them available in any element models declared in the
meiModifications.dtd file.                                          -->
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- * Attributes for accid                                       * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.accid
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.accid ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.accid ''>
]]>
<!ENTITY % a.ges.accid ''>

<!-- Logical domain attributes: %ACCIDENTAL.EXPLICIT is the super-set.
The value attribute should really be restricted to the subset given by
the form attribute. -->
<!ENTITY % a.log.accid
                     'form              (implicit|explicit)   #IMPLIED
                     func               (caution|edit)        #IMPLIED
                     value              %ACCIDENTAL.EXPLICIT; #REQUIRED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.accid
                     '%a.color;
                     %a.xy;
                     enclose            %ENCLOSURE;           #IMPLIED
                     ho                 %VISUALOFFSET;        #IMPLIED
                     place              (above|below|staff)   #IMPLIED
                     vo                 %VISUALOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.accid ''>

<!-- ************************************************************** -->
<!-- * Attributes for annot                                       * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.annot
                     'dur.anl           CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.anl.annot ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.annot ''>
]]>
<!ENTITY % a.ges.annot ''>

<!-- Logical domain attributes: % a.controlevent is expanded here in
order to allow staff to be IMPLIED. Values for the type attribute can be
taken from any convenient typology of annotation suitable to the work in
hand; e.g. annotation, gloss, citation, digression, preliminary, temporary,
etc. The tstamp attribute encodes the onset time of a musical feature in
terms of musical time, i.e., beats.  The tstamp.ges attribute may be used
to record the onset time in pulses per quarter note (ppq, MusicXML
divisions, or MIDI clicks) since the start of the measure, while the
tstamp.real attribute records the onset time as a real-time offset, i.e.,
HH:MM:SS.ss, since the beginning of the file.-->
<!ENTITY % a.log.annot
                     'layer             %INTEGERPOSITIVE;     #IMPLIED
                     next               IDREFS                #IMPLIED
                     prev               IDREFS                #IMPLIED
                     staff              %INTEGERPOSITIVE;     #IMPLIED
                     tstamp             %BEAT;                #IMPLIED
                     tstamp.ges         %INTEGERNONNEGATIVE;  #IMPLIED
                     tstamp.real        %ISOTIME;             #IMPLIED
                     %a.startendid;'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.annot ''>
]]>
<!ENTITY % a.vis.annot ''>

<!-- ************************************************************** -->
<!-- * Attributes for arpeg                                       * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.arpeg
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.arpeg ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.arpeg ''>
]]>
<!ENTITY % a.ges.arpeg ''>

<!-- Logical domain attributes: dir=nonarp indicates a non-arpeggiated
chord. Arpeggiation across multiple staves requires 2 values in staff
attribute; if there's more than 1 layer in either staff, 2 values are
required in the layer attribute. -->
<!ENTITY % a.log.arpeg
                     '%a.controlevent;
                     dir                (up|down|nonarp)      #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.arpeg
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     arrow               %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.arpeg ''>

<!-- ************************************************************** -->
<!-- * Attributes for artic                                       * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.artic
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.artic ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.artic ''>
]]>
<!ENTITY % a.ges.artic ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.artic
                     'value             %ARTICULATION;        #REQUIRED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.artic
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     enclose            %ENCLOSURE;           #IMPLIED
                     place              %PLACE;               #IMPLIED'>
]]>
<!ENTITY % a.vis.artic ''>

<!-- ************************************************************** -->
<!-- * Attributes for beam                                        * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.beam
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.beam ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.beam ''>
]]>
<!ENTITY % a.ges.beam ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.beam
                     '%a.event;
                     with               %PLACE;               #IMPLIED'>

<!-- Visual domain attributes: Secondary beams may be broken explicitly
using the breaksec attribute. Its value should contain a space-separated
list of rhythmic durations that form a single beat. For example,'8 8'
indicates a division of the beam into 2 8th-note groups. -->
<![%meiVisual;[
  <!ENTITY % a.vis.beam
                     'breaksec          NMTOKENS              #IMPLIED
                     rend               (acc|rit|norm)        #IMPLIED
                     slope              %NUMBER;              #IMPLIED'>
]]>
<!ENTITY % a.vis.beam ''>

<!-- ************************************************************** -->
<!-- * Attributes for beamspan                                    * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.beamspan
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.beamspan ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.beamspan ''>
]]>
<!ENTITY % a.ges.beamspan ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.beamspan
                     '%a.controlevent;
                     %a.startendid;
                     with               %PLACE;               #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.beamspan
                     'breaksec          CDATA                 #IMPLIED
                     rend               (acc|rit|norm)        #IMPLIED
                     slope              %NUMBER;              #IMPLIED'>
]]>
<!ENTITY % a.vis.beamspan ''>

<!-- ************************************************************** -->
<!-- * Attributes for beatrpt                                     * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.beatrpt
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.beatrpt ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.beatrpt ''>
]]>
<!ENTITY % a.ges.beatrpt ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.beatrpt
                     '%a.event;'>

<!-- Visual domain attributes: The expand attribute indicates whether to
render the source measures or the usual repeated beat symbol. The rend
attribute indicates the number of slashes required to render the
appropriate beat repeat symbol when the beat is divided into even notes
- 4ths or 8ths=1, 16ths=2, 32nds=3, 64ths=4, 128ths=5. When the beat is
comprised of mixed duration values, the symbol is always rendered as 2
slashes and 2 dots. See Read, pg. 223-224. -->
<![%meiVisual;[
  <!ENTITY % a.vis.beatrpt
                     '%a.color;
                     altsym             IDREF                 #IMPLIED
                     expand             %BOOLEAN;             #IMPLIED
                     rend               (4|8|16|32|64|128|mixed)
                                                              #REQUIRED'>
]]>
<!ENTITY % a.vis.beatrpt ''>

<!-- ************************************************************** -->
<!-- * Attributes for bend                                        * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.bend
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.bend ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.bend
                     'amount            (.25|.5|.75|1)        #IMPLIED'>
]]>
<!ENTITY % a.ges.bend ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.bend
                     '%a.controlevent;
                     %a.startendid;'>

<!-- Visual domain attributes: The bulge or, alternatively, the bezier
attribute, describes the shape of the bend.  The bulge attribute
describes the curve as a set of distance values above or below an
imaginary line connecting the endpoints of the curve while the bezier
attribute records the placement of Bezier control points as a series
of space-separated xy coordinates, eg. 19 45 -32 118.  If the bulge or
bezier attributes are present, the bend should be rendered as a curve.
Otherwise, it should be rendered as a line. The bulge attribute must
contain one or more values of type %NUMBER. The rend attribute records
the typographical style of the curve or line while the ho and vo
attributes describe the visual offset of the entire rendered bend. The
endho, endvo and startho, startvo attribute pairs may be used to
encode start and end points relative to their programmatic placement.
For exact placement of the endpoints of the bend use the xy coordinate
pairs. -->
<![%meiVisual;[
  <!ENTITY % a.vis.bend
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     %a.xy2;
                     bezier             NMTOKENS              #IMPLIED
                     bulge              NMTOKENS              #IMPLIED
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     endvo              %VISUALOFFSET;        #IMPLIED
                     rend               %CURVERENDITION;      #IMPLIED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED
                     startvo            %VISUALOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.bend ''>

<!-- ************************************************************** -->
<!-- * Attributes for breath                                      * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.breath
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.breath ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
   <!ENTITY % a.ges.breath ''>
]]>
<!ENTITY % a.ges.breath ''>

<!-- Logical domain attributes: Currently, the dur attribute encodes
the logical and visual durations of the directive. If cases arise where
the logical and visual durations differ, it may be necessary to add a
dur.vis attribute. Please note that the dur attribute is not a true
duration, but rather a time stamp for the end point of the directive. -->
<!ENTITY % a.log.breath
                     '%a.controlevent;
                     %a.startendid;'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.breath
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     altsym             IDREF                 #IMPLIED
                     place              %PLACE;               #IMPLIED'>
]]>
<!ENTITY % a.vis.breath ''>

<!-- ************************************************************** -->
<!-- * Attributes for btrem                                       * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.btrem
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.btrem ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.btrem ''>
]]>
<!ENTITY % a.ges.btrem ''>

<!-- Logical domain attributes: The num attribute should be explicitly
set for measured tremolandi. The stem modifier (slash or z) must also be
explicity set on the child note or chord element for a complete visual
representation. -->
<!ENTITY % a.log.btrem
                     '%a.event;
                     form               (meas|unmeas)         #IMPLIED
                     num                %INTEGERPOSITIVE;     #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.btrem
                     'num.place         %PLACE;               #IMPLIED'>
]]>
<!ENTITY % a.vis.btrem ''>

<!-- ************************************************************** -->
<!-- * Attributes for chord                                       * -->

<!-- Analytical domain attributes: hfunc = harmonic function,
mfunc = melodic function. -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.chord
                     '%a.anl.common;
                     hfunc              CDATA                 #IMPLIED
                     mfunc              CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.anl.chord ''>

<!-- Gestural domain (performance) attributes: The artic.ges and
dur.ges attributes record the articulation and duration information
when the performed values differ from the written values. The dur.ges
attribute (performed duration) may be expressed in several forms, such
as measures[s]+beat[s].beatpart, ppq (MIDI clicks), Humdrum *recip
values, or MusicXML 'divisions', etc. Because dur.ges isn't limited to
the standard duration values, a dots.ges attribute is unnecessary. -->
<![%meiGestural;[
  <!ENTITY % a.ges.chord
                     'artic.ges         %ARTICULATIONS;       #IMPLIED
                     detune             CDATA                 #IMPLIED
                     dur.ges            CDATA                 #IMPLIED
                     grace              %GRACE;               #IMPLIED
                     grace.time         %PERCENT;             #IMPLIED
                     instr              IDREF                 #IMPLIED'>
]]>
<!ENTITY % a.ges.chord ''>

<!-- Logical domain attributes: The artic, dots, and dur attributes
encode the *written* articulations, augmentation dots, and duration
values. -->
<!ENTITY % a.log.chord
                     '%a.event;
                     artic              %ARTICULATIONS;       #IMPLIED
                     beam               %BEAMS;               #IMPLIED
                     dots               %AUGMENTDOT;          #IMPLIED
                     dur                %DURATION;            %PROPAGATED;
                     fermata            %PLACE;               #IMPLIED
                     lv                 %BOOLEAN;             #IMPLIED
                     slur               %SLURS;               #IMPLIED
                     syl                CDATA                 #IMPLIED
                     tie                %TIE;                 #IMPLIED
                     tuplet             %TUPLET;              #IMPLIED'>

<!-- Visual domain attributes:  The altsym attribute indicates that
the specified alternative visual symbol is to be displayed. The
headshape attribute may be used to indicate a cluster notehead should
be displayed instead of individual noteheads.  See Read, p. 320-321
re: tone clusters. Processing of chords and notes will be easier if a
distinction is made between articulations, which indicate sound
quality, and text strings, such as numbers for fingering, etc. Only
articulations should be encoded in the artic attribute; fingerings
should be encoded using the <dir> element. Articulations may be
encoded in order from the notehead outward; that is, away from the
stem. See additional notes at a.vis.note. The slur, slur.dir,
slur.rend, tie, tie.dir, and tie.rend attributes here are syntactic
sugar for these attributes on each of the chord's individual notes.
The values here apply to all the notes in the chord. If some notes are
slurred or tied while others aren't, then the individual note
attributes must be used. The coloration attribute should not be
confused with visual color. Coloration is when a void notehead is
displayed filled and vice versa. The dot.ho and dot.vo attributes
record the offset of the dot from its "normal" position while the
dot.x and dot.y attributes record the precise position of the dot.
The %a.visualoffset entity is expanded here in order to disallow a
vertical offset. -->
<![%meiVisual;[
  <!ENTITY % a.vis.chord
                     '%a.color;
                     %a.xy;
                     altsym             IDREF                 #IMPLIED
                     beam.with          %PLACE;               #IMPLIED
                     coloration         (inverse)             #IMPLIED
                     dot.ho             %VISUALOFFSET;        #IMPLIED
                     dot.vo             %VISUALOFFSET;        #IMPLIED
                     dot.x              %NUMBER;              #IMPLIED
                     dot.y              %NUMBER;              #IMPLIED
                     headshape          %CLUSTER;             #IMPLIED
                     ho                 %VISUALOFFSET;        #IMPLIED
                     size               %SIZE;                #IMPLIED
                     slur.dir           %SLURDIRECTION;       #IMPLIED
                     slur.rend          (dotted|dashed)       #IMPLIED
                     stem.dir           %STEMDIRECTION;       #IMPLIED
                     stem.len           %NUMBER;              #IMPLIED
                     stem.mod           %STEMMODIFIER;        #IMPLIED
                     stem.pos           %STEMPOSITION;        #IMPLIED
                     stem.with          %PLACE;               #IMPLIED
                     stem.x             %NUMBER;              #IMPLIED
                     stem.y             %NUMBER;              #IMPLIED
                     tie.dir            %TIEDIRECTION;        #IMPLIED
                     tie.rend           (dotted|dashed)       #IMPLIED
                     to                 %TSTAMPOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.chord ''>

<!-- ************************************************************** -->
<!-- * Attributes for clefchange                                  * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
<!ENTITY % a.anl.clefchange
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.clefchange ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.clefchange ''>
]]>
<!ENTITY % a.ges.clefchange ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.clefchange.base
                     'line             %CLEFLINE;            #IMPLIED
                     octave.default    %OCTAVE;              #IMPLIED
                     shape             %CLEFSHAPE;           #IMPLIED
                     trans             %CLEFTRAN;            #IMPLIED'>
<!-- <!ENTITY % a.log.clefchange.base
                     'line             %CLEFLINE;            #REQUIRED
                     octave.default    %OCTAVE;              #IMPLIED
                     shape             %CLEFSHAPE;           #REQUIRED
                     trans             %CLEFTRAN;            #IMPLIED'> -->
<!ENTITY % a.log.clefchange
                     '%a.log.clefchange.base;'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
<!ENTITY % a.vis.clefchange
                     '%a.color;
                     altsym            IDREF                 #IMPLIED'>
]]>
<!ENTITY % a.vis.clefchange  ''>

<!-- ************************************************************** -->
<!-- * Attributes for dir                                         * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.dir
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.dir ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
   <!ENTITY % a.ges.dir
                     'dur.ges           CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.ges.dir ''>

<!-- Logical domain attributes: Currently, the dur attribute encodes
the logical and visual durations of the directive. If cases arise where
the logical and visual durations differ, it may be necessary to add a
dur.vis attribute. Please note that the dur attribute is not a true
duration, but rather a time stamp for the end point of the directive. -->
<!ENTITY % a.log.dir
                     '%a.controlevent;
                     %a.startendid;
                     dur                %MEASUREBEAT;         #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.dir
                     '%a.visualoffset;
                     %a.xy;
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     place              %PLACE;               #IMPLIED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.dir ''>

<!-- ************************************************************** -->
<!-- * Attributes for dynam                                         * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.dynam
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.dynam ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.dynam
                     'dur.ges           CDATA                 #IMPLIED
                     value              %MIDIVALUE;           #IMPLIED'>
]]>
<!ENTITY % a.ges.dynam ''>

<!-- Logical domain attributes: The dur attribute encodes the logical
and visual duration of the dynamic symbol or text while the dur.ges
attribute encodes the performed duration. If logical and visual
duration differ, it may be necessary to add a dur.vis attribute.
Please note that the dur attribute is not a true duration, but rather
a time stamp for the end point of the dynamic indication. -->
<!ENTITY % a.log.dynam
                     '%a.controlevent;
                     %a.startendid;
                     dur                %MEASUREBEAT;         #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.dynam
                     '%a.visualoffset;
                     %a.xy;
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     place              %PLACE;               #IMPLIED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.dynam ''>

<!-- ************************************************************** -->
<!-- * Attributes for fermata                                     * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.fermata
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.fermata ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
   <!ENTITY % a.ges.fermata
                     'dur.ges           CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.ges.fermata ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.fermata
                     '%a.controlevent;
                     %a.startendid;'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.fermata
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     altsym             IDREF                 #IMPLIED
                     form               (inv|norm)            #IMPLIED
                     place              %PLACE;               #IMPLIED'>
]]>
<!ENTITY % a.vis.fermata ''>

<!-- ************************************************************** -->
<!-- * Attributes for ftrem                                       * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.ftrem
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.ftrem ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.ftrem
                     'form              (meas|unmeas)         #IMPLIED'>
]]>
<!ENTITY % a.ges.ftrem ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.ftrem
                     '%a.event;'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.ftrem
                     'rend              %INTEGERPOSITIVE;     #REQUIRED'>
]]>
<!ENTITY % a.vis.ftrem ''>

<!-- ************************************************************** -->
<!-- * Attributes for gliss                                       * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.gliss
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.gliss ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.gliss ''>
]]>
<!ENTITY % a.ges.gliss ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.gliss
                     '%a.controlevent;
                     %a.startendid;'>

<!-- Visual domain attributes: The text attribute may be used to record
any text, such as 'gliss.' that accompanies the glissando mark. -->
<![%meiVisual;[
  <!ENTITY % a.vis.gliss
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     %a.xy2;
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     endvo              %VISUALOFFSET;        #IMPLIED
                     rend               %LINERENDITION;       #IMPLIED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED
                     startvo            %VISUALOFFSET;        #IMPLIED
                     text               CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.vis.gliss ''>

<!-- ************************************************************** -->
<!-- * Attributes for hairpin                                     * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.hairpin
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.hairpin ''>

<!-- Gestural domain attributes: dur.ges represents the performed
duration. -->
<![%meiGestural;[
  <!ENTITY % a.ges.hairpin
                     'dur.ges           CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.ges.hairpin ''>

<!-- Logical domain attributes: The dur attribute encodes the logical
and visual duration of the hairpin while the dur.ges attribute, if it
is available, encodes the performed duration. If logical and visual
duration differ, it may be necessary to add a dur.vis attribute.
Please note that the dur attribute is not a true duration, but rather
a time stamp for the end point of the hairpin. -->
<!ENTITY % a.log.hairpin
                     '%a.controlevent;
                     %a.startendid;
                     dur                %MEASUREBEAT;         #IMPLIED
                     form               (cres|dim)            #REQUIRED'>

<!-- Visual domain attributes: The startho and startvo attributes record
the horizontal and vertical offsets of the left end, endho and endvo
record the horizontal and vertical offsets of the right end, and the
width attribute records the width of the opening on the open end in
staff inter-line units. The x1 and y1 attributes give the absolute
coordinates of the left side of the hairpin while x2 and y2 record the
coordinates of the right side. -->
<![%meiVisual;[
  <!ENTITY % a.vis.hairpin
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     %a.xy2;
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     endvo              %VISUALOFFSET;        #IMPLIED
                     place              %PLACE;               #REQUIRED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED
                     startvo            %VISUALOFFSET;        #IMPLIED
                     width              %NUMBER;              #IMPLIED'>
]]>
<!ENTITY % a.vis.hairpin ''>

<!-- ************************************************************** -->
<!-- * Attributes for halfmrpt                                    * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.halfmrpt
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.halfmrpt ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.halfmrpt ''>
]]>
<!ENTITY % a.ges.halfmrpt ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.halfmrpt
                     '%a.event;
                     dur               %DURATION;             #IMPLIED'>

<!-- Visual domain attributes: The expand attribute indicates whether or
not to render the source material. How can it be pointed to? -->
<![%meiVisual;[
  <!ENTITY % a.vis.halfmrpt
                     '%a.color;
                     %a.visualoffset;
                     altsym             IDREF                 #IMPLIED
                     expand             %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.halfmrpt ''>

<!-- ************************************************************** -->
<!-- * Attributes for harm                                        * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.harm
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.harm ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.harm
                     'dur.ges           CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.ges.harm ''>

<!-- Logical domain attributes: The dur attribute encodes the logical
and visual duration of the harmony while the dur.ges attribute, if it
is available, encodes the performed duration. If logical and visual
duration differ, it may be necessary to add a dur.vis attribute.
Please note that the dur attribute here is not a true duration, but
rather a time stamp for the end point of the directive. -->
<!ENTITY % a.log.harm
                     '%a.controlevent;
                     %a.startendid;
                     chordref           IDREF                 #IMPLIED
                     dur                %MEASUREBEAT;         #IMPLIED'>

<!-- Visual domain attributes: If the rendgrid attribute is set to 'grid',
then the chord tablature grid defined in the chordtable should be rendered
instead of the text contents of the harm element; if rendgrid equals
'gridname', both the harm element's text and the grid should be
displayed; otherwise, only the 'name' of the chord, i.e., the text content
of the harm element, e.g. 'Cmaj' or 'V7/III', should be rendered. -->
<![%meiVisual;[
  <!ENTITY % a.vis.harm
                     '%a.visualoffset;
                     %a.xy;
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     extender           %BOOLEAN;             #IMPLIED
                     place              %PLACE;               #IMPLIED
                     rendgrid           (grid|gridname)       #IMPLIED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.harm ''>

<!-- ************************************************************** -->
<!-- * Attributes for harppedal                                   * -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.harppedal
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.harppedal ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.harppedal
                     'dur.ges           CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.ges.harppedal ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.harppedal
                     '%a.controlevent;
                     %a.startendid;
                     c                  (f|n|s)               "n"
                     d                  (f|n|s)               "n"
                     e                  (f|n|s)               "n"
                     f                  (f|n|s)               "n"
                     g                  (f|n|s)               "n"
                     a                  (f|n|s)               "n"
                     b                  (f|n|s)               "n"'>

<!-- Visual domain attributes:  -->
<![%meiVisual;[
  <!ENTITY % a.vis.harppedal
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     place              %PLACE;               #IMPLIED'>
]]>
<!ENTITY % a.vis.harppedal ''>

<!-- ************************************************************** -->
<!-- * Attributes for lyrics                                      * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.lyrics
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.lyrics ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.lyrics ''>
]]>
<!ENTITY % a.ges.lyrics ''>

<!-- Logical domain attributes: %a.controlevent is expanded here in
order to allow only the staff and layer attributes from this class. -->
<!ENTITY % a.log.lyrics
                     'layer             %INTEGERPOSITIVE;     #IMPLIED
                     staff              %INTEGERPOSITIVE;     #REQUIRED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.lyrics
                     '%a.typography;
                     place              %PLACE;               #IMPLIED'>
]]>
<!ENTITY % a.vis.lyrics ''>

<!-- ************************************************************** -->
<!-- * Attributes for measure                                     * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.measure
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.measure ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.measure ''>
]]>
<!ENTITY % a.ges.measure
                     'tstamp            CDATA                 #IMPLIED'>

<!-- Logical domain attributes: The complete attribute allows the
encoding of whether a measure matches the prevailing meter: a value of
'c' indicates a metrically complete measure, 'i' indicates a measure
with not enough beats, while 'o' is for measures with too many beats.
The control attribute indicates whether or not the barline is
"controlling", that is, indicates a point of alignment across all the
parts. Barlines within a score are always 'controlling'; that is, they
must 'line up'. Barlines within parts may or may not be 'controlling'.
The left attribute indicates the function of the left barline. It is
present here only for facilitation of translation from legacy encodings
which use it. Usually, it can be safely ignored.  The right attribute,
on the other hand, indicates the function of the right barline and is
structurally important.  The n attribute may contain a name/name (label)
for the measure (Read, p. 445).  Often, this is an integer, but not always.
For example, some measures, especially incomplete measures or those
under an ending mark, may have labels that contain an integer plus a
suffix, such as '12a'.  Measures may even have labels, especially in
editorial or analytical uses of MEI, that are entirely non-numeric
strings. Measure numbers may be machine-generated.  However, an explicit
measure number will restart numbering with the given value. -->
<!ENTITY % a.log.measure
                     'complete          (c|i|o)               #IMPLIED
                     control            %BOOLEAN;             #IMPLIED
                     left               %BARRENDITION;        #IMPLIED
                     measref            IDREF                 #IMPLIED
                     right              %BARRENDITION;        #IMPLIED'>

<!-- Visual domain attributes: The taktplace attribute value must be a
number between 1 and the number of stafflines. For example, a value of
'5' puts the barline through the top line of a 5-line staff. The width
attribute records a fixed width for the measure. -->
<![%meiVisual;[
  <!ENTITY % a.vis.measure
                     'barplace          %BARPLACE;            #IMPLIED
                     taktplace          %STAFFLOC;            #IMPLIED
                     width              %NUMBER;              #IMPLIED'>
]]>
<!ENTITY % a.vis.measure ''>

<!-- ************************************************************** -->
<!-- * Attributes for mordent                                     * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.mordent
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.mordent ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.mordent ''>
]]>
<!ENTITY % a.ges.mordent ''>

<!-- Logical domain attributes: In the form attribute, 'norm' signals
the normal form, that is, the written note, followed by its lower
neighbor, with a return to the written note, while 'inv' indicates the
inverted form, that is, the principal note, followed by its upper
neighbor, with a return to the principal note. When the long attribute
is set to 'yes', a double or long mordent, consisting of 5 notes, is
indicated. Traditionally, the 'normal' mordent is written as a short
wavy line with a vertical line through it and the inverted mordent is
written without the vertical line. However, the meaning of these signs
is sometimes reversed. See Read, p. 245-246. Another attribute in the
visual domain would be necessary in order to be completely explicit
about which visual symbol is actually to be rendered. -->
<!ENTITY % a.log.mordent
                     '%a.controlevent;
                     %a.startendid;
                     accidupper         %ACCIDENTAL.EXPLICIT; #IMPLIED
                     accidlower         %ACCIDENTAL.EXPLICIT; #IMPLIED
                     form               (inv|norm)            #IMPLIED
                     long               %BOOLEAN;             #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.mordent
                     '%a.color;
                     %a.visualoffset;
                     place              %PLACE;               #IMPLIED'>
]]>
<!ENTITY % a.vis.mordent ''>

<!-- ************************************************************** -->
<!-- * Attributes for mrest                                       * -->

<!-- Analytical domain attributes: The n attribute is used to
explicitly encode this measure's position in a string of measures
containing only mrest elements. -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.mrest
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.mrest ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.mrest
                     'dur.ges           CDATA                 #IMPLIED
                     instr              IDREF                 #IMPLIED'>
]]>
<!ENTITY % a.ges.mrest ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.mrest
                     '%a.event;
                     fermata            %PLACE;               #IMPLIED'>

<!-- Visual domain attributes: The altsym attribute indicates that the
specified alternative visual symbol is to be displayed. When set to
'rest' the cutout attribute indicates that the staff lines are to be
displayed but not the rest itself. When set to 'staff' even the staff
lines should not be drawn for this measure. See _56 Songs You Like to
Sing_, p. 32. The dur.vis attribute should be used to record the
durational symbol used in the source. -->
<![%meiVisual;[
  <!ENTITY % a.vis.mrest
                     '%a.visualoffset;
                     %a.xy;
                     altsym             IDREF                 #IMPLIED
                     cutout             (rest|staff)          #IMPLIED
                     dur.vis            %DURATION;            #IMPLIED
                     size               %SIZE;                #IMPLIED'>
]]>
<!ENTITY % a.vis.mrest ''>

<!-- ************************************************************** -->
<!-- * Attributes for mrpt                                        * -->

<!-- Analytical domain attributes: The measref attribute is provided to
explicitly indicate the measure whose contents are to be repeated here.
The n attribute is used to explicitly encode this measure's position in
a string of measures containing only mrpt elements. -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.mrpt
                     '%a.anl.common;
                     measref            IDREF                 #IMPLIED'>
]]>
<!ENTITY % a.anl.mrpt ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.mrpt ''>
]]>
<!ENTITY % a.ges.mrpt ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.mrpt
                     '%a.event;'>

<!-- Visual domain attributes: The expand attribute indicates whether or
not to render the source measure. -->
<![%meiVisual;[
  <!ENTITY % a.vis.mrpt
                     '%a.color;
                     altsym             IDREF                 #IMPLIED
                     expand             %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.mrpt ''>


<!-- ************************************************************** -->
<!-- * Attributes for mrpt2                                       * -->

<!-- Analytical domain attributes: The measref attribute is provided to
explicitly indicate the measures whose contents are to be repeated here.
-->
<![%meiAnalysis;[
  <!ENTITY % a.anl.mrpt2
                     '%a.anl.common;
                     measref            IDREFS                 #IMPLIED'>
]]>
<!ENTITY % a.anl.mrpt2 ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.mrpt2 ''>
]]>
<!ENTITY % a.ges.mrpt2 ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.mrpt2
                     '%a.event;'>

<!-- Visual domain attributes: The expand attribute indicates whether or
not to render the source measures. -->
<![%meiVisual;[
  <!ENTITY % a.vis.mrpt2
                     '%a.color;
                     altsym             IDREF                 #IMPLIED
                     expand             %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.mrpt2 ''>

<!-- ************************************************************** -->
<!-- * Attributes for mspace                                      * -->

<!-- Analytical domain attributes: The n attribute is used to
explicitly encode this measure's position in a string of measures
containing only mrest elements. -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.mspace
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.mspace ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.mspace
                     'dur.ges           CDATA                 #IMPLIED
                     instr              IDREF                 #IMPLIED'>
]]>
<!ENTITY % a.ges.mspace ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.mspace
                     '%a.event;
                     fermata            %PLACE;               #IMPLIED'>

<!-- Visual domain attributes: The altsym attribute indicates that the
specified alternative visual symbol is to be displayed. When set to
'rest' the cutout attribute indicates that the staff lines are to be
displayed but not the rest itself. When set to 'staff' even the staff
lines should not be drawn for this measure. See _56 Songs You Like to
Sing_, p. 32. The dur.vis attribute should be used to record the
durational symbol used in the source. -->
<![%meiVisual;[
  <!ENTITY % a.vis.mspace
                     '%a.visualoffset;
                     %a.xy;
                     altsym             IDREF                 #IMPLIED
                     cutout             (rest|staff)          #IMPLIED
                     dur.vis            %DURATION;            #IMPLIED'>
]]>
<!ENTITY % a.vis.mspace ''>

<!-- ************************************************************** -->
<!-- * Attributes for multirest                                   * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.multirest
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.multirest ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.multirest
                     'dur.ges           CDATA                 #IMPLIED
                     instr              IDREF                 #IMPLIED'>
]]>
<!ENTITY % a.ges.multirest ''>

<!-- Logical domain attributes: The num attribute contains the number of
measures of rest. -->
<!ENTITY % a.log.multirest
                     '%a.event;
                     num                %INTEGERPOSITIVE;     #REQUIRED'>

<!-- Visual domain attributes: When the block attribute is used,
combinations of the 1, 2, & 4 measure rest forms (Read, p. 104) should
be rendered instead of the modern form. -->
<![%meiVisual;[
  <!ENTITY % a.vis.multirest
                     'altsym            IDREF                 #IMPLIED
                     block              %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.multirest ''>

<!-- ************************************************************** -->
<!-- * Attributes for multirpt                                    * -->

<!-- Analytical domain attributes: The meas attribute is provided to
explicitly reference the measures where the source content exists. -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.multirpt
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.multirpt ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.multirpt ''>
]]>
<!ENTITY % a.ges.multirpt ''>

<!-- Logical domain attributes:  The num attribute contains the number of
measures to be repeated. -->
<!ENTITY % a.log.multirpt
                     '%a.event;
                     measref            IDREFS                #IMPLIED
                     num                %INTEGERPOSITIVE;     #REQUIRED'>


<!-- Visual domain attributes: The expand attribute indicates whether or
not to render the source measures. -->
<![%meiVisual;[
  <!ENTITY % a.vis.multirpt
                     'altsym            IDREF                 #IMPLIED
                     expand             %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.multirpt ''>

<!-- ************************************************************** -->
<!-- * Attributes for nota                                        * -->

<!-- Analytical domain attributes:
     accid.cautionary cautionary accidental
     accid.editorial  editorial accidental or musica ficta
     hfunc            harmonic function, e.g. root, 3rd, 5th
     inth             harmonic interval from pitch in same chord
     intm             melodic interval from previous pitch
     mfunc            melodic function, e.g. appogg., N.T.
     pclass           pitch class 
     psolfa           solfa, e.g. do, re, mi, etc.
-->
<![%meiAnalysis;[
  <!ENTITY % a.anl.nota
                     '%a.anl.common;
                     accid.cautionary   %ACCIDENTAL.EXPLICIT; #IMPLIED
                     accid.editorial    %ACCIDENTAL.EXPLICIT; #IMPLIED
                     hfunc              CDATA                 #IMPLIED
                     inth               CDATA                 #IMPLIED
                     intm               CDATA                 #IMPLIED
                     mfunc              CDATA                 #IMPLIED
                     pclass             %PITCHCLASS;          #IMPLIED
                     psolfa             CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.anl.nota ''>

<!-- Gestural domain (performance) attributes: The artic.ges, dur.ges,
oct.ges, pname.ges attributes record the articulation, duration,
octave, and pitch name when the performed value differs from the
written value. The accid.ges attribute may be used to record the
implicit accidental, that is, the pitch alteration required by the key
signature, for use in conversion to sound and for harmonic analysis.
Therefore, only the flat, double flat, sharp and double sharp values
are permitted. Unlike dur attributes elsewhere, the dur.ges attribute
(performed duration) type is CDATA. This allows the expression of
performance duration in user-defined terms, such as
measures[s]:beat[s].beatpart, MIDI clicks, Humdrum *recip values, etc.
Because dur.ges isn't limited to the standard duration values, a
dots.ges attribute is unnecessary. See Read, p. 238-241, for a
discussion of grace notes. The pnum attribute holds a pitch-to-number
mapping, a base-40 or MIDI note number, for example. -->
<![%meiGestural;[
  <!ENTITY % a.ges.nota.tablature
                     'tab.fret          %FRETNUMBER;          #IMPLIED
                     tab.string         %STRINGNUMBER;        #IMPLIED'>
  <!ENTITY % a.ges.nota.base
                     'num               %INTEGERPOSITIVE;     #IMPLIED
                     numbase            %INTEGERPOSITIVE;     #IMPLIED
                     accid.ges          %ACCIDENTAL.IMPLICIT; #IMPLIED
                     artic.ges          %ARTICULATIONS;       #IMPLIED
                     detune             CDATA                 #IMPLIED
                     dur.ges            CDATA                 #IMPLIED
                     gliss              %GLISSANDO;           #IMPLIED
                     grace              %GRACE;               #IMPLIED
                     grace.time         %PERCENT;             #IMPLIED
                     instr              IDREF                 #IMPLIED
                     oct.ges            %OCTAVE;              #IMPLIED
                     pname.ges          %PITCHNAME.GES;       #IMPLIED
                     pnum               %PITCHNUMBER;         #IMPLIED'>
  <!ENTITY % a.ges.nota
                     '%a.ges.nota.base;
                     %a.ges.nota.tablature;'>
]]>
<!ENTITY % a.ges.nota ''>

<!-- Logical domain attributes: The pname, accid, oct, dur, dots, and
artic attributes encode the *written* note name, accidental, octave,
duration, articulations, augmentation dots, and articulations. The acci
attribute records the notated accidental for the note, e.g. flat, sharp,
natural, double flat, double sharp (both forms), natural+flat,
natural+sharp, and the quarter tone accidentals. The beam attribute
records the presence of a beam in which this note participates. Software
may use this attribute or beam elements for rendering. The dots
attribute records the number of augmentation dots required by a dotted
duration. The slur, tie, lv (laissez vibrer), and tuplet attributes encode
the presence of a slur, tie, lv, or tuplet in which this note participates.
Software may render slur, tie, lv or tuplet indications based on these
attributes or require separate slur, tie, generic curve, or tuplet elements
for visual rendition. Tablature information can be recorded in the tab.fret
and tab.string attributes. -->
<!-- fermata = corona in the mensural repertoire. -->
<!ENTITY % a.log.nota
                     '%a.event;
                     accid              %ACCIDENTAL.EXPLICIT; #IMPLIED
                     corona             %PLACE;               #IMPLIED
                     dots               %AUGMENTDOT;          #IMPLIED
                     dur                %DURATION.MENSURAL;   %PROPAGATED;
                     lig                (recta|obliqua)       #IMPLIED
                     oct                %OCTAVE;              %PROPAGATED;
                     pname              %PITCHNAME;           %PROPAGATED;
                     syl                CDATA                 #IMPLIED'>

<!-- Visual domain attributes:  The distance between the accidental
and the note it modifies should be recorded in the accid.ho attribute.
The headshape attribute may be used to override the headshape normally
used for the given duration. The enclose.accid and enclose.note attributes
record the symbol to be used around the accidental and the entire note,
respectively. For an example of cautionary accidentals enclosed in
parentheses or brackets see Read, p. 131, ex. 9-14. The coloration
attribute may be used to indicate a reverse coloration, i.e., black
instead of white or white instead of black. The dot.ho and dot.vo
attributes record the offset of the dot from its "normal" position while
the dot.x and dot.y attributes record the precise position of the dot.
The %a.visualoffset entity is expanded here in order to disallow
a vertical offset. -->
<![%meiVisual;[
  <!ENTITY % a.vis.nota
                     '%a.color;
                     %a.xy;
                     accid.ho           %NUMBER;              #IMPLIED
                     altsym             IDREF                 #IMPLIED
                     beam.with          %PLACE;               #IMPLIED
                     coloration         (inverse)             #IMPLIED
                     colored            %BOOLEAN;             #IMPLIED
                     dot.ho             %VISUALOFFSET;        #IMPLIED
                     dot.vo             %VISUALOFFSET;        #IMPLIED
                     dot.x              %NUMBER;              #IMPLIED
                     dot.y              %NUMBER;              #IMPLIED
                     enclose.accid      %ENCLOSURE;           #IMPLIED
                     enclose.note       %ENCLOSURE;           #IMPLIED
                     headshape          %HEADSHAPE;           #IMPLIED
                     ho                 %VISUALOFFSET;        #IMPLIED
                     size               %SIZE;                #IMPLIED
                     slur.dir           %SLURDIRECTION;       #IMPLIED
                     slur.rend          (dotted|dashed)       #IMPLIED
                     stem.dir           %STEMDIRECTION;       #IMPLIED
                     stem.len           %NUMBER;              #IMPLIED
                     stem.mod           %STEMMODIFIER;        #IMPLIED
                     stem.pos           %STEMPOSITION;        #IMPLIED
                     stem.with          %PLACE;               #IMPLIED
                     stem.x             %NUMBER;              #IMPLIED
                     stem.y             %NUMBER;              #IMPLIED
                     tie.dir            %TIEDIRECTION;        #IMPLIED
                     tie.rend           (dotted|dashed)       #IMPLIED
                     to                 %TSTAMPOFFSET;        #IMPLIED
                     visible            %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.nota ''>

<!-- ************************************************************** -->
<!-- * Attributes for note                                        * -->

<!-- Analytical domain attributes:
     accid.cautionary cautionary accidental
     accid.editorial  editorial accidental or musica ficta
     hfunc            harmonic function, e.g. root, 3rd, 5th
     inth             harmonic interval from pitch in same chord
     intm             melodic interval from previous pitch
     mfunc            melodic function, e.g. appogg., N.T.
     pclass           pitch class 
     psolfa           solfa, e.g. do, re, mi, etc.
-->
<![%meiAnalysis;[
  <!ENTITY % a.anl.note
                     '%a.anl.common;
                     accid.cautionary   %ACCIDENTAL.EXPLICIT; #IMPLIED
                     accid.editorial    %ACCIDENTAL.EXPLICIT; #IMPLIED
                     hfunc              CDATA                 #IMPLIED
                     inth               CDATA                 #IMPLIED
                     intm               CDATA                 #IMPLIED
                     mfunc              CDATA                 #IMPLIED
                     pclass             %PITCHCLASS;          #IMPLIED
                     psolfa             CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.anl.note ''>

<!-- Gestural domain (performance) attributes: The artic.ges, dur.ges,
oct.ges, pname.ges attributes record the articulation, duration,
octave, and pitch name when the performed value differs from the
written value. The accid.ges attribute may be used to record the
implicit accidental, that is, the pitch alteration required by the key
signature, for use in conversion to sound and for harmonic analysis.
Therefore, only the flat, double flat, sharp and double sharp values
are permitted. Unlike dur attributes elsewhere, the dur.ges attribute
(performed duration) type is CDATA. This allows the expression of
performance duration in user-defined terms, such as
measures[s]:beat[s].beatpart, MIDI clicks, Humdrum *recip values, etc.
Because dur.ges isn't limited to the standard duration values, a
dots.ges attribute is unnecessary. See Read, p. 238-241, for a
discussion of grace notes. The pnum attribute holds a pitch-to-number
mapping, a base-40 or MIDI note number, for example.  Tablature
information can be recorded in the tab.fret and tab.string attributes. -->
<![%meiGestural;[
  <!ENTITY % a.ges.note.tablature ''>
  <!ENTITY % a.ges.note.base
                     'accid.ges         %ACCIDENTAL.IMPLICIT; #IMPLIED
                     artic.ges          %ARTICULATIONS;       #IMPLIED
                     detune             CDATA                 #IMPLIED
                     dur.ges            CDATA                 #IMPLIED
                     gliss              %GLISSANDO;           #IMPLIED
                     grace              %GRACE;               #IMPLIED
                     grace.time         %PERCENT;             #IMPLIED
                     instr              IDREF                 #IMPLIED
                     oct.ges            %OCTAVE;              #IMPLIED
                     pname.ges          %PITCHNAME.GES;       #IMPLIED
                     pnum               %PITCHNUMBER;         #IMPLIED
                     tab.fret           %FRETNUMBER;          #IMPLIED
                     tab.string         %STRINGNUMBER;        #IMPLIED'>
  <!ENTITY % a.ges.note '%a.ges.note.base; %a.ges.note.tablature;'>
]]>
<!ENTITY % a.ges.note ''>

<!-- Logical domain attributes: The pname, accid, oct, dur, dots, and
artic attributes encode the *written* note name, accidental, octave,
duration, articulations, augmentation dots, and articulations. The acci
attribute records the notated accidental for the note, e.g. flat, sharp,
natural, double flat, double sharp (both forms), natural+flat,
natural+sharp, and the quarter tone accidentals. The beam attribute
records the presence of a beam in which this note participates. Software
may use this attribute or beam elements for rendering. The dots
attribute records the number of augmentation dots required by a dotted
duration. The slur, tie, lv (laissez vibrer), and tuplet attributes encode
the presence of a slur, tie, lv, or tuplet in which this note participates.
Software may render slur, tie, lv or tuplet indications based on these
attributes or require separate slur, tie, generic curve, or tuplet elements
for visual rendition. -->
<!ENTITY % a.log.note
                     '%a.event;
                     accid              %ACCIDENTAL.EXPLICIT; #IMPLIED
                     artic              %ARTICULATIONS;       #IMPLIED
                     beam               %BEAMS;               #IMPLIED
                     dots               %AUGMENTDOT;          #IMPLIED
                     dur                %DURATION;            %PROPAGATED;
                     fermata            %PLACE;               #IMPLIED
                     lv                 %BOOLEAN;             #IMPLIED
                     oct                %OCTAVE;              %PROPAGATED;
                     pname              %PITCHNAME;           %PROPAGATED;
                     slur               %SLURS;               #IMPLIED
                     syl                CDATA                 #IMPLIED
                     tie                %TIE;                 #IMPLIED
                     tuplet             %TUPLET;              #IMPLIED'>

<!-- Visual domain attributes:  The distance between the accidental
and the note it modifies should be recorded in the accid.ho attribute.
The headshape attribute may be used to override the headshape normally
used for the given duration. The enclose.accid and enclose.note attributes
record the symbol to be used around the accidental and the entire note,
respectively. For an example of cautionary accidentals enclosed in
parentheses or brackets see Read, p. 131, ex. 9-14. The coloration
attribute may be used to indicate a reverse coloration, i.e., black
instead of white or white instead of black. The dot.ho and dot.vo
attributes record the offset of the dot from its "normal" position while
the dot.x and dot.y attributes record the precise position of the dot.
The %a.visualoffset entity is expanded here in order to disallow
a vertical offset. -->
<![%meiVisual;[
  <!ENTITY % a.vis.note
                     '%a.color;
                     %a.xy;
                     accid.ho           %NUMBER;              #IMPLIED
                     altsym             IDREF                 #IMPLIED
                     beam.with          %PLACE;               #IMPLIED
                     coloration         (inverse)             #IMPLIED
                     dot.ho             %VISUALOFFSET;        #IMPLIED
                     dot.vo             %VISUALOFFSET;        #IMPLIED
                     dot.x              %NUMBER;              #IMPLIED
                     dot.y              %NUMBER;              #IMPLIED
                     enclose.accid      %ENCLOSURE;           #IMPLIED
                     enclose.note       %ENCLOSURE;           #IMPLIED
                     headshape          %HEADSHAPE;           #IMPLIED
                     ho                 %VISUALOFFSET;        #IMPLIED
                     size               %SIZE;                #IMPLIED
                     slur.dir           %SLURDIRECTION;       #IMPLIED
                     slur.rend          (dotted|dashed)       #IMPLIED
                     stem.dir           %STEMDIRECTION;       #IMPLIED
                     stem.len           %NUMBER;              #IMPLIED
                     stem.mod           %STEMMODIFIER;        #IMPLIED
                     stem.pos           %STEMPOSITION;        #IMPLIED
                     stem.with          %PLACE;               #IMPLIED
                     stem.x             %NUMBER;              #IMPLIED
                     stem.y             %NUMBER;              #IMPLIED
                     tie.dir            %TIEDIRECTION;        #IMPLIED
                     tie.rend           (dotted|dashed)       #IMPLIED
                     to                 %TSTAMPOFFSET;        #IMPLIED
                     visible            %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.note ''>

<!-- ************************************************************** -->
<!-- * Attributes for octave                                      * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.octave
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.octave ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.octave
                     'dur.ges           CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.ges.octave ''>

<!-- Logical domain attributes: The dur attribute encodes the logical
and visual duration of the octave displacement while the dur.ges
attribute, if it is available, encodes the performed duration. If
logical and visual duration differ, it may be necessary to add a
dur.vis attribute. Please note that the dur attribute here is
not a true duration, but rather a time stamp for the end point of the
octave displacement. The dur attribute is NOT REQUIRED because the
octave displacement can be visually instantaneous. The place
attribute indicates direction of displacement and display location and
therefore is REQUIRED. The dis attribute states the amount of
displacement while coll (Read, p. 47-48) encodes whether the octave
displacement should be performed simultaneously with the written
notes. -->
<!ENTITY % a.log.octave
                     '%a.controlevent;
                     %a.startendid;
                     coll               (coll)                #IMPLIED
                     dis                (8|15|22)             #REQUIRED
                     dur                %MEASUREBEAT;         #IMPLIED
                     place              %PLACE;               #REQUIRED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.octave
                     '%a.xy;
                     %a.visualoffset;
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     rend               %LINERENDITION;       #IMPLIED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.octave ''>

<!-- ************************************************************** -->
<!-- * Attributes for ossia                                       * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.ossia
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.ossia ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.ossia ''>
]]>
<!ENTITY % a.ges.ossia ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.ossia ''>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.ossia ''>
]]>
<!ENTITY % a.vis.ossia ''>

<!-- ************************************************************** -->
<!-- * Attributes for pad                                         * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.pad ''>
]]>
<!ENTITY % a.anl.pad ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.pad ''>
]]>
<!ENTITY % a.ges.pad ''>

<!-- Logical domain attributes: The num attribute is the amount of
horizontal space to be added, expressed in inter-line staff units. -->
<!ENTITY % a.log.pad
                     '%a.event;
                     num                %NUMBER;              #REQUIRED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.pad ''>
]]>
<!ENTITY % a.vis.pad ''>

<!-- ************************************************************** -->
<!-- * Attributes for pedal (piano damper pedal)                  * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.pedal
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.pedal ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.pedal ''>
]]>
<!ENTITY % a.ges.pedal ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.pedal
                     '%a.controlevent;
                     %a.startendid;
                     dir                (down|up|half)        #REQUIRED'>

<!-- Visual domain attributes: When style is set to 'line', the pedal
mark is rendered with a continuous line. When it's set to pedstar, a
pedal down is rendered with "Ped.", a pedal up is rendered as "*", and a
pedal "bounce" is rendered with "Ped. *".  When set to altpedstar pedal
up and down indications are the same as with pedstar but a bounce is
rendered with "Ped." only. -->
<![%meiVisual;[
  <!ENTITY % a.vis.pedal
                     '%a.color;
                     %a.xy;
                     %a.visualoffset;
                     place              (below)               #IMPLIED
                     style              (line|pedstar|altpedstar)
                                                              #IMPLIED'>
]]>
<!ENTITY % a.vis.pedal ''>


<!-- ************************************************************** -->
<!-- * Attributes for phrase                                      * -->

<!-- Analytical domain attributes:
The join attribute should be used for linking visually separate phrase
marks, sometimes necessary due to system breaks, that form a single
musical phrase. -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.phrase
                     '%a.anl.common;
                     join               IDREFS                #IMPLIED'>
]]>
<!ENTITY % a.anl.phrase ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.phrase ''>
]]>
<!ENTITY % a.ges.phrase ''>

<!-- Logical domain attributes: Phrase may either use tstamp and
duration or startid and endid attributes. It is a semantic error not
to specify one of these attribute combinations. -->
<!ENTITY % a.log.phrase
                     '%a.controlevent;
                     %a.startendid;
                     dur                %MEASUREBEAT;         #IMPLIED'>

<!-- Visual domain attributes: The place attribute records general,
relative placement only. The bulge or, alternatively, the bezier
attribute, describes the shape of the phrase mark.  The bulge attribute
describes the curve as a set of distance values above or below an
imaginary line connecting the endpoints of the curve while the bezier
attribute records the placement of Bezier control points as a series
of space-separated xy coordinates, eg. 19 45 -32 118. The bulge
attribute must contain one or more values of type %NUMBER. The vo
attribute is the vertical offset (from its normal position) of the
entire rendered phrase mark. -->
<![%meiVisual;[
  <!ENTITY % a.vis.phrase
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     %a.xy2;
                     bezier             NMTOKENS              #IMPLIED
                     bulge              NMTOKENS              #IMPLIED
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     endvo              %VISUALOFFSET;        #IMPLIED
                     place              %PLACE;               #IMPLIED
                     rend               %CURVERENDITION;      #IMPLIED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED
                     startvo            %VISUALOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.phrase ''>

<!-- ************************************************************** -->
<!-- * Attributes for reh                                         * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.reh
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.reh ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.reh ''>
]]>
<!ENTITY % a.ges.reh ''>

<!-- Logical domain attributes: %a.controlevent is expanded here in
order to disallow the plist and layer attributes. reh may use either a
tstamp or start attribute.  It is a semantic error not to include one of
these attributes. The a.startendid entity is expanded here in order to
disallow the end attribute. -->
<!ENTITY % a.log.reh
                     'next              IDREFS                #IMPLIED
                     prev               IDREFS                #IMPLIED
                     staff              %INTEGERPOSITIVE;     #REQUIRED
                     start              IDREF                 #IMPLIED
                     tstamp             %BEAT;                #IMPLIED
                     tstamp.ges         %INTEGERNONNEGATIVE;  #IMPLIED
                     tstamp.real        %ISOTIME;             #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.reh
                     '%a.color;
                     %a.typography;
                     %a.visualoffset;
                     %a.xy;
                     enclose            (box|circle|none)     #IMPLIED
                     place              (above)               #IMPLIED'>
]]>
<!ENTITY % a.vis.reh ''>

<!-- ************************************************************** -->
<!-- * Attributes for rest                                        * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.rest
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.rest ''>

<!-- Gestural domain (performance) attributes:  The dur.ges attribute
records the performed duration of the rest when it differs from the
written duration. -->
<![%meiGestural;[
  <!ENTITY % a.ges.rest
                     'dur.ges           CDATA                 #IMPLIED
                     instr              IDREF                 #IMPLIED'>
]]>
<!ENTITY % a.ges.rest ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.rest
                     '%a.event;
                     beam               %BEAMS;               #IMPLIED
                     dots               %AUGMENTDOT;          #IMPLIED
                     dur                %DURATION;            %PROPAGATED;
                     fermata            %PLACE;               #IMPLIED
                     tuplet             %TUPLET;              #IMPLIED'>

<!-- Visual domain attributes:  The altsym attribute indicates that the
specified alternative visual symbol is to be displayed. See Read, ex.
7-14 for vertical offset example. The line attribute must contain a 
value from 1 to the number of stafflines.  The value indicates the line
upon which the rest stands.  The spaces attribute states how many spaces
are covered by the rest. -->
<![%meiVisual;[
  <!ENTITY % a.vis.rest
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     altsym             IDREF                 #IMPLIED
                     beam.with          %PLACE;               #IMPLIED
                     dot.ho             %VISUALOFFSET;        #IMPLIED
                     dot.vo             %VISUALOFFSET;        #IMPLIED
                     dot.x              %NUMBER;              #IMPLIED
                     dot.y              %NUMBER;              #IMPLIED
                     size               %SIZE;                #IMPLIED'>
]]>
<!ENTITY % a.vis.rest ''>

<!-- ************************************************************** -->
<!-- * Attributes for pausa                                       * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.pausa
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.pausa ''>

<!-- Gestural domain (performance) attributes:  The dur.ges attribute
records the performed duration of the rest when it differs from the
written duration. -->
<![%meiGestural;[
  <!ENTITY % a.ges.pausa
                     'dur.ges           CDATA                 #IMPLIED
                     instr              IDREF                 #IMPLIED
                     num                %INTEGERPOSITIVE;     #IMPLIED
                     numbase            %INTEGERPOSITIVE;     #IMPLIED'>
]]>
<!ENTITY % a.ges.pausa ''>

<!-- Logical domain attributes: -->
<!-- fermata = corona in the mensural repertoire. -->
<!ENTITY % a.log.pausa
                     '%a.event;
                     beam               %BEAMS;               #IMPLIED
                     corona             %PLACE;               #IMPLIED
                     dots               %AUGMENTDOT;          #IMPLIED
                     dur                %DURATION.MENSURAL;   %PROPAGATED;
                     tuplet             %TUPLET;              #IMPLIED'>

<!-- Visual domain attributes:  The altsym attribute indicates that the
specified alternative visual symbol is to be displayed. See Read, ex.
7-14 for vertical offset example. The line attribute must contain a 
value from 1 to the number of stafflines.  The value indicates the line
upon which the rest stands.  The spaces attribute states how many spaces
are covered by the rest. -->
<![%meiVisual;[
  <!ENTITY % a.vis.pausa
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     altsym             IDREF                 #IMPLIED
                     beam.with          %PLACE;               #IMPLIED
                     colored            %BOOLEAN;             #IMPLIED
                     dot.ho             %VISUALOFFSET;        #IMPLIED
                     dot.vo             %VISUALOFFSET;        #IMPLIED
                     dot.x              %NUMBER;              #IMPLIED
                     dot.y              %NUMBER;              #IMPLIED
                     line               %INTEGERPOSITIVE;     #IMPLIED
                     size               %SIZE;                #IMPLIED
                     spaces             %INTEGERPOSITIVE;     #IMPLIED'>
]]>
<!ENTITY % a.vis.pausa ''>

<!-- ************************************************************** -->
<!-- * Attributes for slur                                        * -->

<!-- Analytical domain attributes:
The join attribute should be used for linking visually separate phrase
marks, sometimes necessary due to system breaks, that form a single
musical phrase. -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.slur
                     '%a.anl.common;
                     join               IDREFS                #IMPLIED'>
]]>
<!ENTITY % a.anl.slur ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.slur ''>
]]>
<!ENTITY % a.ges.slur ''>

<!-- Logical domain attributes: The dur attribute encodes the logical
and visual duration of the slur. If logical and visual duration differ,
it may be necessary to add a dur.vis attribute. Please note that the
dur attribute is not a true duration, but rather a time stamp for the end
point of the slur. Durations of longer than one measure may give the
number of measures followed by the timestamp, e.g. "1m+3". Values
within the current measure may be expressed as "0m+3" or as simply "3".
Slur may either use tstamp and dur or startid and endid attributes. It is
a semantic error not to specify one of these attribute combinations. -->
<!ENTITY % a.log.slur
                     '%a.controlevent;
                     %a.startendid;
                     dur                %MEASUREBEAT;         #IMPLIED'>

<!-- Visual domain attributes: The bulge or, alternatively, the bezier
attribute, describes the shape of the slur/phrase mark.  The bulge
attribute describes the curve as a set of distance values above or
below an imaginary line connecting the endpoints of the curve while
the bezier attribute records the placement of Bezier control points as
a series of space-separated xy coordinates, eg. 19 45 -32 118. The
bulge attribute must contain one or more values of type %NUMBER. The
vo attribute is the vertical offset (from its normal position) of the
entire rendered slur/phrase mark. -->
<![%meiVisual;[
  <!ENTITY % a.vis.slur
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     %a.xy2;
                     bezier             NMTOKENS              #IMPLIED
                     bulge              NMTOKENS              #IMPLIED
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     endvo              %VISUALOFFSET;        #IMPLIED
                     place              %PLACE;               #IMPLIED
                     rend               %CURVERENDITION;      #IMPLIED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED
                     startvo            %VISUALOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.slur ''>

<!-- ************************************************************** -->
<!-- * Attributes for space                                       * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.space
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.space ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.space
                     'dur.ges           CDATA                 #IMPLIED'>
]]>
<!ENTITY % a.ges.space ''>

<!-- Logical domain attributes: -->
<!ENTITY % a.log.space
                     '%a.event;
                     beam               %BEAMS;               #IMPLIED
                     dots               %AUGMENTDOT;          #IMPLIED
                     dur                %DURATION;            %PROPAGATED;
                     fermata            %PLACE;               #IMPLIED
                     tuplet             %TUPLET;              #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.space
                     'compressable      %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.space ''>

<!-- ************************************************************** -->
<!-- * Attributes for syl                                         * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.syl
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.syl ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.syl ''>
]]>
<!ENTITY % a.ges.syl ''>

<!-- Logical domain attributes:
  Lyric syllable connectors:
    s (_s_pace) = word separator
    d (_d_ash)  = syllable separator
    u (_u_nderscore) = syllable extension
    t (_t_ilde) = syllable elision
  wordpos attribute records the position of the syllable in a word
   -->
<!ENTITY % a.log.syl
                     'con                (s|d|u|t)             #IMPLIED
                     wordpos             (i|m|t)               #IMPLIED'>

<!-- Visual domain attributes: The ho attribute allows any lyric
syllable to be horizontally offset from its normal (centered below the
note) position. -->
<![%meiVisual;[
  <!ENTITY % a.vis.syl
                     '%a.typography;
                     %a.visualoffset;
                     %a.xy;
                     rend                %TEXTRENDITION;       #IMPLIED'>
]]>
<!ENTITY % a.vis.syl ''>

<!-- ************************************************************** -->
<!-- * Attributes for tempo                                       * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.tempo
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.tempo ''>

<!-- Gestural domain attributes: The midi attribute must contain the
number of quarter notes per minute in the range from 10 to 1000. The
value attribute is for a beats-per-minute value. -->
<![%meiGestural;[
  <!ENTITY % a.ges.tempo
                      'midi              %MIDITEMPO;           #IMPLIED
                       value             %TEMPOVALUE;          #IMPLIED'>
]]>
<!ENTITY % a.ges.tempo ''>

<!-- Logical domain attributes: The dur.vis attribute encodes visual
duration. (Read, p. 276-281) If logical and visual durations differ,
it may be necessary to add a dur attribute. Please note that the dur
attribute here is expressed in musical time, i.e. beats or other time
stamp. Therefore, it is not a true duration, but rather a time stamp
for the end point of the directive. The a.startendid entity is
expanded here in order to disallow the end attribute. -->
<!ENTITY % a.log.tempo
                     '%a.controlevent;
                     start              IDREF                 #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.tempo
                     '%a.visualoffset;
                     %a.xy;
                     dur.vis            CDATA                 #IMPLIED
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     place              %PLACE;               #IMPLIED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.tempo ''>

<!-- ************************************************************** -->
<!-- * Attributes for tie                                         * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.tie
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.tie ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.tie ''>
]]>
<!ENTITY % a.ges.tie ''>

<!-- Logical domain attributes: The a.startendid entity is expanded here
in order to make startid and endid attributes required. -->
<!ENTITY % a.log.tie
                     '%a.controlevent;
                     endid              IDREF                 #REQUIRED
                     startid            IDREF                 #REQUIRED'>

<!-- Visual domain attributes: The bulge or, alternatively, the bezier
attribute, describes the shape of the tie.  The bulge attribute
describes the curve as a set of distance values above or below an
imaginary line connecting the endpoints of the curve while the bezier
attribute records the placement of Bezier control points as a series
of space-separated xy coordinates, eg. 19 45 -32 118. The bulge
attribute must contain one or more values of type %NUMBER. The vo
attribute is the vertical offset (from its normal position) of the
entire rendered tie. -->
<![%meiVisual;[
  <!ENTITY % a.vis.tie
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     %a.xy2;
                     bezier             NMTOKENS              #IMPLIED
                     bulge              NMTOKENS              #IMPLIED
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     endvo              %VISUALOFFSET;        #IMPLIED
                     rend               %CURVERENDITION;      #IMPLIED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED
                     startvo            %VISUALOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.tie ''>

<!-- ************************************************************** -->
<!-- * Attributes for trill                                       * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.trill
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.trill ''>

<!-- Gestural domain attributes: The dur.ges attribute records the
performed duration. -->
<![%meiGestural;[
  <!ENTITY % a.ges.trill ''>
]]>
<!ENTITY % a.ges.trill ''>

<!-- Logical domain attributes: The dur attribute encodes the logical
and visual duration of the trill. If logical and visual duration
differ, it may be necessary to add a dur.vis attribute. Please note
that the dur attribute is not a true duration, but rather a time stamp
for the end point of the directive. Alternatively, startid and endid
attributes may be used. An accidental for the trill may be
supplied in the accid attribute. -->
<!ENTITY % a.log.trill
                     '%a.controlevent;
                     %a.startendid;
                     accid              %ACCIDENTAL.EXPLICIT; #IMPLIED
                     dur                %MEASUREBEAT;         #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.trill
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     endho              %VISUALOFFSET;        #IMPLIED
                     endto              %TSTAMPOFFSET;        #IMPLIED
                     place              %PLACE;               #IMPLIED
                     startho            %VISUALOFFSET;        #IMPLIED
                     startto            %TSTAMPOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.trill ''>

<!-- ************************************************************** -->
<!-- * Attributes for tuplet                                      * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.tuplet
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.tuplet ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.tuplet ''>
]]>
<!ENTITY % a.ges.tuplet ''>

<!-- Logical domain attributes: The dur attribute is the time taken up
by the tuplet. If dur is omitted, the default is to calculate the total
duration of the included notes and use the next shorter un-dotted value.
The dots attribute may be used for dotted durations. The num and numbase
attributes express a ratio. They may be used for explicit labelling of the
tuplet, i.e. '3' for an 8th-note triplet, '3:2' for a quarter-note
triplet, etc. The rendering of the ratio, however, is dependent on the
num.format attribute described below. -->
<!ENTITY % a.log.tuplet
                     '%a.event;
                     dots               %AUGMENTDOT;          #IMPLIED
                     dur                %DURATION;            #IMPLIED
                     num                %INTEGERPOSITIVE;     #IMPLIED
                     numbase            %DURATION;            #IMPLIED
                     with               %PLACE;               #IMPLIED'>

<!-- Visual domain attributes: The bracket.place attribute is used to
state where the bracket will be placed in relation to the noteheads
while the num.place attribute gives the placement of the number or ratio
label for the tuplet (if num.visible is 'yes'). The num.visible,
bracket.visible, and dur.visible attributes indicate whether the
numbers, bracket, and duration are visible. The num.format attribute
controls how the num:numbase ratio is to be displayed.
     software defaults:
     bracket.visible 'yes'
     num.visible 'yes' -->
<![%meiVisual;[
  <!ENTITY % a.vis.tuplet
                     'bracket.place     %PLACE;               #IMPLIED
                     bracket.visible    %BOOLEAN;             #IMPLIED
                     dur.visible        %BOOLEAN;             #IMPLIED
                     num.format         (count|ratio)         #IMPLIED
                     num.place          %PLACE;               #IMPLIED
                     num.visible        %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.tuplet ''>

<!-- ************************************************************** -->
<!-- * Attributes for tupletspan                                  * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.tupletspan
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.tupletspan ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.tupletspan ''>
]]>
<!ENTITY % a.ges.tupletspan ''>

<!-- Logical domain attributes: The dur attribute encodes the logical
and visual duration of the tuplet. Unlike other control events where
the dur attribute is expressed as a time stamp, dur here is a true
duration. -->
<!ENTITY % a.log.tupletspan
                     '%a.controlevent;
                     %a.startendid;
                     dots               %AUGMENTDOT;          #IMPLIED
                     dur                %DURATION;            #IMPLIED
                     num                %INTEGERPOSITIVE;     #IMPLIED
                     numbase            %DURATION;            #IMPLIED
                     with               %PLACE;               #IMPLIED'>

<![%meiVisual;[
<!-- Visual domain attributes:
   software defaults:
   bracket.visible 'yes'  What about triplets?
   num.visible 'yes'
-->
  <!ENTITY % a.vis.tupletspan
                     'bracket.place     %PLACE;               #IMPLIED
                     bracket.visible    %BOOLEAN;             #IMPLIED
                     dur.visible        %BOOLEAN;             #IMPLIED
                     num.format         (count|ratio)         #IMPLIED
                     num.place          %PLACE;               #IMPLIED
                     num.visible        %BOOLEAN;             #IMPLIED'>
]]>
<!ENTITY % a.vis.tupletspan ''>

<!-- ************************************************************** -->
<!-- * Attributes for turn                                        * -->

<![%meiAnalysis;[
  <!ENTITY % a.anl.turn
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.turn ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.turn ''>
]]>
<!ENTITY % a.ges.turn ''>

<!-- Logical domain attributes: Accidentals for the turn may be
supplied in the accidupper and accidlower attributes. The a.startendid
entity is expanded here in order to disallow the end attribute. When
the delayed attribute is set to 'yes', the turn begins on the second
half of the beat. See Read, p. 246. -->
<!ENTITY % a.log.turn
                     '%a.controlevent;
                     accidupper         %ACCIDENTAL.EXPLICIT; #IMPLIED
                     accidlower         %ACCIDENTAL.EXPLICIT; #IMPLIED
                     delayed            %BOOLEAN;             #IMPLIED
                     form               (inv|norm)            #IMPLIED
                     start              IDREF                 #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.turn
                     '%a.color;
                     %a.visualoffset;
                     %a.xy;
                     place              %PLACE;               #IMPLIED'>
]]>
<!ENTITY % a.vis.turn ''>

<!-- ************************************************************** -->
<!-- * Attributes for verse                                       * -->

<!-- Analytical domain attributes: -->
<![%meiAnalysis;[
  <!ENTITY % a.anl.verse
                     '%a.anl.common;'>
]]>
<!ENTITY % a.anl.verse ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.verse ''>
]]>
<!ENTITY % a.ges.verse ''>

<!-- Logical domain attributes: The n attribute should be used for
verse numbers. Numbers need not be consecutive; they may be expressed
as ranges, e.g. 2-3,6. A value of 'true' may be used in the refrain
attribute in order to indicate a common, usually centered, refrain
(Mup User's Guide, p. 44). The rhythm attribute may be used to specify
a rhythm for the lyrics that differs from that of the notes on the
staff. -->
<!ENTITY % a.log.verse
                     'refrain          %BOOLEAN;             #IMPLIED
                     rhythm            CDATA                 #IMPLIED'>

<!-- Visual domain attributes: The a.visualoffset entity is expanded
here in order to disallow ho. -->
<![%meiVisual;[
  <!ENTITY % a.vis.verse
                     '%a.typography;
                     %a.xy;
                     to                 %TSTAMPOFFSET;        #IMPLIED
                     vo                 %VISUALOFFSET;        #IMPLIED'>
]]>
<!ENTITY % a.vis.verse ''>

<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- III. Declare and invoke local element declarations.            -->
<!-- ************************************************************** -->
<!-- Doing this here allows user modifications to use all the standard
MEI element classes and parameter entities. The entity is declared as
an empty string first, in case user has no mods and has not declared
it. In order to embed user modifications, this entity must be declared
in the DTD internal subset with a path relative to the DTD, i.e.,
'../myModifications/ModificationsFile.dtd'.                         -->
<!-- ************************************************************** -->
<!ENTITY % meiModifications.dtd ''> %meiModifications.dtd;

<!-- ************************************************************** -->
<!-- IV. Include the individual tag sets.                           -->
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- A. Include the basic tag sets.                                 -->
<!-- ************************************************************** -->
<!-- <!ENTITY % meiShared SYSTEM 'meiShared.dtd'> %meiShared; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiShared.dtd  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains declarations for elements common to more
          than one of the other MEI DTD modules. These are declared here
          in order to minimize dependencies between the modules. This
          file is invoked by the mei.dtd driver file.
                                                                    -->
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- Common elements which are used in more than one module         -->
<!-- ************************************************************** -->
<!-- abbr (abbreviation) contains an abbreviation of any sort. The
type attribute may be used to classify the abbreviation according to
some convenient typology. Sample values include:

  suspension     the abbreviation provides the first letter(s) of the
                 word or phrase, omitting the remainder.
  contraction    the abbreviation omits some letter(s) in the middle.
  brevigraph     the abbreviation comprises a special symbol or mark.
  superscription the abbreviation includes writing above the line.
  acronym        the abbreviation comprises the initial letters of
                 the words of a phrase.
  title          the abbreviation is for a title of address (Dr, Ms,
                 Mr, ...)
  organization   the abbreviation is for the name of an organization.
  geographic     the abbreviation is for a geographic name.

This tag is the mirror image of the <expan> tag; both allow the
encoder to transcribe both an abbreviation and its expansion. In
<abbr>, however, the original is transcribed as the content of the
element and the expansion as an attribute value; <expan> reverses
this. The choice between the two is up to the user. The <abbr> tag is
not required; if appropriate, the encoder may transcribe abbreviations
in the source text silently, without tagging them. If abbreviations
are not transcribed directly but expanded silently, then the MEI
header should so indicate. The cert attribute signifies the degree of
certainty ascribed to the expansion of the abbreviation. The expan
attribute gives an expansion of the abbreviation. The resp attribute
contains an ID reference to an element containing the name of the
editor or transcriber responsible for supplying the expansion of the
abbreviation.-->
<!ENTITY % abbr 'INCLUDE'>
<![%abbr;[
<!ELEMENT %n.abbr; (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.abbr;
          meiform            CDATA                 #FIXED 'abbr'
          %a.common;
          %a.edit;
          %a.facsimile;
          %a.lang;
          %a.trans;
          %a.typed;
          expan              CDATA                 #IMPLIED>
]]>

<!-- expan (expansion) contains the expansion of an abbreviation. The
type attribute may be used to classify the abbreviation according to
some convenient typology. See example values above. This tag is the
mirror image of the <abbr> tag; both allow the encoder to transcribe
both an abbreviation and its expansion. In <abbr>, however, the
original is transcribed as the content of the element and the
expansion as an attribute value; <expan> reverses this. The choice
between the two is up to the user. The <expan> tag is not required; if
appropriate, the encoder may expand abbreviations in the source text
silently, without tagging them. If this is done, the MEI header should
so indicate. The abbr attribute gives the abbreviation in its
unexpanded form. The cert attribute signifies the degree of certainty
ascribed to the expansion of the abbreviation. The resp attribute
contains an ID reference to an element containing the name of the
editor or transcriber responsible for supplying the expansion of the
abbreviation held as the content of the <expan> element. -->
<!ENTITY % expan 'INCLUDE'>
<![%expan;[
<!ELEMENT %n.expan; (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.expan;
          meiform            CDATA                 #FIXED 'expan'
          %a.common;
          %a.edit;
          %a.facsimile;
          %a.lang;
          %a.trans;
          %a.typed;
          abbr               CDATA                 #IMPLIED>
]]>

<!-- A postal address -->
<!ENTITY % address 'INCLUDE'>
<![%address;[
<!ELEMENT %n.address; (%n.addressline;)+>
<!ATTLIST %n.address;
          meiform            CDATA                 #FIXED 'address'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- Single line of an address -->
<!ENTITY % addressline 'INCLUDE'>
<![%addressline;[
<!ELEMENT %n.addressline; (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.addressline;
          meiform            CDATA                 #FIXED 'addressline'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- Bibliographic reference. May function as a hypertext reference
to an external electronic resource. A more structured content model,
similar to TEI's biblFull, requires new elements that function like
those in the meiHead DTD, but that do not duplicate their names. -->
<!ENTITY % bibl 'INCLUDE'>
<![%bibl;[
<!ELEMENT %n.bibl; (#PCDATA|%m.bibl;)*>
<!ATTLIST %n.bibl;
          meiform            CDATA                 #FIXED 'bibl'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.link.common;
          %a.link.external;>
]]>

<!-- Blockquote contains a text phrase or passage attributed to a
source external to the text. The source for the quote may be included
in the optional bibl sub-element. -->
<!ENTITY % blockquote 'INCLUDE'>
<![%blockquote;[
<!ELEMENT %n.blockquote; ((%m.textcomponents;)+, (%n.bibl;)?)>
<!ATTLIST %n.blockquote;
           meiform           CDATA                 #FIXED 'blockquote'
           %a.common;
           %a.facsimile;
           %a.lang;
           %a.xy;>
]]>

<!-- Identifies an organization or group of people that acts as an
entity. May contain name parts in corpname sub-elements since corpname
is included in m.textinline. -->
<!ENTITY % corpname 'INCLUDE'>
<![%corpname;[
<!ELEMENT %n.corpname; (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.corpname;
          meiform            CDATA                 #FIXED 'corpname'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.name;>
]]>

<!-- Date contains a date in any format. -->
<!ENTITY % date 'INCLUDE'>
<![%date;[
<!ELEMENT %n.date;  %m.date;>
<!ATTLIST %n.date;
          meiform            CDATA                 #FIXED 'date'
          %a.bibl;
          %a.common;
          %a.date;
          %a.facsimile;
          %a.lang;>
]]>

<!-- An empty linking element that uses attributes to connect the MEI
document to an external electronic object. Don't confuse this element
with the ptr element, which is an internal link for movement from one
place in the MEI document to another in the same document. -->
<!ENTITY % extptr 'INCLUDE'>
<![%extptr;[
<!ELEMENT %n.extptr;  EMPTY>
<!ATTLIST %n.extptr;
          meiform            CDATA                 #FIXED 'extptr'
          %a.common;
          %a.link.common;
          %a.link.external;>
]]>

<!-- A linking element that can include text and subelements as part of
its reference to an electronic object that is external to the MEI
document. Don't confuse this element with the ref element, which is an
internal link for movement from one place in the MEI document to another
in the same document. -->
<!ENTITY % extref 'INCLUDE'>
<![%extref;[
<!ELEMENT %n.extref;  (#PCDATA|%m.textinline;)*>
<!ATTLIST %n.extref;
          meiform            CDATA                 #FIXED 'extref'
          %a.common;
          %a.lang;
          %a.link.common;
          %a.link.external;>
]]>

<!-- An illustration. -->
<!ENTITY % fig 'INCLUDE'>
<![%fig;[
<!ELEMENT %n.fig;  ((%n.caption;)?, (%n.figdesc;)?, (%n.graphic;)*)>
<!ATTLIST %n.fig;
          meiform            CDATA                 #FIXED 'fig'
          %a.common;
          %a.facsimile;
          %a.link.common;
          %a.link.external;
          %a.xy;>
]]>

<!-- A label which accompanies an illustration or a table. -->
<!ENTITY % caption 'INCLUDE'>
<![%caption;[
<!ELEMENT %n.caption;  (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.caption;
          meiform            CDATA                 #FIXED 'caption'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- Indicates the location of an inline graphic, illustration, or
figure. -->
<!ENTITY % graphic 'INCLUDE'>
<![%graphic;[
<!ELEMENT %n.graphic; EMPTY>
<!ATTLIST %n.graphic;
          meiform            CDATA                 #FIXED 'graphic'
          %a.common;
          %a.facsimile;
          %a.link.external;
          height             %INTEGERPOSITIVE;     #IMPLIED
          units              CDATA                 #IMPLIED
          width              %INTEGERPOSITIVE;     #IMPLIED>
]]>

<!-- Meta-data for an inline illustration. Best practice suggests the
use of controlled vocabulary. Don't confuse this element with a caption.
A caption is text primarily intended for display with an illustration.
It may or may not function as a description of the illustration.
Allowing %m.textcomponents (excluding fig) here make it possible to
transcribe text included in the figure. Allowing %m.primitives
accommodates figures 'drawn' at rendering time. -->
<!ENTITY % figdesc 'INCLUDE'>
<![%figdesc;[
<!ELEMENT %n.figdesc; (#PCDATA|%m.primitives;|%n.blockquote;|
                      %n.lg;|%n.list;|%n.p;|%n.table;|%n.annot;)*>
<!ATTLIST %n.figdesc;
          meiform            CDATA                 #FIXED 'figdesc'
          %a.common;
          %a.lang;>
]]>

<!-- Geographic name. The proper noun designation for a place, natural
feature, or political jurisdiction. May contain name sub-parts in
geogname sub-elements since geogname is included in m.textinline. -->
<!ENTITY % geogname 'INCLUDE'>
<![%geogname;[
<!ELEMENT %n.geogname; (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.geogname;
          meiform            CDATA                 #FIXED 'geogname'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.name;>
]]>

<!-- Contains any heading, for example, the title of a text division,
or the heading of a list. A head is not allowed to contain a sub-head
in order to encourage the proper nesting of div elements. -->
<!ENTITY % head 'INCLUDE'>
<![%head;[
<!ELEMENT %n.head;  (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.head;
          meiform            CDATA                 #FIXED 'head'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.xy;>
]]>

<!-- Bibliographic, e.g., International Standard Book/Music Number,
Library of Congress Control Number, Publisher's Number, or personal
identifier. -->
<!ENTITY % identifier 'INCLUDE'>
<![%identifier;[
<!ELEMENT %n.identifier;  (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.identifier;
          meiform            CDATA                 #FIXED 'identifier'
          %a.bibl;
          %a.common;
          %a.facsimile;
          %a.typed;>
]]>

<!-- Text line break. The n attribute should be used to record a label
for the line, i.e. most likely a line number. See comment on verse element
for description of func attribute. -->
<!ENTITY % lb 'INCLUDE'>
<![%lb;[
<!ELEMENT %n.lb;  EMPTY>
<!ATTLIST %n.lb;
          meiform            CDATA                 #FIXED 'lb'
          %a.common;
          %a.facsimile;
          %a.typed;
          func               (line|group)          #IMPLIED
          source             IDREF                 #IMPLIED>
]]>

<!-- Line group usually contains verse although it may be used for
any section of text that is organized as a group of lines. -->
<!ENTITY % lg 'INCLUDE'>
<![%lg;[
<!ELEMENT %n.lg; ((%n.head;)?, (%n.l;)+)>
<!ATTLIST %n.lg;
          meiform            CDATA                 #FIXED 'lg'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.xy;>
]]>

<!-- Line contains a single line of text. The n attribute should
be used to record a label for the line, i.e. most likely a line
number. -->
<!ENTITY % l 'INCLUDE'>
<![%l;[
<!ELEMENT %n.l; (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.l;
          meiform            CDATA                 #FIXED 'l'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- List. N.B. A definition list should be encoded as a 2-column
table. -->
<!ENTITY % list 'INCLUDE'>
<![%list;[
<!ELEMENT %n.list;  ((%n.head;)?, (%n.item;)+)>
<!ATTLIST %n.list;
          meiform            CDATA                 #FIXED 'list'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.xy;
          form               (simple|marked|ordered)
                                                   #IMPLIED>
]]>

<!-- Single item in a list -->
<!ENTITY % item 'INCLUDE'>
<![%item;[
<!ELEMENT %n.item;  (#PCDATA|%m.textcomponents;|%m.textinline;
                    %m.edit;)*>
<!ATTLIST %n.item;
          meiform            CDATA                 #FIXED 'item'
          %a.common;
          %a.facsimile;>
]]>

<!-- Contains the name of an individual, such as 'Henry VIII, King of
England', a corporate body, such as 'The Beatles', a geographical place
or a generative mechanical process. The identifier and date elements
are declared in the meiShared DTD. They are available here in order to
record any identifiers or dates, associated with the name, i.e., birth
and death in the case of persons or creation and dissolution in the
case of a corporate entity or place.  When name parts are needed, use
name sub-elements. The recommended values for the type attribute are:
pers, corp, place, process. The role attribute may be used to record
the function of the person, corporate body, etc. -->
<!ENTITY % name 'INCLUDE'>
<![%name;[
<!ELEMENT %n.name; (#PCDATA|%n.date;|%n.identifier;|%n.name;|%n.lb; %m.edit;)*>
<!ATTLIST %n.name;
          meiform            CDATA                 #FIXED 'name'
          %a.common;
          %a.bibl;
          %a.name;
          %a.typed;
          role               CDATA                 #IMPLIED>
]]>

<!-- A number in any form -->
<!ENTITY % num 'INCLUDE'>
<![%num;[
<!ELEMENT %n.num;  (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.num;
          meiform            CDATA                 #FIXED 'num'
          %a.common;
          %a.facsimile;
          %a.lang;
          units              CDATA                 #IMPLIED>
]]>

<!-- Paragraph -->
<!ENTITY % p 'INCLUDE'>
<![%p;[
<!ELEMENT %n.p;  (#PCDATA|%m.paracontent;)*>
<!ATTLIST %n.p;
          meiform            CDATA                 #FIXED 'p'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.xy;>
]]>

<!-- Page break. Meta-data about an accompanying page image may be
recorded in the pgdesc element. The n attribute records the page number
in the source. It need not be an integer, e.g. 'iv', or 'p17-3'. The
logical page number can be calculated by counting previous pb ancestor
elements. The source attribute is provided for linking to the
bibliographic description of the source(s) that contains the page break.
When used in a score context, a page break implies an accompanying
system break. Permitting the following attributes will make it possible
to record layout changes at a pagebreak rather than forcing a new
section element:
          botmar             %NUMBER;              #IMPLIED
          height             %NUMBER;              #IMPLIED
          leftmar            %NUMBER;              #IMPLIED
          rightmar           %NUMBER;              #IMPLIED
          topmar             %NUMBER;              #IMPLIED
          spacing.system     CDATA                 #IMPLIED
          width              %NUMBER;              #IMPLIED -->
<!ENTITY % pb 'INCLUDE'>
<![%pb;[
<!ELEMENT %n.pb;  ((%n.fw;)*, (%n.pgdesc;)?)>
<!ATTLIST %n.pb;
          meiform            CDATA                 #FIXED 'pb'
          %a.common;
          %a.facsimile;
          %a.link.common;
          %a.link.external;
          func               (verso|recto)         #IMPLIED
          source             IDREFS                #IMPLIED>
]]>

<!-- Meta-data which accompanies a page image. Best practice suggests
the use of controlled vocabulary. -->
<!ENTITY % pgdesc 'INCLUDE'>
<![%pgdesc;[
<!ELEMENT %n.pgdesc;  (#PCDATA)>
<!ATTLIST %n.pgdesc;
          meiform            CDATA                 #FIXED 'pgdesc'
          %a.common;
          %a.lang;>
]]>

<!-- A label for a period of time, such as 'Baroque' or '3rd Style
period'. -->
<!ENTITY % periodname 'INCLUDE'>
<![%periodname;[
<!ELEMENT %n.periodname; (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.periodname;
          meiform            CDATA                 #FIXED 'periodname'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- Designation for an individual, including any or all of that
individual's forenames, surnames, honorific titles, and added names. May
contain name parts in persname sub-elements since persname is included
in m.textinline. -->
<!ENTITY % persname 'INCLUDE'>
<![%persname;[
<!ELEMENT %n.persname; (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.persname;
          meiform            CDATA                 #FIXED 'persname'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.name;>
]]>

<!-- An empty internal linking element that uses attributes to provide
for movement from one place in a MEI document to another place in the
same document. Unlike the ref element, the ptr element cannot contain
text or subelements to describe the referenced object. Don't confuse
this element with extptr which is used to connect the MEI document to
an external electronic object. -->
<!ENTITY % ptr 'INCLUDE'>
<![%ptr;[
<!ELEMENT %n.ptr;  EMPTY>
<!ATTLIST %n.ptr;
          meiform            CDATA                 #FIXED 'ptr'
          %a.common;
          %a.link.common;
          %a.link.internal;>
]]>

<!-- An internal linking element that provides for movement from one
place in a MEI document to another point in the same document. Unlike
the ptr element, ref may contain text and subelements to describe the
destination. Don't confuse this element with extref which provides for
linking to an electronic object that is external to the MEI document. -->
<!ENTITY % ref 'INCLUDE'>
<![%ref;[
<!ELEMENT %n.ref;  (#PCDATA|%m.textinline;)*>
<!ATTLIST %n.ref;
          meiform            CDATA                 #FIXED 'ref'
          %a.common;
          %a.lang;
          %a.link.common;
          %a.link.internal;>
]]>

<!-- Special visual rendering of text. A positive value for rotation
rotates the text in a counter-clockwise fashion, while negative values
produce clockwise rotation. The altrend attribute can be used to
extend the values of the rend attribute. One or the other of the rend
and altrend attributes is required. -->
<!ENTITY % rend 'INCLUDE'>
<![%rend;[
<!ELEMENT %n.rend;  (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.rend;
          meiform            CDATA                 #FIXED 'rend'
          %a.color;
          %a.common;
          %a.lang;
          %a.typography;
          altrend            CDATA                 #IMPLIED
          halign             (left|center|right)   #IMPLIED
          rend               %TEXTRENDITION;       #IMPLIED
          rotation           %DEGREES;             #IMPLIED
          valign             (top|middle|bottom|baseline)
                                                   #IMPLIED>
]]>

<!-- Institution which holds a bibliographic item. Sub-units of the
institution may be marked with nested repository elements. -->
<!ENTITY % repository 'INCLUDE'>
<![%repository;[
<!ELEMENT %n.repository; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.repository;
          meiform            CDATA                 #FIXED 'repository'
          %a.bibl;
          %a.common;
          %a.facsimile;>
]]>

<!-- Stacked text, e.g. an inline table with a single column. -->
<!ENTITY % stack 'INCLUDE'>
<![%stack;[
<!ELEMENT %n.stack; %m.stack;>
<!ATTLIST %n.stack;
          meiform            CDATA                 #FIXED 'stack'
          %a.common;
          %a.facsimile;
          %a.lang;
          delim              CDATA                 #IMPLIED
          align              (left|right|center|
                             rightdigit)           #IMPLIED>
]]>

<!-- A label for a characteristic style of writing or performance,
such as 'bebop' or 'rock-n-roll'. May be used independently of
periodname. -->
<!ENTITY % stylename 'INCLUDE'>
<![%stylename;[
<!ELEMENT %n.stylename; (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.stylename;
          meiform            CDATA                 #FIXED 'stylename'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- Visual layout in tabular form -->
<!ENTITY % table 'INCLUDE'>
<![%table;[
<!ELEMENT %n.table;  ((%n.caption;)?, (%n.tr;)+)>
<!ATTLIST %n.table;
          meiform            CDATA                 #FIXED 'table'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.xy;>
]]>

<!-- Table row -->
<!ENTITY % tr 'INCLUDE'>
<![%tr;[
<!ELEMENT %n.tr;  (%n.th;|%n.td;)+>
<!ATTLIST %n.tr;
          meiform            CDATA                 #FIXED 'tr'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.xy;>
]]>

<!-- Table cell containing header information -->
<!ENTITY % th 'INCLUDE'>
<![%th;[
<!ELEMENT %n.th;  (#PCDATA|%m.textcomponents;|%m.textinline;
                  %m.edit;)*>
<!ATTLIST %n.th;
          meiform            CDATA                 #FIXED 'th'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.xy;
          colspan            %INTEGERPOSITIVE;     #IMPLIED
          rowspan            %INTEGERPOSITIVE;     #IMPLIED>
]]>

<!-- Table cell containing data -->
<!ENTITY % td 'INCLUDE'>
<![%td;[
<!ELEMENT %n.td;  (#PCDATA|%m.textcomponents;|%m.textinline;
                  %m.edit;)*>
<!ATTLIST %n.td;
          meiform            CDATA                 #FIXED 'td'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.xy;
          colspan            %INTEGERPOSITIVE;     #IMPLIED
          rowspan            %INTEGERPOSITIVE;     #IMPLIED>
]]>

<!-- Title of a bibliographic entity. The type attribute may be used
to classify the title according to some convenient typology. Sample
values include: 
   main         main title 
   subordinate  subtitle, title of part 
   parallel     alternate title, often in another language, by which
                the work is also known 
   abbreviated  abbreviated form of title
   uniform      uniform title

The type attribute is provided for convenience in analysing titles and
processing them according to their type; where such specialized
processing is not necessary, there is no need for such analysis, and the
entire title, including subtitles and any parallel titles, may be
enclosed within a single <title> element. The level attribute indicates
whether this is the title of an article, monograph, journal, series, or
unpublished material. Title parts may be encoded in title sub-elements
since title is included in m.textinline. -->
<!ENTITY % title 'INCLUDE'>
<![%title;[
<!ELEMENT %n.title; (#PCDATA|%m.textinline; %m.edit;)*>
<!ATTLIST %n.title;
          meiform            CDATA                 #FIXED 'title'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.typed;
          level              (a|m|j|s|u)           #IMPLIED>
]]>

<!-- The titlepage element contains the title page of a text.  It may be
used within the front or back matter or within physdesc. -->
<!ENTITY % titlepage 'INCLUDE'>
<![%titlepage;[
<!ELEMENT %n.titlepage;  (%m.textcomponents;|%n.pb;)+>
<!ATTLIST %n.titlepage;
          meiform            CDATA                 #FIXED 'titlepage'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- ************************************************************** -->
<!-- Graphic primitive element declarations                         -->
<!-- ************************************************************** -->
<!-- Line. The x,y and x2,y2 attributes identify the two terminal
points of the line. Text content of the line element, e.g. 'gliss.',
may be rendered with the line. If the startid or endid attributes are
present, then the x,y and x2,y2 coordinates are relative to the xy
coordinates of the referenced element(s). Otherwise, they are assumed
to be absolute page coordinate references. -->
<!ENTITY % line 'INCLUDE'>
<![%line;[
<!ELEMENT %n.line;  (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.line;
          meiform            CDATA                 #FIXED 'line'
          %a.anl.common;
          %a.color;
          %a.common;
          %a.facsimile;
          %a.startendid;
          %a.typed;
          %a.xy.required;
          %a.xy2.required;
          rend               %LINERENDITION;       #IMPLIED>
]]>

<!-- Curve. The x1,y1 and x2,y2 attributes identify the two terminal
points of the curve. If the startid or endid attributes are present,
then the x,y and x2,y2 coordinates are relative to the xy coordinates
of the referenced element(s). Otherwise, they are assumed to be
absolute page coordinate references. The bulge or, alternatively, the
bezier attribute, describe the shape of the curve. The bulge attribute
describes the curve as a set of distance values above or below an
imaginary line connecting the endpoints of the curve while the bezier
attribute records the placement of Bezier control points as a series
of space-separated xy coordinate pairs, eg. 19 45 -32 118. The bulge
attribute must contain one or more values of the %NUMBER type. Either
the bezier attribute or the bulge and xy coordinates are required. -->
<!ENTITY % curve 'INCLUDE'>
<![%curve;[
<!ELEMENT %n.curve;  EMPTY>
<!ATTLIST %n.curve;
          meiform            CDATA                 #FIXED 'curve'
          %a.anl.common;
          %a.color;
          %a.common;
          %a.facsimile;
          %a.startendid;
          %a.typed;
          %a.xy.required;
          %a.xy2.required;
          bezier             NMTOKENS              #IMPLIED
          bulge              NMTOKENS              #IMPLIED
          rend               %CURVERENDITION;      #IMPLIED>
]]>

<!-- A reference to a previously defined symbol. The x and y attributes
identify the starting point, e.g. "hotspot" of the symbol. If the
startid attribute is present, then the xy coordinates are relative to
the xy coordinates of the referenced element. Otherwise, they are
assumed to be absolute page coordinate references. The ref attribute
must contain the id of a symboldef element. The scale attribute indicates
that the printed output must be scaled by the specified percentage. -->
<!ENTITY % symbol 'INCLUDE'>
<![%symbol;[
<!ELEMENT %n.symbol;  EMPTY>
<!ATTLIST %n.symbol;
          meiform            CDATA                 #FIXED 'symbol'
          %a.anl.common;
          %a.color;
          %a.common;
          %a.facsimile;
          %a.typed;
          %a.xy.required;
          ref                IDREF                 #REQUIRED
          scale              %PERCENT;             #IMPLIED
          startid            IDREF                 #IMPLIED>
]]>

<!-- Page-anchored text. The content model here is similar to paragraph
without %m.textcomponent and %n.pb sub-elements. If the startid attribute
is present, then the xy coordinates are relative to the xy coordinates
of the referenced element. Otherwise, they are assumed to be absolute
page coordinate references. -->
<!ENTITY % anchoredtext 'INCLUDE'>
<![%anchoredtext;[
<!ELEMENT %n.anchoredtext;  (#PCDATA|%m.anchoredtext; %m.edit;)*>
<!ATTLIST %n.anchoredtext;
          meiform            CDATA                 #FIXED 'anchoredtext'
          %a.anl.common;
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.typed;
          %a.xy.required;
          startid            IDREF                 #IMPLIED>
]]>

<!-- ************************************************************** -->

<!-- <!ENTITY % meiBase SYSTEM 'meiBase.dtd'> %meiBase; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiBase.dtd  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains declarations for the work-level
          elements in MEI. It is invoked by the mei.dtd driver
          file.
                                                                    -->
<!-- ************************************************************** -->

<!-- This element is a container for everything else in the document
besides the header. The front and back elements are declared in the
meiText DTD. -->
<!ELEMENT music  (%m.facsimile; (%n.front;)?, (%n.body;|%n.group;)?,
                 (%n.back;)?)>
<!ATTLIST music
          %a.common;>

<!-- The group element enables the gathering of multiple documents
into a single file. Because its model contains the music element,
each of the documents can have its own front and back matter. -->
<!ENTITY % group 'INCLUDE'>
<![%group;[
<!ELEMENT %n.group;  ((music|%n.group;), (music|%n.group;)*)>
<!ATTLIST %n.group;
          meiform            CDATA                 #FIXED 'group'
          %a.common;>
]]>

<!-- The body element contains the actual music data. When the
music can be broken into high-level, discrete, linear segments, such
as movements in the case of a symphony, there may be multiple mdiv
elements within the body. This is the highest level indication of
the structure of the music. The model <!ELEMENT %n.body; (%n.mdiv;)*>
allows the body element to be empty, which might be useful in some
editing/creation situations. -->
<!ENTITY % body 'INCLUDE'>
<![%body;[
<!ELEMENT %n.body;   (%n.mdiv;)+>
<!ATTLIST %n.body;
          meiform            CDATA                 #FIXED 'body'
          %a.common;>
]]>

<!-- The mdiv element may contain one or both of 2 possible views of the
music. The score view is the traditional full and open score while the
parts view contains each performer's view of the score; that is, his
part. These 2 views are necessary because it is not always possible or
desirable to generate one from the other. The score and parts elements
are placed here and not directly within the body element because score
and part characteristics may change from mdiv to mdiv. For example, the
2nd movement of a symphony may require different performing forces (and
therefore different score and part layout) than the other movements.
Another possible model is <!ELEMENT mdiv (score?, parts?, sourcedesc*)>
which allows meta-data to accompany an mdiv. However, this creates a
dependency between the meiBase DTD and the meiHead DTD. The mdiv may be
recursively nested in order to represent music which exhibits this kind
of structure.  For example, an opera is normally divided into acts,
which are in turn divided into scenes. This may be represented by the
following markup:
  <mdiv> <- the opera
    <mdiv> <- act I
      <mdiv> <- scene i
      <mdiv> <- scene ii
    </mdiv>
    <mdiv> <- act II
      <mdiv> <- scene i
      <mdiv> <- scene ii
    </mdiv>
  </mdiv>
-->
<!ENTITY % mdiv 'INCLUDE'>
<![%mdiv;[
<!ELEMENT %n.mdiv; (((%n.score;)?, (%n.parts;)?) | (%n.mdiv;)*)>
<!ATTLIST %n.mdiv;
          meiform            CDATA                 #FIXED 'mdiv'
          %a.common;
          %a.facsimile;
          %a.typed;>
]]>

<!-- Full score view of the mdiv. Since the measure element is optional,
a score may consist entirely of pagebreaks, each of which points to
a page image. The pb element is declared in the meiShared DTD. Div
elements are allowed preceding and following sections of music data
in order to accommodate blocks of explanatory text. -->
<!ENTITY % score 'INCLUDE'>
<![%score;[
<!ELEMENT %n.score; (
                      %n.scoredef;
                      | %n.staffgrp;
                      | %n.staffdef;
                      | (%n.section;, (%n.ending;)*)
                      | %n.div;
                      %m.score;
                      %m.apparatus;
                    )*>
<!ATTLIST %n.score;
          meiform            CDATA                 #FIXED 'score'
          %a.common;
          %a.typed;
          %a.log.score;
          %a.vis.score;
          %a.ges.score;
          %a.anl.score;>
]]>

<!-- Container for score meta-information. -->
<!ENTITY % scoredef 'INCLUDE'>
<![%scoredef;[
<!ELEMENT %n.scoredef;  ((%n.chordtable;)?, (%n.symboltable;)?, (%n.keysig;)?,
                        (%n.pghead1;)?, (%n.pghead2;)?, (%n.pgfoot1;)?,
                        (%n.pgfoot2;)?, ((%n.staffgrp;)?|(%n.staffdef;)?))>
<!ATTLIST %n.scoredef;
          meiform            CDATA                 #FIXED 'scoredef'
          %a.common;
          %a.log.scoredef;
          %a.vis.scoredef;
          %a.ges.scoredef;
          %a.anl.scoredef;>
]]>

<!-- Parts view of the mdiv. -->
<!ENTITY % parts 'INCLUDE'>
<![%parts;[
<!ELEMENT %n.parts;  (%n.part;)*>
<!ATTLIST %n.parts;
          meiform            CDATA                 #FIXED 'parts'
          %a.common;
          %a.typed;
          %a.log.parts;
          %a.vis.parts;
          %a.ges.parts;
          %a.anl.parts;>
]]>

<!-- A part is an alternative visual rendition of the score from a
particular performer's point of view. Part elements are not used in the
score to indicate voice leading. Next attributes on event elements
should be used for this purpose. Part elements are useful for encoding
individual parts when there is no score, such as early music part books,
when the music has non-aligning barlines, when different layout, such as
page turns, are needed for the score and parts, or for accommodating
software that requires part-by-part encoding. When assembly of the parts
into a score is desired and there are non-aligning barlines, barlines which
indicate points of alignment across all the parts should be marked as
'controlling', while non-aligning ones should be marked as 'non-
controlling'. The pb sub-element is declared in the meiShared DTD. -->
<!ENTITY % part 'INCLUDE'>
<![%part;[
<!ELEMENT %n.part; (
                      %n.scoredef;
                      | %n.staffgrp;
                      | %n.staffdef;
                      | (%n.section;, (%n.ending;)*)
                      | %n.div;
                      %m.score;
                      %m.apparatus;
                    )*>
<!ATTLIST %n.part;
          meiform            CDATA                 #FIXED 'part'
          %a.common;
          %a.typed;
          %a.log.part;
          %a.vis.part;
          %a.ges.part;
          %a.anl.part;>
]]>

<!-- Chord/tablature look-up table. A table may be shared between mei
instances through the use of an external parsed entity containing the
look-up table to be shared. -->
<!ENTITY % chordtable 'INCLUDE'>
<![%chordtable;[
<!ELEMENT %n.chordtable; (%n.chorddef;)+>
<!ATTLIST %n.chordtable;
          meiform            CDATA                 #FIXED 'chordtable'
          %a.common;>
]]>

<!-- Chord/tablature definition. An individual chord in the chord
table. An id isn't required here but harm elements can only reference
a particular chorddef via an id. Therefore, if a chorddef will ever be
referenced, an id is necessary. The pos (position) attribute is
provided in order to create displayable chord tablature grids. (Read,
p. 409-410) -->
<!ENTITY % chorddef 'INCLUDE'>
<![%chorddef;[
<!ELEMENT %n.chorddef; ((%n.chordmember;)*, (%n.barre;)*)>
<!ATTLIST %n.chorddef;
          meiform            CDATA                 #FIXED 'chorddef'
          %a.common;
          pos                CDATA                 #IMPLIED>
]]>

<!-- Chord member. An individual pitch in a chord. The fing and fret
attributes are provided in order to create displayable chord tablature
grids. The inth (harmonic interval) attribute gives the number of 1/2
steps above the bass. Of course, for the bass note itself, inth should
be set to '0'. The inth attribute may be used to provide "playable"
chords. -->
<!ENTITY % chordmember 'INCLUDE'>
<![%chordmember;[
<!ELEMENT %n.chordmember; EMPTY>
<!ATTLIST %n.chordmember;
          meiform            CDATA                 #FIXED 'chordmember'
          %a.common;
          accid              %ACCIDENTAL.IMPLICIT; #IMPLIED
          fing               (x|o|1|2|3|4|5)       #IMPLIED
          fret               (1|2|3|4|5)           #IMPLIED
          inth               %INTEGERNONNEGATIVE;  #IMPLIED
          pname              %PITCHNAME;           #REQUIRED>
]]>

<!-- An indication of fingering in a chord tablature grid. The from
and to attributes should contain the id of a chordmember element. -->
<!ENTITY % barre 'INCLUDE'>
<![%barre;[
<!ELEMENT %n.barre;  EMPTY>
<!ATTLIST %n.barre;
          meiform            CDATA                 #FIXED 'barre'
          %a.common;
          fret               (1|2|3|4|5)           #REQUIRED
          from               IDREF                 #REQUIRED
          to                 IDREF                 #REQUIRED>
]]>

<!-- Symboltable contains individual, user-defined symbols. Like
a chord table, a symboltable may be shared between mei instances
through the use of an external parsed entity containing the
symboltable to be shared. -->
<!ENTITY % symboltable 'INCLUDE'>
<![%symboltable;[
<!ELEMENT %n.symboltable; (%n.symboldef;)+>
<!ATTLIST %n.symboltable;
          meiform            CDATA                 #FIXED 'symboltable'
          %a.common;>
]]>

<!-- Declaration of an individual symbol. The elements referred to
by the %m.primitives entity are declared in the meiShared DTD. -->
<!ENTITY % symboldef 'INCLUDE'>
<![%symboldef;[
<!ELEMENT %n.symboldef; (%m.primitives;)+>
<!ATTLIST %n.symboldef;
          meiform            CDATA                 #FIXED 'symboldef'
          %a.common;>
]]>

<!-- Default MIDI instrument declaration. This element provides a
starting or default instrument declaration for a staff, a group of
staves, or a layer. MIDI prog elements may then change the instrument
as necessary. -->
<!ENTITY % instrdef 'INCLUDE'>
<![%instrdef;[
<!ELEMENT %n.instrdef; EMPTY>
<!ATTLIST %n.instrdef;
          meiform            CDATA                 #FIXED 'instrdef'
          %a.common;
          midi.channel       %MIDICHANNEL;         #IMPLIED
          midi.duty          %PERCENT;             #IMPLIED
          midi.instr         %MIDIVALUE;           #IMPLIED
          midi.instrname     CDATA                 #IMPLIED
          midi.port          %MIDIVALUE;           #IMPLIED
          midi.track         %INTEGERPOSITIVE;     #IMPLIED>
]]>

<!-- A running header on the first page. This element is a specialized
form of the fw element for capturing the table-formatted textual data
that often appears on the first page of printed music. It may also be
used for similarly formatted material in manuscripts. The pgheadN and
pgfootN elements should *not* be used to encode textual notes!  Auto-
generated page numbers may be indicated with a processing instruction. -->
<!ENTITY % pghead1 'INCLUDE'>
<![%pghead1;[
<!ELEMENT %n.pghead1; (%n.table;)*>
<!ATTLIST %n.pghead1;
          meiform            CDATA                 #FIXED 'pghead1'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- A running header on the pages following the first. This element is
a specialized form of the fw element. The pgheadN and pgfootN elements
should *not* be used to encode textual notes! Auto-generated page
numbers may be indicated with a processing instruction. -->
<!ENTITY % pghead2 'INCLUDE'>
<![%pghead2;[
<!ELEMENT %n.pghead2; (%n.table;)*>
<!ATTLIST %n.pghead2;
          meiform            CDATA                 #FIXED 'pghead2'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- A running footer on the first page. This element is a specialized
form of the fw element. Auto-generated page numbers may be indicated with
a processing instruction. The pgheadN and pgfootN elements should *not* be
used to encode textual notes! -->
<!ENTITY % pgfoot1 'INCLUDE'>
<![%pgfoot1;[
<!ELEMENT %n.pgfoot1; (%n.table;)*>
<!ATTLIST %n.pgfoot1;
          meiform            CDATA                 #FIXED 'pgfoot1'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- A running header on the pages following the first. This element
is a specialized form of the fw element. Auto-generated page numbers may
be indicated with a processing instruction. The pgheadN and pgfootN
elements should *not* be used to encode textual notes! -->
<!ENTITY % pgfoot2 'INCLUDE'>
<![%pgfoot2;[
<!ELEMENT %n.pgfoot2; (%n.table;)*>
<!ATTLIST %n.pgfoot2;
          meiform            CDATA                 #FIXED 'pgfoot2'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- Staff, staffgrp, or grpsym label -->
<!ENTITY % label 'INCLUDE'>
<![%label;[
<!ELEMENT %n.label;   (#PCDATA|%m.anchoredtext; %m.edit;)*>
<!ATTLIST %n.label;
          meiform            CDATA                 #FIXED 'label'
          %a.common;
          %a.facsimile;
          source             IDREF                 #IMPLIED>
]]>

<!-- A group of staves. Bracketed staff groups may contain other
bracketed or braced staff groups or single staves. See Read, p. 35-38,
examples p. 434, 438. System is the more proper name for this concept
(Read, p. 37-38). Split staffgrp into bracket and brace elements? -->
<!ENTITY % staffgrp 'INCLUDE'>
<![%staffgrp;[
<!ELEMENT %n.staffgrp;  ((%n.label;)*, (%n.instrdef;)*,
                         (%n.staffgrp;|%n.staffdef;)+, (%n.grpsym;)*)>
<!ATTLIST %n.staffgrp;
          meiform            CDATA                 #FIXED 'staffgrp'
          %a.common;
          %a.facsimile;
          %a.log.staffgrp;
          %a.vis.staffgrp;
          %a.ges.staffgrp;
          %a.anl.staffgrp;>
]]>

<!-- Group symbol, i.e., a brace or bracket.  This element may be used
instead of the staffgrp element's symbol attribute when exact
placement or editorial details for the brace must be recorded. -->
<!ENTITY % grpsym 'INCLUDE'>
<![%grpsym;[
<!ELEMENT %n.grpsym;  (%n.label;)*>
<!ATTLIST %n.grpsym;
          meiform            CDATA                 #FIXED 'grpsym'
          %a.common;
          %a.facsimile;
          %a.log.grpsym;
          %a.vis.grpsym;
          %a.ges.grpsym;
          %a.anl.grpsym;>
]]>

<!-- Staff. The n attribute is a connection back to the appropriate
staffdef element. If the n attribute is omitted, encoding order is
presumed to match the staff order.  Of course, if data is supplied
for only a subset of staves, the n attribute must be supplied. -->
<!ENTITY % staff 'INCLUDE'>
<![%staff;[
<!ELEMENT %n.staff;  (%m.staff;)>
<!ATTLIST %n.staff;
          meiform            CDATA                 #FIXED 'staff'
          %a.common;
          %a.facsimile;
          %a.log.staff;
          %a.vis.staff;
          %a.ges.staff;
          %a.anl.staff;>
]]>

<!-- Container for staff meta-information. -->
<!ENTITY % staffdef 'INCLUDE'>
<![%staffdef;[
<!ELEMENT %n.staffdef;  (
                          (%n.label;)*, (%n.keysig;)?,
                          (%n.instrdef;|%n.layerdef; %m.multidef;)*
                        )>
<!ATTLIST %n.staffdef;
          meiform            CDATA                 #FIXED 'staffdef'
          %a.common;
          %a.log.staffdef;
          %a.vis.staffdef;
          %a.ges.staffdef;
          %a.anl.staffdef;>
]]>

<!-- The clef element must be used when a staff employs multiple
simultaneous clefs. -->
<!ENTITY % clef 'INCLUDE'>
<![%clef;[
<!ELEMENT %n.clef;  EMPTY>
<!ATTLIST %n.clef;
          meiform            CDATA                 #FIXED 'clef'
          %a.common;
          %a.facsimile;
          %a.anl.clef;
          %a.ges.clef;
          %a.log.clef;
          %a.vis.clef;>
]]>

<!-- Layer (voice). The n attribute should be used to establish a
connection back to the appropriate layerdef element.  Usually, the
topmost layer is "1", next is "2", etc. *regardless of voicing*). If
the n attribute is omitted, encoding order is presumed to match the
layer order. Of course, if data is supplied for only a subset of
layers, the n attribute must be supplied. -->
<!ENTITY % layer 'INCLUDE'>
<![%layer;[
<!ELEMENT %n.layer;  (%m.layer;)*>
<!ATTLIST %n.layer;
          meiform            CDATA                 #FIXED 'layer'
          %a.common;
          %a.facsimile;
          %a.log.layer;
          %a.vis.layer;
          %a.ges.layer;
          %a.anl.layer;>
]]>

<!-- Container for layer (e.g. voice) meta-information. -->
<!ENTITY % layerdef 'INCLUDE'>
<![%layerdef;[
<!ELEMENT %n.layerdef;  (%n.instrdef;)*>
<!ATTLIST %n.layerdef;
          meiform            CDATA                 #FIXED 'layerdef'
          %a.common;
          %a.log.layerdef;
          %a.vis.layerdef;
          %a.ges.layerdef;
          %a.anl.layerdef;>
]]>

<!-- The section element contains actual music data. The pb sub-element
is declared in the meiShared DTD. The linking attributes are available
here so that this element can point to external media objects or to
related internal elements, such as annotations. -->
<!ENTITY % section 'INCLUDE'>
<![%section;[
<!ELEMENT %n.section; (
                      %n.scoredef;
                      | %n.staffgrp;
                      | %n.staffdef;
                      | (%n.section;, (%n.ending;)*)
                      | %n.div;
                      %m.score;
                      %m.apparatus;
                    )*>
<!ATTLIST %n.section;
          meiform            CDATA                 #FIXED 'section'
          %a.common;
          %a.facsimile;
          %a.typed;
          %a.link.common;
          %a.link.external;
          %a.link.internal;
          %a.log.section;
          %a.vis.section;
          %a.ges.section;
          %a.anl.section;>
]]>

<!-- Alternative ending. The scoredef element is allowed so that an
ending may have its own meta-data without the overhead of child
<section>s. Div sub-elements are not allowed within ending in order to
avoid collisions with the brackets that are usually displayed over
endings. The pb sub-element is declared in the meiShared DTD. Endings
may *not* contain endings. -->
<!ENTITY % ending 'INCLUDE'>
<![%ending;[
<!ELEMENT %n.ending; (
                      %n.scoredef;
                      | %n.staffgrp;
                      | %n.staffdef;
                      | (%n.section;, (%n.ending;)*)
                      | %n.div;
                      %m.score;
                      %m.apparatus;
                    )*>
<!ATTLIST %n.ending;
          meiform            CDATA                 #FIXED 'ending'
          %a.common;
          %a.facsimile;
          %a.typed;
          %a.link.common;
          %a.link.external;
          %a.link.internal;
          %a.anl.ending;
          %a.ges.ending;
          %a.log.ending;
          %a.vis.ending;>
]]>

<!-- Forme work, e.g. header and footer. This element is intended for
capture of header/footer material that is non-repeating; that is, it
occurs on isolated pages. For running headers and footers use pgheadN
and pgfootN elements. Auto-generated page numbers may be included with
a processing instruction. -->
<!ENTITY % fw 'INCLUDE'>
<![%fw;[
<!ELEMENT %n.fw;  (#PCDATA|%m.textcomponents;|%m.anchoredtext; %m.edit;)*>
<!ATTLIST %n.fw;
          meiform            CDATA                 #FIXED 'fw'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.typed;>
]]>

<!-- System break. Allowing staffdef content, i.e.,  <!ELEMENT %n.sb;
(staffdef)*>, here would make it possible to record layout changes
without requiring these changes to be made at section boundaries.
However, it would also allow meter and key changes, which is probably
undesirable. -->
<!ENTITY % sb 'INCLUDE'>
<![%sb;[
<!ELEMENT %n.sb; (%n.custos;)?>
<!ATTLIST %n.sb;
          meiform            CDATA                 #FIXED 'sb'
          %a.common;
          %a.facsimile;
          %a.log.sb;
          %a.vis.sb;
          %a.ges.sb;
          %a.anl.sb;>
]]>

<!-- Custos -->
<!ENTITY % custos 'INCLUDE'>
<![%custos;[
<!ELEMENT %n.custos; EMPTY>
<!ATTLIST %n.custos;
          meiform            CDATA                 #FIXED 'sb'
          %a.common;
          %a.facsimile;
          %a.log.custos;
          %a.vis.custos;
          %a.ges.sb;
          %a.anl.sb;>
]]>

<!-- The barline element may be used instead of the measure element.
It has the same attributes as measure. However, it is only available
when the meiMensural or meiBarlines entity has been set to INCLUDE. -->
<!ENTITY % barline 'INCLUDE'>
<![%barline;[
<!ELEMENT %n.barline;  EMPTY>
<!ATTLIST %n.barline;
          meiform            CDATA                 #FIXED 'barline'
          %a.common;
          %a.facsimile;
          %a.link.common;
          %a.link.internal;
          %a.link.external;
          %a.log.barline;
          %a.vis.barline;
          %a.ges.barline;
          %a.anl.barline;>
]]>

<!-- The ligature element is provided for the encoding of mensural
notation. It is only available when the meiMensural entity has been
set to INCLUDE. -->
<!ENTITY % ligature 'INCLUDE'>
<![%ligature;[
<!ELEMENT %n.ligature;  ((%m.events;)*|(%n.accid;|%n.artic;|%n.verse;)*)>
<!ATTLIST %n.ligature;
          meiform            CDATA                 #FIXED 'ligature'
          %a.common;
          %a.facsimile;
          %a.log.ligature;
          %a.vis.ligature;
          %a.ges.ligature;
          %a.anl.ligature;>
]]>

<!-- The dot element is provided for the encoding of mensural
notation. It is only available when the meiMensural entity has been
set to INCLUDE.  The dot element may be used for dots of augmentation
or division. -->
<!ENTITY % dot 'INCLUDE'>
<![%dot;[
<!ELEMENT %n.dot;  EMPTY>
<!ATTLIST %n.dot;
          meiform            CDATA                 #FIXED 'dot'
          %a.common;
          %a.facsimile;
          %a.log.dot;
          %a.vis.dot;
          %a.ges.dot;
          %a.anl.dot;>
]]>

<!-- The mensur element is provided for the encoding of mensural
notation. It is only available when the meiMensural or meiNeumes entity
has been set to INCLUDE. -->
<!ENTITY % mensur 'INCLUDE'>
<![%mensur;[
<!ELEMENT %n.mensur;  EMPTY>
<!ATTLIST %n.mensur;
          meiform            CDATA                 #FIXED 'mensur'
          %a.common;
          %a.facsimile;
          %a.log.mensur;
          %a.vis.mensur;
          %a.ges.mensur;
          %a.anl.mensur;>
]]>

<!-- Mensuration change.  This element is only available when
meiMensural is set to INCLUDE. -->
<!ENTITY % mensurchange 'INCLUDE'>
<![%mensurchange;[
<!ELEMENT %n.mensurchange; (%n.mensur;)+>
<!ATTLIST %n.mensurchange;
          meiform            CDATA                 #FIXED 'mensurchange'
          %a.common;
          %a.facsimile;>
]]>

<!-- Proportion.  This element is only available when meiMensural is
set to INCLUDE. -->
<!ENTITY % proport 'INCLUDE'>
<![%proport;[
<!ELEMENT %n.proport; EMPTY>
<!ATTLIST %n.proport;
          meiform            CDATA                 #FIXED 'proport'
          %a.common;
          %a.facsimile;
          %a.log.proport;
          %a.vis.proport;
          %a.ges.proport;
          %a.anl.proport;>
]]>

<!-- Proportion change.  This element is only available when meiMensural
is set to INCLUDE. -->
<!ENTITY % proportchange 'INCLUDE'>
<![%proportchange;[
<!ELEMENT %n.proportchange; (%n.proport;)+>
<!ATTLIST %n.proportchange;
          meiform            CDATA                 #FIXED 'proportchange'
          %a.common;
          %a.facsimile;>
]]>

<!-- Key signature.  This element may be used as an alternative to the
key.* attributes (especially key.sig.mixed) on scoredef and staffdef. -->
<!ENTITY % key 'INCLUDE'>
<![%key;[
<!ELEMENT %n.keysig; (%n.keyaccid;)*>
<!ATTLIST %n.keysig;
          meiform            CDATA                 #FIXED 'keysig'
          %a.common;
          %a.facsimile;
          accid              %ACCIDENTAL.IMPLICIT; #IMPLIED
          mode               %MODE;                #IMPLIED
          pname              %PITCHNAME;           #IMPLIED>
]]>

<!-- Accidental in a key signature.  It is a semantic error not
to provide x and y or staffloc attributes. -->
<!ENTITY % keyaccid 'INCLUDE'>
<![%keyaccid;[
<!ELEMENT %n.keyaccid; EMPTY>
<!ATTLIST %n.keyaccid;
          meiform            CDATA                 #FIXED 'keyaccid'
          %a.common;
          %a.facsimile;
          %a.xy;
          enclose            %ENCLOSURE;           #IMPLIED
          form               (implicit|explicit)   #IMPLIED
          oct                %OCTAVE;              #IMPLIED
          pname              %PITCHNAME;           #REQUIRED
          staffloc           %STAFFLOC;            #IMPLIED
          value              %ACCIDENTAL.EXPLICIT; #REQUIRED>
]]>

<!-- Key change.  This element is only available when meiMensural
is set to INCLUDE. -->
<!ENTITY % keychange 'INCLUDE'>
<![%keychange;[
<!ELEMENT %n.keychange; (%n.keyaccid;)*>
<!ATTLIST %n.keychange;
          meiform            CDATA                 #FIXED 'keychange'
          %a.common;
          %a.facsimile;>
]]>

<!-- Measure. "In Western notation a vertical line drawn through the
staff to mark off metrical units. Hence also the metrical unit thus
indicated, which in American usage is called 'measure'. English usage
often relies on context alone to make the distinction clear (e.g. 'up to
the double bar', 'the end of the bar'), but 'bar-line' is also common."
(New Grove) In MEI, the measure element is also a linking element that
uses attributes to connect the MEI document to an external electronic
object or to another location within the MEI instance. Any number of
alternative encodings for the measure (ossia) can be included. -->
<!ENTITY % measure 'INCLUDE'>
<![%measure;[
<!ELEMENT %n.measure; (%m.measure;|%n.ossia;|%m.controlevents;|%m.primitives;)*>
<!-- <!ELEMENT %n.measure; (
                       (
                         %m.measure;
                       ), (%n.ossia;)*, (%m.controlevents;)*, (%m.primitives;)*
                     )> -->
<!ATTLIST %n.measure;
          meiform            CDATA                 #FIXED 'measure'
          %a.common;
          %a.facsimile;
          %a.typed;
          %a.link.common;
          %a.link.internal;
          %a.link.external;
          %a.log.measure;
          %a.vis.measure;
          %a.ges.measure;
          %a.anl.measure;>
]]>

<!-- The term "ossia" indicates an alternative, usually simpler, version
of a measure *present in the source being transcribed*. An ossia may be
treated as a substitute for the measure, in which case it is rendered on
the current staff, or it may be rendered in addition to the measure's
contents, in which case it is rendered above the staff on a reduced-size
staff. -->
<!ENTITY % ossia 'INCLUDE'>
<![%ossia;[
<!ELEMENT %n.ossia;  (%m.measure;|%n.ossia;|%m.controlevents;|%m.primitives;)*>
<!-- <!ELEMENT %n.ossia;  (
                       (
                         %m.measure;
                       ), (%n.ossia;)*, (%m.controlevents;)*, (%m.primitives;)*
                     )> -->
<!ATTLIST %n.ossia;
          meiform            CDATA                 #FIXED 'ossia'
          %a.common;
          %a.facsimile;
          %a.log.ossia;
          %a.vis.ossia;
          %a.ges.ossia;
          %a.anl.ossia;>
]]>

<!-- ************************************************************** -->
<!-- Event element declarations                                     -->
<!-- ************************************************************** -->

<!-- Beam. A container for a series of explicitly beamed events (Read,
p. 80-94) which begins and ends entirely within a measure. For beams
which cross the barline, use the beamspan element. Beaming may be
indicated for an entire score, part or section by using the beamgroup
attribute on these elements. Secondary beams may be broken explicitly
using the breaksec attribute. Stem direction determines whether beams
are centered between notes with alternating stems (Read, p. 88-89). -->
<!ENTITY % beam 'INCLUDE'>
<![%beam;[
<!ELEMENT %n.beam;  (%n.beam;|%n.chord;|%n.clefchange;|%n.note;|%n.pad;|
                    %n.rest;|%n.space;|%n.tuplet;)+>
<!ATTLIST %n.beam;
          meiform            CDATA                 #FIXED 'beam'
          %a.common;
          %a.facsimile;
          %a.log.beam;
          %a.vis.beam;
          %a.ges.beam;
          %a.anl.beam;>
]]>

<!-- A repeated single beat (Read, p. 223-224) -->
<!ENTITY % beatrpt 'INCLUDE'>
<![%beatrpt;[
<!ELEMENT %n.beatrpt;  EMPTY>
<!ATTLIST %n.beatrpt;
          meiform            CDATA                 #FIXED 'beatrpt'
          %a.common;
          %a.facsimile;
          %a.log.beatrpt;
          %a.vis.beatrpt;
          %a.ges.beatrpt;
          %a.anl.beatrpt;>
]]>

<!-- Chord, a simultaneous sounding of 2 or more notes in the same voice
*with the same duration*. (Read, p. 69) -->
<!ENTITY % chord 'INCLUDE'>
<![%chord;[
<!ELEMENT %n.chord;  (%n.note;|%n.artic;)*>
<!ATTLIST %n.chord;
          meiform            CDATA                 #FIXED 'chord'
          %a.common;
          %a.facsimile;
          %a.log.chord;
          %a.vis.chord;
          %a.ges.chord;
          %a.anl.chord;>
]]>

<!-- Mid-measure clef change. Coming as it does, in the middle of a
measure, a clef change is an event. -->
<!ENTITY % clefchange 'INCLUDE'>
<![%clefchange;[
<!ELEMENT %n.clefchange;  %m.clefchange;>
<!ATTLIST %n.clefchange;
          meiform            CDATA                 #FIXED 'clefchange'
          %a.common;
          %a.event;
          %a.facsimile;
          %a.log.clefchange;
          %a.vis.clefchange;
          %a.ges.clefchange;
          %a.anl.clefchange;>
]]>

<!-- Complete measure rest in any meter (Read, p. 97-98). The numbering
of consecutive measures of rest may be controlled via the multi.number
attribute on the scoredef or staffdef elements. -->
<!ENTITY % mrest 'INCLUDE'>
<![%mrest;[
<!ELEMENT %n.mrest;  EMPTY>
<!ATTLIST %n.mrest;
          meiform            CDATA                 #FIXED 'mrest'
          %a.common;
          %a.facsimile;
          %a.log.mrest;
          %a.vis.mrest;
          %a.ges.mrest;
          %a.anl.mrest;>
]]>

<!-- Complete measure of space in any meter.  The numbering of consecutive
measures of space may be controlled via the multi.number attribute on the
scoredef or staffdef elements. -->
<!ENTITY % mspace 'INCLUDE'>
<![%mspace;[
<!ELEMENT %n.mspace;  EMPTY>
<!ATTLIST %n.mspace;
          meiform            CDATA                 #FIXED 'mspace'
          %a.common;
          %a.facsimile;
          %a.log.mspace;
          %a.vis.mspace;
          %a.ges.mspace;
          %a.anl.mspace;>
]]>

<!-- A repeated measure (Read, p. 224-225). The numbering of consecutive
measures of rest may be controlled via the multi.number attribute on the
scoredef or staffdef elements. -->
<!ENTITY % mrpt 'INCLUDE'>
<![%mrpt;[
<!ELEMENT %n.mrpt;  EMPTY>
<!ATTLIST %n.mrpt;
          meiform            CDATA                 #FIXED 'mrpt'
          %a.common;
          %a.facsimile;
          %a.log.mrpt;
          %a.vis.mrpt;
          %a.ges.mrpt;
          %a.anl.mrpt;>
]]>

<!-- 2-measure repeat sign -->
<!ENTITY % mrpt2 'INCLUDE'>
<![%mrpt2;[
<!ELEMENT %n.mrpt2;  EMPTY>
<!ATTLIST %n.mrpt2;
          meiform            CDATA                 #FIXED 'mrpt2'
          %a.common;
          %a.facsimile;
          %a.log.mrpt2;
          %a.vis.mrpt2;
          %a.ges.mrpt2;
          %a.anl.mrpt2;>
]]>

<!-- Half-measure repeat sign -->
<!ENTITY % halfmrpt 'INCLUDE'>
<![%halfmrpt;[
<!ELEMENT %n.halfmrpt;  (%m.events;)*>
<!ATTLIST %n.halfmrpt;
          meiform            CDATA                 #FIXED 'halfmrpt'
          %a.common;
          %a.facsimile;
          %a.log.halfmrpt;
          %a.vis.halfmrpt;
          %a.ges.halfmrpt;
          %a.anl.halfmrpt;>
]]>

<!-- Multiple measures of rest. -->
<!ENTITY % multirest 'INCLUDE'>
<![%multirest;[
<!ELEMENT %n.multirest;  EMPTY>
<!ATTLIST %n.multirest;
          meiform            CDATA                 #FIXED 'multirest'
          %a.common;
          %a.facsimile;
          %a.log.multirest;
          %a.vis.multirest;
          %a.ges.multirest;
          %a.anl.multirest;>
]]>

<!-- Multiple repeated measures. Read (p. 225-226) says repeats of more
than 2 measures should be written out using repeat signs. -->
<!ENTITY % multirpt 'INCLUDE'>
<![%multirpt;[
<!ELEMENT %n.multirpt;  EMPTY>
<!ATTLIST %n.multirpt;
          meiform            CDATA                 #FIXED 'multirpt'
          %a.common;
          %a.facsimile;
          %a.log.multirpt;
          %a.vis.multirpt;
          %a.ges.multirpt;
          %a.anl.multirpt;>
]]>

<!-- Note (Read, p. 63), a single pitched event. The note element is
allowed to contain other events for situations where a single written
note may be representative of a group of performed notes. The accid and
artic sub-elements may be used instead of the note element's attributes
when accid and artic represent first-class objects, e.g. when they
require attributes, such as x and y location attributes. Similarly, the
syl sub-element may be used instead of the syl attribute. The verse
sub-element may be used to group text syllables by verse. -->
<!ENTITY % note 'INCLUDE'>
<![%note;[
<!ELEMENT %n.note;  ((%m.events; %m.apparatus; %m.edit;)*|(%n.accid;|%n.artic;|%n.syl;|%n.verse;)*)>
<!ATTLIST %n.note;
          meiform            CDATA                 #FIXED 'note'
          %a.common;
          %a.facsimile;
          %a.log.note;
          %a.vis.note;
          %a.ges.note;
          %a.anl.note;>
]]>

<!-- Accidental. This element provides an alternative to the acci
attributes on the note element. The element should be used when
specific display info, such as size or color, needs to be recorded
for the accidental. The func attribute can be used to differentiate
different functions, such as 'cautionary' or 'editorial'. -->
<!ENTITY % accid 'INCLUDE'>
<![%accid;[
<!ELEMENT %n.accid;  EMPTY>
<!ATTLIST %n.accid;
          meiform            CDATA                 #FIXED 'accid'
          %a.common;
          %a.facsimile;
          %a.typography;
          %a.log.accid;
          %a.vis.accid;
          %a.ges.accid;
          %a.anl.accid;>
]]>

<!-- Articulation. This element provides an alternative to the artic
attributes on the note and chord elements. The element should be used
when when specific display info, such as size or color, needs to be
recorded for the articulation. -->
<!ENTITY % artic 'INCLUDE'>
<![%artic;[
<!ELEMENT %n.artic;  EMPTY>
<!ATTLIST %n.artic;
          meiform            CDATA                 #FIXED 'artic'
          %a.common;
          %a.facsimile;
          %a.typography;
          %a.log.artic;
          %a.vis.artic;
          %a.ges.artic;
          %a.anl.artic;>
]]>

<!-- Bowed tremolo (Read, p. 393-394) is a rapid alternation on a single
pitch or chord. This element should also be used for wind double and
triple tonguing and for flutter tonguing when these are expressed as
tremolandi. -->
<!ENTITY % btrem 'INCLUDE'>
<![%btrem;[
<!ELEMENT %n.btrem; (%n.chord;|%n.note;)>
<!ATTLIST %n.btrem;
          meiform            CDATA                 #FIXED 'btrem'
          %a.common;
          %a.facsimile;
          %a.log.btrem;
          %a.vis.btrem;
          %a.ges.btrem;
          %a.anl.btrem;>
]]>

<!-- Fingered tremolo (Read, p. 235-238) is a rapid alternation between
a  pair of notes (or chords or perhaps between a note and a chord) that
are (usually) farther apart than a major second. For rapid alternation
between notes on the same pitch (bowed tremolo, double & triple
tonguing, and flutter tonguing) use the btrem element. -->
<!ENTITY % ftrem 'INCLUDE'>
<![%ftrem;[
<!ELEMENT %n.ftrem;  ((%n.chord;,(%n.chord;|%n.note;)) | (%n.note;,
                     (%n.chord;|%n.note;)))>
<!ATTLIST %n.ftrem;
          meiform            CDATA                 #FIXED 'ftrem'
          %a.common;
          %a.facsimile;
          %a.log.ftrem;
          %a.vis.ftrem;
          %a.ges.ftrem;
          %a.anl.ftrem;>
]]>

<!-- Used to create additional visual space between notational
elements. -->
<!ENTITY % pad 'INCLUDE'>
<![%pad;[
<!ELEMENT %n.pad;  EMPTY>
<!ATTLIST %n.pad;
          meiform            CDATA                 #FIXED 'pad'
          %a.common;
          %a.log.pad;
          %a.vis.pad;
          %a.ges.pad;
          %a.anl.pad;>
]]>

<!-- Rest (Read, p. 96-102), i.e. a non-sounding event, found in
the source being transcribed. Do not confuse this element with the
space element which is used as an aid for visual alignment. -->
<!ENTITY % rest 'INCLUDE'>
<![%rest;[
<!ELEMENT %n.rest;  EMPTY>
<!ATTLIST %n.rest;
          meiform            CDATA                 #FIXED 'rest'
          %a.common;
          %a.facsimile;
          %a.log.rest;
          %a.vis.rest;
          %a.ges.rest;
          %a.anl.rest;>
]]>

<!-- A placeholder used to fill an incomplete measure, layer, etc.
most often so that the combined duration of the events equals the number
of beats in the measure. -->
<!ENTITY % space 'INCLUDE'>
<![%space;[
<!ELEMENT %n.space;  EMPTY>
<!ATTLIST %n.space;
          meiform            CDATA                 #FIXED 'space'
          %a.common;
          %a.facsimile;
          %a.log.space;
          %a.vis.space;
          %a.ges.space;
          %a.anl.space;>
]]>

<!-- Tuplet (Read, p. 187-215), bowed tremolo (Read, p. 394) & double,
triple, or flutter tonguing (Read, p. 348-349). The beam sub-element is
allowed so that custom beaming may be indicated, i.e. a septuplet may be
divided into a group of 3 plus a group of 4 notes. -->
<!ENTITY % tuplet 'INCLUDE'>
<![%tuplet;[
<!ELEMENT %n.tuplet;  (%n.beam;|%n.chord;|%n.clefchange;|%n.note;|%n.pad;|
                      %n.rest;|%n.space;|%n.tuplet;)+>
<!ATTLIST %n.tuplet;
          meiform            CDATA                 #FIXED 'tuplet'
          %a.common;
          %a.facsimile;
          %a.log.tuplet;
          %a.vis.tuplet;
          %a.ges.tuplet;
          %a.anl.tuplet;>
]]>


<!-- ************************************************************** -->
<!-- Control event element declarations                             -->
<!-- ************************************************************** -->

<!-- The annot element provides a way to group participating *events*
and/or *control events*, the notes that form a descending bass line or
phrase marks, for example, and provide a label for or comment regarding
the group. An enumerated list of event IDs may be given in the plist
attribute.  Alternatively, if only the start and/or end events in a
group are to be marked, then use the startid and endid attributes.  An
editorial or analytical comment or observation, encoded elsewhere, such
as in the front or back matter, in score text elements, or in an external
document may be pointed to using the link.common, link.internal, or
link.external attributes. Alternatively, the observation may be included
directly within the annot element. The annot element, along with other
elements with %a.link.external attributes, may also be used to link/
synchronize elements within the MEI file to external media such as images
or sound recordings. The ID of the MEI element(s) to be linked from
should be encoded in the plist attribute while the link to the external
media may be encoded in the href or entityref attributes or in the body
of the annotation using ref, ptr, extref or extptr elements. -->
<!ENTITY % annot 'INCLUDE'>
<![%annot;[
<!ELEMENT %n.annot;  (#PCDATA|%m.textcomponents;|%m.textinline; %m.edit;)*>
<!ATTLIST %n.annot;
          meiform            CDATA                 #FIXED 'annot'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.typed;
          %a.log.annot;
          %a.vis.annot;
          %a.ges.annot;
          %a.anl.annot;
          %a.link.common;
          %a.link.internal;
          %a.link.external;
          resp               IDREF                 #IMPLIED
          source             IDREFS                #IMPLIED>
]]>

<!-- Arpeggiation, roll (Read, p. 241-243). -->
<!ENTITY % arpeg 'INCLUDE'>
<![%arpeg;[
<!ELEMENT %n.arpeg;  EMPTY>
<!ATTLIST %n.arpeg;
          meiform            CDATA                 #FIXED 'arpeg'
          %a.common;
          %a.facsimile;
          %a.log.arpeg;
          %a.vis.arpeg;
          %a.ges.arpeg;
          %a.anl.arpeg;>
]]>

<!-- Alternative element for encoding beams, especially useful for beams
which extend across barlines. -->
<!ENTITY % beamspan 'INCLUDE'>
<![%beamspan;[
<!ELEMENT %n.beamspan;  EMPTY>
<!ATTLIST %n.beamspan;
          meiform            CDATA                 #FIXED 'beamspan'
          %a.common;
          %a.facsimile;
          %a.log.beamspan;
          %a.vis.beamspan;
          %a.ges.beamspan;
          %a.anl.beamspan;>
]]>

<!-- Bend (stretching a string to make it sound higher than normal). The
bend element can also be used for scoop, plop, falloff, and doit
performance effects. It should *not* be used for l.v. (laissez vibrer)
indications. Precise performance data that differs from the logical
events in a measure may be recorded within the bend element. -->
<!ENTITY % bend 'INCLUDE'>
<![%bend;[
<!ELEMENT %n.bend;  (%n.note;|%n.rest;|%n.tuplet;)*>
<!ATTLIST %n.bend;
          meiform            CDATA                 #FIXED 'bend'
          %a.common;
          %a.facsimile;
          %a.log.bend;
          %a.vis.bend;
          %a.ges.bend;
          %a.anl.bend;>
]]>

<!-- The breathmark element is a specialized form of, i.e., syntactic sugar for,
dir/@type="breathmark" with , as its PCDATA content. -->
<!ENTITY % breath 'INCLUDE'>
<![%breath;[
<!ELEMENT %n.breath;  EMPTY>
<!ATTLIST %n.breath;
          meiform            CDATA                 #FIXED 'breath'
          %a.common;
          %a.facsimile;
          %a.log.breath;
          %a.vis.breath;
          %a.ges.breath;
          %a.anl.breath;>
]]>

<!-- Directives, e.g. text expressions that are on the score (typically
above, below, or between staves), but not on the staff and not encoded
elsewhere, such as in tempo or dynam elements. Examples include text
strings, such as 'affettuoso' or fingerings and music symbols, such as
segno and coda symbols, fermatas over a barline, etc. Unlike generic
text elements, directives can be control elements. That is, they can be
used as pointers to other events. The %m.anchoredtext entity is employed
here instead of %m.textinline in order to restrict the use of the pb
sub-element. -->
<!ENTITY % dir 'INCLUDE'>
<![%dir;[
<!ELEMENT %n.dir;  (#PCDATA|%m.anchoredtext;|%m.primitives; %m.edit;)*>
<!ATTLIST %n.dir;
          meiform            CDATA                 #FIXED 'dir'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.typed;
          %a.log.dir;
          %a.vis.dir;
          %a.ges.dir;
          %a.anl.dir;>
]]>

<!-- The dynam element may be used for instantaneous or continuous
textual dynamics, e.g. 'p', 'mf', or 'cresc. poco a poco'. See Read, p.
250-255. The hairpin element should be used for graphical dynamic
markings. The %m.anchoredtext entity is employed here instead of
%m.textinline in order to restrict the use of the pb sub-element. -->
<!ENTITY % dynam 'INCLUDE'>
<![%dynam;[
<!ELEMENT %n.dynam;  (#PCDATA|%m.anchoredtext; %m.edit;)*>
<!ATTLIST %n.dynam;
          meiform            CDATA                 #FIXED 'dynam'
          %a.common;
          %a.facsimile;
          %a.log.dynam;
          %a.vis.dynam;
          %a.ges.dynam;
          %a.anl.dynam;>
]]>

<!-- The fermata element is a specialized form of, i.e., syntactic sugar for,
dir/@type="fermata" with &ferm; or &uferm; as its PCDATA content. -->
<!ENTITY % fermata 'INCLUDE'>
<![%fermata;[
<!ELEMENT %n.fermata; EMPTY>
<!ATTLIST %n.fermata;
          meiform            CDATA                 #FIXED 'fermata'
          %a.common;
          %a.facsimile;
          %a.log.fermata;
          %a.vis.fermata;
          %a.ges.fermata;
          %a.anl.fermata;>
]]>

<!-- Glissando (Read, p. 243-245, 397-398). Sometimes called a 'slide'.
More precise performance data may be recorded within the gliss element. -->
<!ENTITY % gliss 'INCLUDE'>
<![%gliss;[
<!ELEMENT %n.gliss;  (%n.note;|%n.rest;|%n.tuplet;)*>
<!ATTLIST %n.gliss;
          meiform            CDATA                 #FIXED 'gliss'
          %a.common;
          %a.facsimile;
          %a.log.gliss;
          %a.vis.gliss;
          %a.ges.gliss;
          %a.anl.gliss;>
]]>

<!-- Hairpin indicates continuous dynamics expressed on the score as
graphics, e.g. < and >. See Read, p. 250-255. -->
<!ENTITY % hairpin 'INCLUDE'>
<![%hairpin;[
<!ELEMENT %n.hairpin;  EMPTY>
<!ATTLIST %n.hairpin;
          meiform            CDATA                 #FIXED 'hairpin'
          %a.common;
          %a.facsimile;
          %a.log.hairpin;
          %a.vis.hairpin;
          %a.ges.hairpin;
          %a.anl.hairpin;>
]]>

<!-- Indication of harmony, e.g. chord names, tablature grids, harmonic
analysis, figured bass. Read, p. 411. The %m.anchoredtext entity is
employed here instead of %m.textinline in order to restrict the use of
the pb sub-element. -->
<!ENTITY % harm 'INCLUDE'>
<![%harm;[
<!ELEMENT %n.harm;  (#PCDATA|%m.anchoredtext;|%m.primitives;
                    %m.edit;)*>
<!ATTLIST %n.harm;
          meiform            CDATA                 #FIXED 'harm'
          %a.common;
          %a.facsimile;
          %a.log.harm;
          %a.vis.harm;
          %a.ges.harm;
          %a.anl.harm;>
]]>

<!-- Harp pedal diagram -->
<!ENTITY % harppedal 'INCLUDE'>
<![%harppedal;[
<!ELEMENT %n.harppedal; EMPTY>
<!ATTLIST %n.harppedal;
          meiform            CDATA                 #FIXED 'harppedal'
          %a.common;
          %a.facsimile;
          %a.log.harppedal;
          %a.vis.harppedal;
          %a.ges.harppedal;
          %a.anl.harppedal;>
]]>

<!-- Lyrics. The staff attribute gives the staff to which the lyrics
are attached. The rhythm of the lyrics will be taken from the notes of
that staff. If there is more than 1 layer on that staff, the layer
attribute may be used to indicate the layer from which the rhythm
should be taken. -->
<!ENTITY % lyrics 'INCLUDE'>
<![%lyrics;[
<!ELEMENT %n.lyrics;  (%n.verse;)+>
<!ATTLIST %n.lyrics;
          meiform            CDATA                 #FIXED 'lyrics'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.log.lyrics;
          %a.vis.lyrics;
          %a.ges.lyrics;
          %a.anl.lyrics;>
]]>

<!-- Lyric verse. The lb element is allowed here in order to facilitate
karaoke applications. The func attribute on lb may be used to
distinguish true line ends from line group ends for these applications. -->
<!ENTITY % verse 'INCLUDE'>
<![%verse;[
<!ELEMENT %n.verse; ((%n.dir;|%n.dynam;|%n.tempo;|%n.space;)*, (%n.syl;)+, (%n.lb;)*)>
<!ATTLIST %n.verse;
          meiform            CDATA                 #FIXED 'verse'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.log.verse;
          %a.vis.verse;
          %a.ges.verse;
          %a.anl.verse;>
]]>

<!-- Individual lyric syllable. -->
<!ENTITY % syl 'INCLUDE'>
<![%syl;[
<!ELEMENT %n.syl;  (#PCDATA|%m.anchoredtext; %m.edit;)*>
<!ATTLIST %n.syl;
          meiform            CDATA                 #FIXED 'syl'
          %a.common;
          %a.facsimile;
          %a.log.syl;
          %a.vis.syl;
          %a.ges.syl;
          %a.anl.syl;>
]]>

<!-- Events may be contained within mordent in order to record precise
performance data. (Read, p. 245-246) -->
<!ENTITY % mordent 'INCLUDE'>
<![%mordent;[
<!ELEMENT %n.mordent;  (%m.events;)*>
<!ATTLIST %n.mordent;
          meiform            CDATA                 #FIXED 'mordent'
          %a.common;
          %a.facsimile;
          %a.log.mordent;
          %a.vis.mordent;
          %a.ges.mordent;
          %a.anl.mordent;>
]]>

<!-- Octave displacement. -->
<!ENTITY % octave 'INCLUDE'>
<![%octave;[
<!ELEMENT %n.octave;  EMPTY>
<!ATTLIST %n.octave;
          meiform            CDATA                 #FIXED 'octave'
          %a.common;
          %a.facsimile;
          %a.log.octave;
          %a.vis.octave;
          %a.ges.octave;
          %a.anl.octave;>
]]>

<!-- Piano pedal mark (Read, p. 317-318). -->
<!ENTITY % pedal 'INCLUDE'>
<![%pedal;[
<!ELEMENT %n.pedal;  EMPTY>
<!ATTLIST %n.pedal;
          meiform            CDATA                 #FIXED 'pedal'
          %a.common;
          %a.facsimile;
          %a.log.pedal;
          %a.vis.pedal;
          %a.ges.pedal;
          %a.anl.pedal;>
]]>

<!-- Phrase mark, used for a "unified melodic idea" (Read, p. 265). -->
<!ENTITY % phrase 'INCLUDE'>
<![%phrase;[
<!ELEMENT %n.phrase;  EMPTY>
<!ATTLIST %n.phrase;
          meiform            CDATA                 #FIXED 'phrase'
          %a.common;
          %a.facsimile;
          %a.log.phrase;
          %a.vis.phrase;
          %a.ges.phrase;
          %a.anl.phrase;> 
]]>

<!-- Rehearsal mark (Read, p. 443). The content model uses a subset of
%m.anchoredtext.  If the entire rehearsal mark is boxed or circled,
the enclose attribute is preferred over a rend sub-element. -->
<!ENTITY % reh 'INCLUDE'>
<![%reh;[
<!ELEMENT %n.reh;  (#PCDATA|%n.lb;|%n.rend;|%n.stack;)*>
<!ATTLIST %n.reh;
          meiform            CDATA                 #FIXED 'reh'
          %a.common;
          %a.facsimile;
          %a.log.reh;
          %a.vis.reh;
          %a.ges.reh;
          %a.anl.reh;>
]]>

<!-- Slur, 2 notes performed legato (Read, p. 265-266). The slur element
will use either tstamp, duration, and place attributes or start, end,
and bulge attributes. It is a semantic error not to specify one of these
groups of attributes. The slur and tie elements may be used instead of
the slur.* and tie.* attributes provided on chord and note elements when
1) they are required by software, or 2) multiple, alternative slurs are
needed. Normally, a slur has only 2 participating events - the starting
and ending notes/chords. -->
<!ENTITY % slur 'INCLUDE'>
<![%slur;[
<!ELEMENT %n.slur;  EMPTY>
<!ATTLIST %n.slur;
          meiform            CDATA                 #FIXED 'slur'
          %a.common;
          %a.facsimile;
          %a.log.slur;
          %a.vis.slur;
          %a.ges.slur;
          %a.anl.slur;>
]]>

<!-- Text and symbols descriptive of tempo, mood, or style, e.g.,
"allarg.", "a tempo", "cantabile", "Moderato", "[qtrnote]=60", "Moderato
[qtrnote] =60"). Both "instantaneous" and "continuous" tempo markings
may be encoded using this element. The %m.anchoredtext entity is
employed here instead of %m.textinline in order to restrict the use of
the pb sub-element. -->
<!ENTITY % tempo 'INCLUDE'>
<![%tempo;[
<!ELEMENT %n.tempo;  (#PCDATA|%m.anchoredtext;|%m.primitives;
                     %m.edit;)*>
<!ATTLIST %n.tempo;
          meiform            CDATA                 #FIXED 'tempo'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.log.tempo;
          %a.vis.tempo;
          %a.ges.tempo;
          %a.anl.tempo;>
]]>

<!-- Tie (Read, p. 110-111, 122). -->
<!ENTITY % tie 'INCLUDE'>
<![%tie;[
<!ELEMENT %n.tie;  EMPTY>
<!ATTLIST %n.tie;
          meiform            CDATA                 #FIXED 'tie'
          %a.common;
          %a.facsimile;
          %a.log.tie;
          %a.vis.tie;
          %a.ges.tie;
          %a.anl.tie;>
]]>

<!-- Trill (Read, p. 232-235). Events may be contained within trill in
order to record precise performance data. -->
<!ENTITY % trill 'INCLUDE'>
<![%trill;[
<!ELEMENT %n.trill;  (%m.events;)*>
<!ATTLIST %n.trill;
          meiform            CDATA                 #FIXED 'trill'
          %a.common;
          %a.facsimile;
          %a.log.trill;
          %a.vis.trill;
          %a.ges.trill;
          %a.anl.trill;>
]]>

<!-- Alternative element for encoding tuplets, especially useful for
those which extend across barlines. -->
<!ENTITY % tupletspan 'INCLUDE'>
<![%tupletspan;[
<!ELEMENT %n.tupletspan; EMPTY>
<!ATTLIST %n.tupletspan;
          meiform            CDATA                 #FIXED 'tupletspan'
          %a.common;
          %a.facsimile;
          %a.log.tupletspan;
          %a.vis.tupletspan;
          %a.ges.tupletspan;
          %a.anl.tupletspan;>
]]>

<!-- Turn (Read, p. 246-247). Events may be contained within turn in
order to record precise performance data. Whether the turn is accented
or unaccented may be inferred from the timestamp - accented turns occur
directly on the affected beat, unaccented ones do not. -->
<!ENTITY % turn 'INCLUDE'>
<![%turn;[
<!ELEMENT %n.turn;  (%m.events;)*>
<!ATTLIST %n.turn;
          meiform            CDATA                 #FIXED 'turn'
          %a.common;
          %a.facsimile;
          %a.log.turn;
          %a.vis.turn;
          %a.ges.turn;
          %a.anl.turn;>
]]>

<!-- ************************************************************** -->

<!-- <!ENTITY % meiHead SYSTEM 'meiHead.dtd'> %meiHead; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiHead.dtd  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains declarations for elements found in the
          MEI header.

NOTE:     Sub-elements declared in the meiShared DTD have been noted
          below. Also, the elements referred to by the entity
          %m.textinline are declared in the meiShared DTD.
                                                                    -->
<!-- ************************************************************** -->

<!-- The meihead element contains general information about the
encoded file. The sourcedesc element is required where the MEI file is
a transcription of existing music. In the case where the data is
originally created in MEI form, the sourcedesc element is not
required. -->
<!ELEMENT meihead  ((%n.altmeiid;)*, %n.filedesc;, (%n.encodingdesc;)?,
                   (%n.profiledesc;)?, (%n.revisiondesc;)?, (%n.sourcedesc;)?)>
<!ATTLIST meihead
          %a.bibl;
          %a.common;
          %a.lang;
          type               (music|corpus)         #IMPLIED>

<!-- The altmeiid element may contain a bibliographic identifier
that does not fit within the meihead id attribute, for example because
the id does not fit the definition of an XML id or because multiple
identifiers are needed. -->
<!ENTITY % altmeiid 'INCLUDE'>
<![%altmeiid;[
<!ELEMENT %n.altmeiid; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.altmeiid;
          meiform            CDATA                 #FIXED 'altmeiid'
          %a.bibl;
          %a.common;
          %a.typed;>
]]>

<!-- Filedesc contains a full bibliographic description of the
MEI file. Extent in this context is file size. -->
<!ENTITY % filedesc 'INCLUDE'>
<![%filedesc;[
<!ELEMENT %n.filedesc;  (%n.titlestmt;, (%n.editionstmt;)?, (%n.extent;)?,
                        (%n.fingerprint;)?, %n.pubstmt;, (%n.seriesstmt;)?,
                        (%n.notesstmt;)?, (%n.sourcedesc;)?)>
<!ATTLIST %n.filedesc;
          meiform            CDATA                 #FIXED 'filedesc'
          %a.bibl;
          %a.common;>
]]>

<!-- Documents the relationship between an electronic file and the
source or sources from which it was derived as well as applications used
in the encoding/editing process. -->
<!ENTITY % encodingdesc 'INCLUDE'>
<![%encodingdesc;[
<!ELEMENT %n.encodingdesc;  ((%n.appinfo;)?, (%n.projectdesc;)?,
                             (%n.samplingdecl;)?, (%n.editorialdecl;)?)>
<!ATTLIST %n.encodingdesc;
          meiform            CDATA                 #FIXED 'encodingdesc'
          %a.bibl;
          %a.common;>
]]>

<!-- Appinfo (application information) groups information about applications
which have acted upon the MEI file. This is not to be confused with applications
which were used to create the MEI file. These are recorded in the projectdesc
element. -->
<!ELEMENT %n.appinfo;   (application)*>
<!ATTLIST %n.appinfo;
          meiform            CDATA                 #FIXED 'appinfo'
          %a.common;>

<!-- Application provides information about an application which has acted
upon the document. -->
<!ELEMENT %n.application; ((%n.name;)+, ((%n.ptr;)*|(%n.p;)*))>
<!ATTLIST %n.application;
          meiform            CDATA                 #FIXED 'application'
          %a.common;
          %a.date;
          %a.typed;
          version            CDATA                 #IMPLIED>

<!-- Profiledesc provides a detailed description of the non-
bibliographic aspects of the creation of a work, specifically the
languages and sublanguages used, the situation in which it was
produced, e.g. the participants, setting, reception history, etc. -->
<!ENTITY % profiledesc 'INCLUDE'>
<![%profiledesc;[
<!ELEMENT %n.profiledesc;  ((%n.creation;)?, (%n.langusage;)?,
                           (%n.musicclass;)?)>
<!ATTLIST %n.profiledesc;
          meiform            CDATA                 #FIXED 'profiledesc'
          %a.bibl;
          %a.common;>
]]>

<!-- Container for title and responsibility meta-data. The title
element is declared in the meiShared DTD.-->
<!ENTITY % titlestmt 'INCLUDE'>
<![%titlestmt;[
<!ELEMENT %n.titlestmt; ((%n.title;)+, (%n.respstmt;)?)>
<!ATTLIST %n.titlestmt;
          meiform            CDATA                 #FIXED 'titlestmt'
          %a.bibl;
          %a.common;>
]]>

<!-- A statement of responsibility names one or more individuals,
groups, or in rare cases, mechanical processes, responsible for
creation or realization of the intellectual or artistic content. The
name element is declared in the meiShared DTD. -->
<!ENTITY % respstmt 'INCLUDE'>
<![%respstmt;[
<!ELEMENT %n.respstmt; (%n.name;)+>
<!ATTLIST %n.respstmt;
          meiform            CDATA                 #FIXED 'respstmt'
          %a.bibl;
          %a.common;>
]]>

<!-- Container for meta-data pertaining to the edition. -->
<!ENTITY % editionstmt 'INCLUDE'>
<![%editionstmt;[
<!ELEMENT %n.editionstmt; (%n.edition;, (%n.respstmt;)*)+>
<!ATTLIST %n.editionstmt;
          meiform            CDATA                 #FIXED 'editionstmt'
          %a.common;
          %a.bibl;>
]]>

<!-- The edition designation is a word or text phrase that normally
indicates a difference in either content or form between the item
being described and a related item previously issued by the same
publisher/distributor (e.g. 2nd edition, version 2.0, etc.), or
simultaneously issued by either the same publisher/distributor or
another publisher/distributor (e.g. large print edition, British
edition, etc.). The %m.anchoredtext entity is used here in order to
disallow the pb element. -->
<!ENTITY % edition 'INCLUDE'>
<![%edition;[
<!ELEMENT %n.edition; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.edition;
          meiform            CDATA                 #FIXED 'edition'
          %a.common;
          %a.bibl;>
]]>

<!-- Publication meta-data. The geogname, address, date, and
identifier elements are declared in the meiShared DTD. Since both
order and number of the sub-elements can't be controlled
simultaneously, the model specifies order so that a reasonable
bibliographic citation can be created from pubstmt. Even though all
the sub-elements appear to be optional, at least one of them should be
included; hence, the redundant '+' in the model. -->
<!ENTITY % pubstmt 'INCLUDE'>
<![%pubstmt;[
<!ELEMENT %n.pubstmt;  ((%n.geogname;)?, (%n.address;)*, (%n.respstmt;)?,
                       (%n.date;)?, (%n.identifier;)*, (%n.availability;)*)+>
<!ATTLIST %n.pubstmt;
          meiform            CDATA                 #FIXED 'pubstmt'
          %a.common;
          %a.bibl;>
]]>

<!-- The unpub element should be used to explicitly indicate that a
bibliographic source is unpublished. -->
<!ENTITY % unpub 'INCLUDE'>
<![%unpub;[
<!ELEMENT %n.unpub;   EMPTY>
<!ATTLIST %n.unpub;
          meiform            CDATA                 #FIXED 'unpub'
          %a.common;
          %a.bibl;>
]]>

<!-- Availability information/qualifications. -->
<!ENTITY % availability 'INCLUDE'>
<![%availability;[
<!ELEMENT %n.availability;  ((%n.acqsource;, ((%n.accessdesc;),
                            (%n.price;)?)*)*, (%n.userestrict;)?,
                            (%n.sysreq;)?)>
<!ATTLIST %n.availability;
          meiform            CDATA                 #FIXED 'availability'
          %a.common;
          %a.bibl;>
]]>

<!-- Source from which access to this item may be obtained, e.g. vendor,
distributor, etc. The %m.anchoredtext entity is used here in order to
disallow the pb element. -->
<!ENTITY % acqsource 'INCLUDE'>
<![%acqsource;[
<!ELEMENT %n.acqsource;   (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.acqsource;
          meiform            CDATA                 #FIXED 'acqsource'
          %a.common;
          %a.bibl;>
]]>

<!-- Description of the access that may be obtained. The %m.anchoredtext
entity is used here in order to disallow the pb element. -->
<!ENTITY % accessdesc 'INCLUDE'>
<![%accessdesc;[
<!ELEMENT %n.accessdesc; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.accessdesc;
          meiform            CDATA                 #FIXED 'accessdesc'
          %a.common;
          %a.bibl;>
]]>

<!-- Usage restrictions, e.g., copyright statement in the filedesc, or
(re-)publication rights in the source element. The %m.anchoredtext
entity is used here in order to disallow the pb element. -->
<!ENTITY % userestrict 'INCLUDE'>
<![%userestrict;[
<!ELEMENT %n.userestrict; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.userestrict;
          meiform            CDATA                 #FIXED 'userestrict'
          %a.common;
          %a.bibl;>
]]>

<!-- The cost of access. The %m.anchoredtext entity is used here in
order to disallow the pb element. -->
<!ENTITY % price 'INCLUDE'>
<![%price;[
<!ELEMENT %n.price; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.price;
          meiform            CDATA                 #FIXED 'price'
          %a.common;
          %a.bibl;
          units              CDATA                 #IMPLIED>
]]>

<!-- System requirements for using the electronic item. The
%m.anchoredtext entity is used here in order to disallow the pb
element. -->
<!ENTITY % sysreq 'INCLUDE'>
<![%sysreq;[
<!ELEMENT %n.sysreq; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.sysreq;
          meiform            CDATA                 #FIXED 'sysreq'
          %a.common;
          %a.bibl;>
]]>

<!-- Groups information about the series, if any, to which a
publication belongs. In this context, the title element records the
series title, the respStmt element records the person or group
responsible for the series, and the identifier element contains a
series identifier. The list element should be used when it is necessary
to enumerate the contents of the series. The seriesstmt is provided
within seriesstmt for the description of a sub-series. The title, list,
and identifier elements are declared in the meiShared DTD. -->
<!ENTITY % seriesstmt 'INCLUDE'>
<![%seriesstmt;[
<!ELEMENT %n.seriesstmt; ((%n.title;)+, (%n.respstmt;)?, (%n.identifier;)*,
                         (%n.list;|(%n.seriesstmt;)*))>
<!ATTLIST %n.seriesstmt;
          meiform            CDATA                 #FIXED 'seriesstmt'
          %a.common;
          %a.bibl;>
]]>

<!-- The extent element is used to express size in terms other than
physical dimensions, such as number of pages, number of records in file,
number of bytes, performance duration for music, audio recordings and
visual projections, etc. For physical dimensions use the dimensions
element. The %m.anchoredtext entity is used here in order to disallow
the pb element. -->
<!ENTITY % extent 'INCLUDE'>
<![%extent;[
<!ELEMENT %n.extent; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.extent;
          meiform            CDATA                 #FIXED 'extent'
          %a.common;
          %a.bibl;
          units              CDATA                 #IMPLIED>
]]>

<!-- Traditionally, an identifier constructed by combining groups of
characters transcribed from specified pages of a printed item. For an
electronic item, however, the fingerprint should be a checksum. The
checksum makes it possible to signal differences between copies of the
item. -->
<!ENTITY % fingerprint 'INCLUDE'>
<![%fingerprint;[
<!ELEMENT %n.fingerprint; (#PCDATA)>
<!ATTLIST %n.fingerprint;
          meiform            CDATA                 #FIXED 'fingerprint'
          %a.common;
          %a.lang;>
]]>

<!-- Collects together any bibliographic notes providing information
additional to that recorded in other parts of the bibliographic
description. -->
<!ENTITY % notesstmt 'INCLUDE'>
<![%notesstmt;[
<!ELEMENT %n.notesstmt; (%n.bibnote;)+>
<!ATTLIST %n.notesstmt;
          meiform            CDATA                 #FIXED 'notesstmt'
          %a.common;
          %a.bibl;>
]]>

<!-- Bibliographic note. The %m.anchoredtext entity is used here in
order to disallow the pb element. -->
<!ENTITY % bibnote 'INCLUDE'>
<![%bibnote;[
<!ELEMENT %n.bibnote; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.bibnote;
          meiform            CDATA                 #FIXED 'bibnote'
          %a.common;
          %a.bibl;>
]]>

<!-- Project-level meta-data describing the aim or purpose for which
the electronic file was encoded, funding agencies, etc. together with
any other relevant information concerning the process by which it was
assembled or collected. The m.textcomponent class elements are
declared in the meiShared DTD. -->
<!ENTITY % projectdesc 'INCLUDE'>
<![%projectdesc;[
<!ELEMENT %n.projectdesc;  (%n.p;)+>
<!ATTLIST %n.projectdesc;
          meiform            CDATA                 #FIXED 'projectdesc'
          %a.common;
          %a.bibl;>
]]>

<!-- Editorialdecl should be used to provide details of editorial
principles and practices applied during the encoding of musical text.
The m.textcomponent class elements are declared in the meiShared DTD. -->
<!ENTITY % editorialdecl 'INCLUDE'>
<![%editorialdecl;[
<!ELEMENT %n.editorialdecl;  (
                               (%n.p;)+ |
                               ((%n.correction; | %n.interpretation; |
                                %n.normalization; | %n.segmentation; |
                                %n.stdvals;)+, (%n.p;)*)
                             )>
<!ATTLIST %n.editorialdecl;
          meiform            CDATA                 #FIXED 'editorialdecl'
          %a.common;
          %a.bibl;>
]]>

<!-- States how and under what circumstances corrections have been made
in the music/text. -->
<!ENTITY % correction 'INCLUDE'>
<![%correction;[
<!ELEMENT %n.correction; (%n.p;)+>
<!ATTLIST %n.correction; 
          meiform            CDATA                 #FIXED 'correction'
          %a.common;
          %a.bibl;
          method             (silent|tags)         #IMPLIED
          status             (high|medium|low|unknown)
                                                   #IMPLIED>
]]>

<!-- Describes the scope of any analytic or interpretive information
added to the musical text in addition to the transcription. -->
<!ENTITY % interpretation 'INCLUDE'>
<![%interpretation;[
<!ELEMENT %n.interpretation; (%n.p;)+>
<!ATTLIST %n.interpretation;
          meiform            CDATA                 #FIXED 'interpretation'
          %a.common;
          %a.bibl;>
]]>

<!-- Indicates the extent of normalization or regularization of the
original source carried out in converting it to electronic form. -->
<!ENTITY % normalization 'INCLUDE'>
<![%normalization;[
<!ELEMENT %n.normalization; (%n.p;)+>
<!ATTLIST %n.normalization;
          meiform            CDATA                 #FIXED 'normalization'
          %a.common;
          %a.bibl;
          method             (silent|tags)         #IMPLIED>
]]>

<!-- Describes the principles according to which the musical text has been
segmented, for example into movements, sections, etc. -->
<!ENTITY % segmentation 'INCLUDE'>
<![%segmentation;[
<!ELEMENT %n.segmentation; (%n.p;)+>
<!ATTLIST %n.segmentation;
          meiform            CDATA                 #FIXED 'segmentation'
          %a.common;
          %a.bibl;>
]]>

<!-- Specifies the format used when standardized date or number values are
supplied. -->
<!ENTITY % stdvals 'INCLUDE'>
<![%stdvals;[
<!ELEMENT %n.stdvals; (%n.p;)+>
<!ATTLIST %n.stdvals;
          meiform            CDATA                 #FIXED 'stdvals'
          %a.common;
          %a.bibl;>
]]>

<!-- Non-bibliographic creation details for the work being encoded, in
narrative form. The m.textcomponent class elements are declared in the
meiShared DTD. -->
<!ENTITY % creation 'INCLUDE'>
<![%creation;[
<!ELEMENT %n.creation;  (%m.textcomponents;)+>
<!ATTLIST %n.creation;
          meiform            CDATA                 #FIXED 'creation'
          %a.common;
          %a.bibl;>
]]>

<!-- Langusage describes the languages, sublanguages, dialects, etc.,
represented within the encoded work. -->
<!ENTITY % langusage 'INCLUDE'>
<![%langusage;[
<!ELEMENT %n.langusage;  (%n.language;)+>
<!ATTLIST %n.langusage;
          meiform            CDATA                 #FIXED 'langusage'
          %a.common;
          %a.bibl;>
]]>

<!-- The name of a language. The language of text elements may be
related to this element via its id, which may take the form of a code,
drawn from a coded list, such as iso639-2b. The %m.anchoredtext entity
is used here in order to disallow the pb element. -->
<!ENTITY % language 'INCLUDE'>
<![%language;[
<!ELEMENT %n.language;  (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.language;
          meiform            CDATA                 #FIXED 'language'
          %a.common;
          %a.bibl;>
]]>

<!-- The musicclass (music classification) element groups information
which describes the nature or topic of a musical work in terms of a
standard classification scheme, thesaurus, etc. -->
<!ENTITY % musicclass 'INCLUDE'>
<![%musicclass;[
<!ELEMENT %n.musicclass; (%n.classcode;|%n.keywords;)+>
<!ATTLIST %n.musicclass;
          meiform            CDATA                 #FIXED 'musicclass'
          %a.common;
          %a.bibl;>
]]>

<!-- A classification code, i.e., LC subject or call number, or a
thesaurus or ontology citation.  The source of controlled-vocabulary
terms used in the keywords element. -->
<!ENTITY % classcode 'INCLUDE'>
<![%classcode;[
<!ELEMENT %n.classcode; (#PCDATA)>
<!ATTLIST %n.classcode;
          meiform            CDATA                 #FIXED 'classcode'
          %a.common;
          %a.bibl;>
]]>

<!-- Collection of keywords or text phrases which describe the work. -->
<!ENTITY % keywords 'INCLUDE'>
<![%keywords;[
<!ELEMENT %n.keywords; (%n.term;)+>
<!ATTLIST %n.keywords;
          meiform            CDATA                 #FIXED 'keywords'
          %a.common;
          %a.bibl;>
]]>

<!-- Individual keywords or phrases which describe the work. The
classcode attribute may be used to link the term to a terminological
source given in a classcode element. The %m.anchoredtext entity is used
here in order to disallow the pb element. The term element may include
other term elements in order to allow the creation of coordinated terms;
i.e., terms created from a combination of other, independent terms. -->
<!ENTITY % term 'INCLUDE'>
<![%term;[
<!ELEMENT %n.term; (#PCDATA|%n.term;|%m.anchoredtext;)*>
<!ATTLIST %n.term;
          meiform            CDATA                 #FIXED 'term'
          classcode          IDREF                 #IMPLIED
          %a.common;
          %a.bibl;>
]]>

<!-- Contains a prose description of the rationale and methods used in
sampling texts in the creation of a corpus or collection. -->
<!ENTITY % samplingdecl 'INCLUDE'>
<![%samplingdecl;[
<!ELEMENT %n.samplingdecl; (%n.p;)+>
<!ATTLIST %n.samplingdecl;
          meiform            CDATA                 #FIXED 'samplingdecl'
          %a.common;
          %a.bibl;>
]]>

<!-- The revision history for an MEI file. -->
<!ENTITY % revisiondesc 'INCLUDE'>
<![%revisiondesc;[
<!ELEMENT %n.revisiondesc;  (%n.change;)+>
<!ATTLIST %n.revisiondesc;
          meiform            CDATA                 #FIXED 'revisiondesc'
          %a.common;
          %a.bibl;>
]]>

<!-- Individual change within the revision description. The resp
attribute contains data about the person/entity responsible for the
creation of the change element. The date element is declared in the
meiShared DTD. -->
<!ENTITY % change 'INCLUDE'>
<![%change;[
<!ELEMENT %n.change;  (%n.changedesc;, %n.date;)>
<!ATTLIST %n.change;
          meiform            CDATA                 #FIXED 'change'
          %a.common;
          %a.bibl;
          resp               IDREF                 #IMPLIED>
]]>

<!-- Description of a revision. The p element is declared in the
meiShared DTD. -->
<!ENTITY % changedesc 'INCLUDE'>
<![%changedesc;[
<!ELEMENT %n.changedesc;  (%n.p;)+>
<!ATTLIST %n.changedesc;
          meiform            CDATA                 #FIXED 'changedesc'
          %a.common;
          %a.bibl;>
]]>

<!-- Sourcedesc is a container for the descriptions of the source(s)
used in the creation of the electronic file. -->
<!ENTITY % sourcedesc 'INCLUDE'>
<![%sourcedesc;[
<!ELEMENT %n.sourcedesc; (%n.source;)+>
<!ATTLIST %n.sourcedesc;
          meiform            CDATA                 #FIXED 'sourcedesc'
          %a.common; >
]]>

<!-- Source contains a bibliographic description of a source for the
electronic file. When there are multiple sources, the data attribute may
be used to link the description to a particular data element, i.e., mdiv,
part, section, ending, reading, measure, staff or layer. Within source,
the extent element may be used when only a portion of the source, pages
1-3 for example, are encoded. If extent is absent, then the entire
source is presumed to have been encoded. Multiple physdesc sub-elements
may be used to describe the physically separate parts of a single
source. -->
<!ENTITY % source 'INCLUDE'>
<![%source;[
<!ELEMENT %n.source;  (
                        (%n.identifier;)*, (%n.titlestmt;)?,
                        (%n.editionstmt;)?, (%n.pubstmt;|%n.unpub;)?,
                        (%n.seriesstmt;)?, (%n.repository;)*,
                        (%n.physdesc;)*, (%n.handlist;)?,
                        (%n.notesstmt;)?, (%n.langusage;)?,
                        (%n.musicclass;)?
                      )>
<!ATTLIST %n.source;
          meiform            CDATA                 #FIXED 'source'
          data               IDREFS                #IMPLIED
          %a.common;
          %a.bibl;>
]]>

<!-- Physical description of a source for the electronic edition.
Dedicatory text and other textual features may be encoded here when
they are not transcribed as part of the front or back matter. This
would, however, require additional sub-elements, such as titlepage. -->
<!ENTITY % physdesc 'INCLUDE'>
<![%physdesc;[
<!ELEMENT %n.physdesc; (%n.condition;|%n.dimensions;|%n.exhibithist;|
                       %n.extent;|%n.inscription;|%n.physmedium;|
                       %n.physloc;|%n.provenance;|%n.titlepage;|
                       %n.treatmenthist;|%n.treatmentsched;)+>
<!ATTLIST %n.physdesc;
          meiform            CDATA                 #FIXED 'physdesc'
          %a.common;
          %a.bibl;>
]]>

<!-- Physmedium is used to record the physical materials used in the
source, such as ink and paper. The %m.anchoredtext entity is used here
in order to disallow the pb element. -->
<!ENTITY % physmedium 'INCLUDE'>
<![%physmedium;[
<!ELEMENT %n.physmedium; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.physmedium;
          meiform            CDATA                 #FIXED 'physmedium'
          %a.common;
          %a.bibl;>
]]>

<!-- Physical dimensions of a bibliographic source. The %m.anchoredtext
entity is used here in order to disallow the pb element. -->
<!ENTITY % dimensions 'INCLUDE'>
<![%dimensions;[
<!ELEMENT %n.dimensions; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.dimensions;
          meiform            CDATA                 #FIXED 'dimensions'
          %a.common;
          %a.bibl;
          units              CDATA                 #IMPLIED>
]]>

<!-- The record of ownership or custodianship of an item. The
%m.anchoredtext entity is used here in order to disallow the pb
element. -->
<!ENTITY % provenance 'INCLUDE'>
<![%provenance;[
<!ELEMENT %n.provenance; (#PCDATA|%n.list;|%m.anchoredtext;)*>
<!ATTLIST %n.provenance;
          meiform            CDATA                 #FIXED 'provenance'
          %a.common;
          %a.bibl;>
]]>

<!-- An inscription added to an item, such as a bookplate, a note
designating the item as a gift, and/or the author's signature. The
%m.anchoredtext entity is used here in order to disallow the pb
element. -->
<!ENTITY % inscription 'INCLUDE'>
<![%inscription;[
<!ELEMENT %n.inscription; (#PCDATA|%m.anchoredtext; %m.edit;)*>
<!ATTLIST %n.inscription;
          meiform            CDATA                 #FIXED 'inscription'
          %a.common;
          %a.bibl;>
]]>

<!-- Exhibition history is a record of public exhibitions, including
dates, venues, etc. The %m.anchoredtext entity is used here in order to
disallow the pb element. -->
<!ENTITY % exhibithist 'INCLUDE'>
<![%exhibithist;[
<!ELEMENT %n.exhibithist; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.exhibithist;
          meiform            CDATA                 #FIXED 'exhibithist'
          %a.common;
          %a.bibl;>
]]>

<!-- The physical condition of an item, particularly any variances
between the physical makeup of the item and that of other copies of the
same item (e.g., missing pages, plates, etc.). Condition may reflect
other aspects of the physical condition of the item as well (e.g.,
brittleness, faded images, etc.). The %m.anchoredtext entity is used
here in order to disallow the pb element. -->
<!ENTITY % condition 'INCLUDE'>
<![%condition;[
<!ELEMENT %n.condition; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.condition;
          meiform            CDATA                 #FIXED 'condition'
          %a.common;
          %a.bibl;>
]]>

<!-- A record of the treatment the item has undergone (e.g.,
deacidification, restoration, etc.) Treatment history may also comprise
details of the treatment process (e.g., chemical solutions used,
techniques applied, etc.), the date the treatment was applied, etc. The
%m.anchoredtext entity is used here in order to disallow the pb
element. -->
<!ENTITY % treatmenthist 'INCLUDE'>
<![%treatmenthist;[
<!ELEMENT %n.treatmenthist; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.treatmenthist;
          meiform            CDATA                 #FIXED 'treatmenthist'
          %a.common;
          %a.bibl;>
]]>

<!-- Scheduled treatment, e.g. deacidification, restoration, etc., for
an item. The %m.anchoredtext entity is used here in order to disallow
the pb element. -->
<!ENTITY % treatmentsched 'INCLUDE'>
<![%treatmentsched;[
<!ELEMENT %n.treatmentsched; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.treatmentsched;
          meiform            CDATA                 #FIXED 'treatmentsched'
          %a.common;
          %a.bibl;>
]]>

<!-- Location of the source within the repository, e.g., shelf mark or
other locational information. -->
<!ENTITY % physloc 'INCLUDE'>
<![%physloc;[
<!ELEMENT %n.physloc; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.physloc;
          meiform            CDATA                 #FIXED 'physloc'
          %a.common;
          %a.bibl;>
]]>

<!-- The handlist element contains a series of <hand> elements listing
the different hands of the source. -->
<!ENTITY % handlist 'INCLUDE'>
<![%handlist;[
<!ELEMENT %n.handlist; (%n.hand;)+>
<!ATTLIST %n.handlist;
          meiform            CDATA                 #FIXED 'handlist'
          %a.common;
          %a.bibl;>
]]>

<!-- The hand element is used to define each distinct scribe or
handwriting style. The initial attribute indicates whether this is the
first or main scribe of the document. The medium attribute describes
the writing medium, e.g., 'pencil', or the tint or type of ink, e.g.
'brown'. The resp attribute contains an ID reference to an element
containing the name of the editor or transcriber responsible for
identifying the hand. The characteristics of the hand, particularly
those related to the quality of the writing, such as 'shaky', 'thick',
etc. may be described within the content of the hand element. -->
<!ENTITY % hand 'INCLUDE'>
<![%hand;[
<!ELEMENT %n.hand; (#PCDATA|%m.anchoredtext;)*>
<!ATTLIST %n.hand;
          meiform            CDATA                 #FIXED 'hand'
          %a.common;
          %a.bibl;
          initial            %BOOLEAN;             #IMPLIED
          medium             CDATA                 #IMPLIED
          resp               IDREF                 #IMPLIED>
]]>

<!-- ************************************************************** -->

<!-- <!ENTITY % meiText SYSTEM 'meiText.dtd'> %meiText; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiText.dtd  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains declarations for MEI text elements.
          These elements are used in textual portions of an edition
          of music, e.g. front and back matter. This file is invoked
          by the mei.dtd driver file.                               -->
<!-- ************************************************************** -->

<!-- Front matter. The pb element is allowed here in order to
accommodate page images, e.g. cover, endpapers, etc. before and after
the actual textual matter. The pb element and titlepage elements are
declared in the meiShared DTD. -->
<!ENTITY % front 'INCLUDE'>
<![%front;[
<!ELEMENT %n.front;  ((%n.pb;)*, (%n.div;|%n.titlepage;)+, (%n.pb;)*)>
<!ATTLIST %n.front;
          meiform            CDATA                 #FIXED 'front'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- Back matter such as indexes, advertisements, etc. -->
<!ENTITY % back 'INCLUDE'>
<![%back;[
<!ELEMENT %n.back;  ((%n.pb;)*, (%n.div;)+, (%n.pb;)*)>
<!ATTLIST %n.back;
          meiform            CDATA                 #FIXED 'back'
          %a.common;
          %a.facsimile;
          %a.lang;>
]]>

<!-- Textual division. -->
<!ENTITY % div 'INCLUDE'>
<![%div;[
<!ELEMENT %n.div;  ((%n.pb;)?, (%n.head;)?, (%n.div;|%m.textcomponents;)+,
                   (%n.pb;)?)>
<!ATTLIST %n.div;
          meiform            CDATA                 #FIXED 'div'
          %a.common;
          %a.facsimile;
          %a.lang;
          %a.typed;>
]]>

<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- B. Include the optional tag sets, if requested.                -->
<!-- ************************************************************** -->
<![%meiMIDI;[
  <!-- <!ENTITY % meiMID SYSTEM 'meiMIDI.dtd'> %meiMID; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiMIDI.dtd  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains declarations for MEI MIDI elements. It
          is invoked by the mei.dtd driver file.                    -->
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- Shared attributes                                              -->
<!-- ************************************************************** -->

<!-- ************************************************************** -->
<!-- * Attributes for midi                                        * -->

<!-- Attributes common to MIDI events. %a.controlevent is expanded here
in order to allow only the staff, layer, and tstamp attributes from this
class. -->
<!ENTITY % a.midi.event
                     'layer             %INTEGERPOSITIVE;     #IMPLIED
                     staff              %INTEGERPOSITIVE;     #IMPLIED
                     tstamp             %BEAT;                #IMPLIED'>

<![%meiAnalysis;[
  <!-- The corresp attribute may point to logical events, i.e., notes,
  rests, etc., to which the MIDI data is analogous. -->
  <!ENTITY % a.anl.midi '%a.anl.common;'>
]]>
<!ENTITY % a.anl.midi ''>

<!-- Gestural domain attributes: -->
<![%meiGestural;[
  <!ENTITY % a.ges.midi ''>
]]>
<!ENTITY % a.ges.midi ''>

<!-- Logical domain attributes: The midi element may provide values for
layer and staff attributes for a group of MIDI events. -->
<!ENTITY % a.log.midi
                     'layer             %INTEGERPOSITIVE;     #IMPLIED
                     staff              %INTEGERPOSITIVE;     #IMPLIED'>

<!-- Visual domain attributes: -->
<![%meiVisual;[
  <!ENTITY % a.vis.midi ''>
]]>
<!ENTITY % a.vis.midi ''>

<!-- Container for a collection of elements which contain information
useful when generating MIDI output. The n attribute can be used to
differentiate between multiple MIDI data streams, e.g.
quantized/unquantized, straight/swing, ornamented/as notated, etc. -->
<!ENTITY % midi 'INCLUDE'>
<![%midi;[
<!ELEMENT %n.midi;  (%m.midievents;)*>
<!ATTLIST %n.midi;
          meiform            CDATA                 #FIXED 'midi'
          %a.common;
          %a.log.midi;
          %a.vis.midi;
          %a.ges.midi;
          %a.anl.midi;>
]]>

<!-- Parameter/control change. The n attribute specifies parameter number,
while val contains the parameter value. Each must fall in the range 0-127.
A sampling of controllers and their numbers:
0   Bank Select MSB
1   Modulation 
2   Breath Control
5   Portamento Time
7   Main Volume
10  Pan
11  Expression
32  Bank Select LSB
64  Sustain Pedal (0=up, 127=down)
65  Portamento Pedal (0=off, 127=on)
91  Reverb
93  Chorus Depth
120 All Sounds Off (0)
121 Reset All Controllers (0)
123 All Notes Off (0) -->
<!ENTITY % cc 'INCLUDE'>
<![%cc;[
<!ELEMENT %n.cc;  EMPTY>
<!ATTLIST %n.cc;
          meiform            CDATA                 #FIXED 'cc'
          %a.anl.common;
          %a.common;
          %a.midi.event;
          num                %MIDIVALUE;           #REQUIRED
          val                %MIDIVALUE;           #REQUIRED>
]]>

<!-- Channel assignment -->
<!ENTITY % chan 'INCLUDE'>
<![%chan;[
<!ELEMENT %n.chan;  EMPTY>
<!ATTLIST %n.chan;
          meiform            CDATA                 #FIXED 'chan'
          %a.anl.common;
          %a.common;
          %a.midi.event;
          num                %MIDICHANNEL;         #REQUIRED>
]]>

<!-- Channel pressure/after touch. The n attribute must be in the
range 0-127. -->
<!ENTITY % chanpr 'INCLUDE'>
<![%chanpr;[
<!ELEMENT %n.chanpr;  EMPTY>
<!ATTLIST %n.chanpr;
          meiform            CDATA                 #FIXED 'chanpr'
          %a.anl.common;
          %a.common;
          %a.midi.event;
          num                %MIDIVALUE;           #REQUIRED>
]]>

<!-- Cue point -->
<!ENTITY % cue 'INCLUDE'>
<![%cue;[
<!ELEMENT %n.cue;  (#PCDATA)>
<!ATTLIST %n.cue;
          meiform            CDATA                 #FIXED 'cue'
          %a.anl.common;
          %a.common;
          %a.midi.event;>
]]>

<!-- Arbitrary MIDI data in hex -->
<!ENTITY % hex 'INCLUDE'>
<![%hex;[
<!ELEMENT %n.hex;  (#PCDATA)>
<!ATTLIST %n.hex;
          meiform            CDATA                 #FIXED 'hex'
          %a.anl.common;
          %a.common;
          %a.midi.event;>
]]>

<!-- Marker meta event-->
<!ENTITY % marker 'INCLUDE'>
<![%marker;[
<!ELEMENT %n.marker;  (#PCDATA)>
<!ATTLIST %n.marker;
          meiform            CDATA                 #FIXED 'marker'
          %a.anl.common;
          %a.common;
          %a.midi.event;>
]]>

<!-- Text meta event -->
<!ENTITY % metatext 'INCLUDE'>
<![%metatext;[
<!ELEMENT %n.metatext;  (#PCDATA)>
<!ATTLIST %n.metatext;
          meiform            CDATA                 #FIXED 'metatext'
          %a.anl.common;
          %a.common;
          %a.midi.event;>
]]>

<!-- Note-off -->
<!ENTITY % noteoff 'INCLUDE'>
<![%noteoff;[
<!ELEMENT %n.noteoff;  EMPTY>
<!ATTLIST %n.noteoff;
          meiform            CDATA                 #FIXED 'noteoff'
          %a.anl.common;
          %a.common;
          %a.midi.event;
          num                %MIDIVALUE;           #REQUIRED>
]]>

<!-- Note-on -->
<!ENTITY % noteon 'INCLUDE'>
<![%noteon;[
<!ELEMENT %n.noteon;  EMPTY>
<!ATTLIST %n.noteon;
          meiform            CDATA                 #FIXED 'noteon'
          %a.anl.common;
          %a.common;
          %a.midi.event;
          num                %MIDIVALUE;           #REQUIRED>
]]>

<!-- MIDI port. The n attribute must be in the range 0-127. -->
<!ENTITY % port 'INCLUDE'>
<![%port;[
<!ELEMENT %n.port;  EMPTY>
<!ATTLIST %n.port;
          meiform            CDATA                 #FIXED 'port'
          %a.anl.common;
          %a.common;
          %a.midi.event;
          num                %MIDIVALUE;           #REQUIRED>
]]>

<!-- Program change/new instrument. The n attribute must be in the
range 0-127. -->
<!ENTITY % prog 'INCLUDE'>
<![%prog;[
<!ELEMENT %n.prog;  EMPTY>
<!ATTLIST %n.prog;
          meiform            CDATA                 #FIXED 'prog'
          %a.anl.common;
          %a.common;
          %a.midi.event;
          num                %MIDIVALUE;           #REQUIRED>
]]>

<!-- Sequence number. The n attribute must be in the range 0-65535 -->
<!ENTITY % seqnum 'INCLUDE'>
<![%seqnum;[
<!ELEMENT %n.seqnum;  EMPTY>
<!ATTLIST %n.seqnum;
          meiform            CDATA                 #FIXED 'seqnum'
          %a.anl.common;
          %a.common;
          %a.midi.event;
          num                %INTEGERNONNEGATIVE;  #REQUIRED>
]]>

<!-- Track/sequence name -->
<!ENTITY % trkname 'INCLUDE'>
<![%trkname;[
<!ELEMENT %n.trkname;  (#PCDATA)>
<!ATTLIST %n.trkname;
          meiform            CDATA                 #FIXED 'trkname'
          %a.anl.common;
          %a.common;
          %a.midi.event;>
]]>

<!-- Note-on/off velocity. For on velocity, the attribute must be in
the range 1-127. For off velocity, the n attribute must be in the range
0-127. -->
<!ENTITY % vel 'INCLUDE'>
<![%vel;[
<!ELEMENT %n.vel;  EMPTY>
<!ATTLIST %n.vel;
          meiform            CDATA                 #FIXED 'vel'
          %a.anl.common;
          %a.common;
          %a.midi.event;
          form               (on|off)              #REQUIRED
          num                CDATA                 #REQUIRED>
]]>

<!-- ************************************************************** -->
]]>

<![%meiEdit;[ 
  <!-- <!ENTITY % meiEditing SYSTEM 'meiEdit.dtd'> %meiEditing; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiEdit.dtd  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains declarations for MEI edit elements.
          These elements are used for editorial correction and
          transcription. This file is invoked by the mei.dtd driver
          file.                                                     -->
<!-- ************************************************************** -->

<!-- Marks an addition to the musical text.  The add element contains
material inserted by an author, scribe, annotator, or corrector. The
resp attribute contains a ID reference to an element containing the
editor or transcriber responsible for identifying the hand of the
addition. The cert attribute signifies the degree of certainty
ascribed to the identification of the hand of the addition. The hand
attribute signifies the hand of the agent which made the addition. -->

<!ENTITY % add 'INCLUDE'>
<![%add;[
<!ELEMENT %n.add;  (#PCDATA|%m.textinline;|%m.layer;)*>
<!ATTLIST %n.add;
          meiform            CDATA                 #FIXED 'add'
          %a.common;
          %a.facsimile;
          %a.edit;
          %a.trans;>
]]>

<!-- Choice -->
<!ENTITY % choice 'INCLUDE'>
<![%choice;[
<!ELEMENT %n.choice;  (%m.choice;)*>
<!ATTLIST %n.choice;
          meiform            CDATA                 #FIXED 'choice'
          %a.common;>
]]> 

<!-- Correction contains the correct form of an apparent erroneous
passage. The resp attribute contains an ID reference to an element
containing the name of the editor or transcriber responsible for
suggesting the correction held as the content of the <corr> element.
If the correction was made in the source, resp should be used to
identify the hand of the corrector. -->
<!ENTITY % corr 'INCLUDE'>
<![%corr;[
<!ELEMENT %n.corr;  (#PCDATA|%m.textinline;|%m.layer;)*>
<!ATTLIST %n.corr;
          meiform            CDATA                 #FIXED 'corr'
          %a.common;
          %a.edit;
          %a.trans;>
]]>

<!-- Contains an area of damage to the carrier.  In the case of damage
resulting from an identifiable cause, the agent attribute signifies
the causative agent.  The degree attribute signifies the degree of
damage according to a convenient scale. The <damage> tag with this
attribute should only be used where the text may be read with some
confidence; data supplied from other sources should be tagged as
<supplied>. The extent attribute indicates approximately how much text
is in the damaged area, in notes, measures, inches, or any appropriate
unit, where this cannot be deduced from the contents of the tag. For
example, the damage may span structural divisions in the text so that
the tag must then be empty of content. In the case of damage
(deliberate defacement, etc.) assignable to an identifiable hand, the
hand attribute signifies the hand responsible for the damage. -->
<!ENTITY % damage 'INCLUDE'>
<![%damage;[
<!ELEMENT %n.damage;  (#PCDATA|%m.textinline;|%m.layer;)*>
<!ATTLIST %n.damage;
          meiform            CDATA                 #FIXED 'damage'
          %a.common;
          %a.facsimile;
          %a.typed;
          agent              CDATA                 #IMPLIED
          degree             CDATA                 #IMPLIED
          extent             CDATA                 #IMPLIED
          hand               IDREF                 #IMPLIED>
]]>

<!-- Del contains information deleted, marked as deleted, or otherwise
indicated as superfluous or spurious in the copy text by an author,
scribe, annotator, or corrector. The resp attribute contains an ID
reference to an element containing the name of the editor or
transcriber responsible for identifying the hand of the deletion. The
cert attribute signifies the degree of certainty ascribed to the
identification of the hand of the deletion. The hand of the agent
which made the deletion should be pointed to using the hand attribute.
The rend attribute may be used to record the method used to make the
deletion (overstrike, strike[through], etc.) or how the deleted matter
should be displayed. -->
<!ENTITY % del 'INCLUDE'>
<![%del;[
<!ELEMENT %n.del;  (#PCDATA|%m.textinline;|%m.layer;)*>
<!ATTLIST %n.del;
          meiform            CDATA                 #FIXED 'del'
          %a.common;
          %a.facsimile;
          %a.trans;
          rend               CDATA                 #IMPLIED>
]]>

<!ENTITY % orig 'INCLUDE'>
<![%orig;[
<!ELEMENT %n.orig;  (#PCDATA|%m.textinline;|%m.layer;)*>
<!ATTLIST %n.orig;
          meiform            CDATA                 #FIXED 'orig'
          %a.common;
          %a.edit;
          %a.facsimile;
          %a.typed;>
]]>

<!ENTITY % reg 'INCLUDE'>
<![%reg;[
<!ELEMENT %n.reg;   (#PCDATA|%m.textinline;|%m.layer;)*>
<!ATTLIST %n.reg;
          meiform            CDATA                 #FIXED 'reg'
          %a.common;
          %a.edit;>
]]>

<!-- Restore indicates restoration of musical material to an earlier
state by cancellation of an editorial or authorial marking or
instruction. The desc (description) attribute gives a prose
description of the means of restoration, 'stet' or 'strike-down', for
example. The cert attribute signifies the degree of certainty ascribed
to the identification of the hand of the restoration. The type
attribute may be used to indicate the action cancelled by the
restoration. The resp attribute contains an ID reference to an element
containing the name of the editor or transcriber responsible for
identifying the hand of the restoration. The hand attribute signifies
the hand of the agent which made the restoration. -->
<!ENTITY % restore 'INCLUDE'>
<![%restore;[
<!ELEMENT %n.restore;  (#PCDATA|%m.textinline;|%m.layer;)*>
<!ATTLIST %n.restore;
          meiform            CDATA                 #FIXED 'restore'
          %a.common;
          %a.facsimile;
          %a.trans;
          %a.typed;
          desc               CDATA                 #IMPLIED>
]]>

<!-- Contains apparently incorrect or inaccurate musical material. A
correction for the apparent error may be given in an accompanying
child or sibling corr element. -->
<!ENTITY % sic 'INCLUDE'>
<![%sic;[
<!ELEMENT %n.sic;  (#PCDATA|%m.textinline;|%m.layer;)*>
<!ATTLIST %n.sic;
          meiform            CDATA                 #FIXED 'sic'
          %a.common;
          %a.facsimile;>
]]>

<!-- Substitution -->
<!ENTITY % subst 'INCLUDE'>
<![%subst;[
<!ELEMENT %n.subst;  ((%m.subst;), (%m.subst;)+)>
<!ATTLIST %n.subst;
          meiform            CDATA                 #FIXED 'subst'>
]]>

<!-- Supplied contains musical material supplied by the transcriber or
editor in place of text which cannot be read, either because of
physical damage or loss in the original or because it is illegible for
any reason. When the presumed loss of text arises from an identifiable
cause, agent signifies the causative agent. When the presumed loss of
text arises from action (partial deletion, etc.) assignable to an
identifiable hand, the hand attribute signifies the hand responsible
for the action. The reason attribute indicates why the text has to be
supplied, e.g. 'overbinding', 'faded ink', 'lost folio', 'omitted in
original', etc. The source attribute contains the source of the
supplied text. -->
<!ENTITY % supplied 'INCLUDE'>
<![%supplied;[
<!ELEMENT %n.supplied;  (#PCDATA|%m.textinline;|%m.layer;)*>
<!ATTLIST %n.supplied;
          meiform            CDATA                 #FIXED 'supplied'
          %a.common;
          %a.edit;
          %a.facsimile;
          agent              CDATA                 #IMPLIED
          reason             CDATA                 #IMPLIED>
]]>

<!-- Unclear contains musical material which cannot be transcribed
with certainty because it is illegible or inaudible in the source.
Where the difficulty in transcription arises from an identifiable
cause, the agent attribute signifies the causative agent. The cert
attribute signifies the degree of certainty ascribed to the
transcription of the text contained within the <unclear> element.
Where the difficulty in transcription arises from action (partial
deletion, etc.) assignable to an identifiable hand, the hand attribute
signifies the hand responsible for the action. The reason attribute
indicates why the material is difficult to transcribe. The resp
attribute indicates the individual responsible for the transcription
of the word, phrase, or passage contained with the <unclear>
element. -->
<!ENTITY % unclear 'INCLUDE'>
<![%unclear;[
<!ELEMENT %n.unclear;  (#PCDATA|%m.textinline;|%m.layer;)*>
<!ATTLIST %n.unclear;
          meiform            CDATA                 #FIXED 'unclear'
          %a.common;
          %a.edit;
          %a.facsimile;
          agent              CDATA                 #IMPLIED
          hand               IDREF                 #IMPLIED
          reason             CDATA                 #IMPLIED>
]]>

<!-- Marks the beginning of a passage written in a new hand, or of a
change in the scribe, writing style, ink or character of the document
hand. The character attribute describes characteristics of the hand,
particularly those related to the quality of the writing, e.g.,
'shaky', 'thick', regular'. A description of the tint or type of ink,
e.g. 'brown' or the writing medium, e.g. 'pencil', may be placed in
the medium attribute. The new hand may be identified using the new
attribute, while the previous hand may be recorded in the old
attribute. The resp attribute contains an ID reference to an element
containing the name of the editor or transcriber responsible for
identifying the change of hand. -->
<!ENTITY % handshift 'INCLUDE'>
<![%handshift;[
<!ELEMENT %n.handshift;  EMPTY>
<!ATTLIST %n.handshift;
          meiform            CDATA                 #FIXED 'handshift'
          %a.common;
          %a.edit;
          %a.facsimile;
          character          CDATA                 #IMPLIED
          medium             CDATA                 #IMPLIED
          new                IDREF                 #IMPLIED
          old                IDREF                 #IMPLIED>
]]>

<!-- Indicates a point where material has been omitted in a
transcription, whether as part of sampling practice or for editorial
reasons described in the MEI header. When material is omitted because
it is illegible or inaudible, <unclear> should be used instead.
Similarly, use <damage> if the omission is due to damage and <del> if
the omission is because the material is marked as deleted, or
otherwise indicated as superfluous or spurious in the copy text by an
author, scribe, annotator, or corrector. An indication of how much
material has been omitted from the transcription may be recorded in
the extent attribute. The unit attribute names the unit used for
describing the extent of the gap. The reason attribute gives the
reason for omission. Sample values include 'sampling', 'irrelevant',
'cancelled'. The resp attribute contains an ID reference to an element
containing the name of the editor, transcriber or encoder responsible
for the decision not to provide any transcription of the material and
hence the application of the <gap> tag. -->
<!ENTITY % gap 'INCLUDE'>
<![%gap;[
<!ELEMENT %n.gap;  EMPTY>
<!ATTLIST %n.gap;
          meiform            CDATA                 #FIXED 'gap'
          %a.common;
          %a.edit;
          extent             CDATA                 #IMPLIED
          hand               IDREF                 #IMPLIED
          reason             CDATA                 #IMPLIED
          unit               CDATA                 #IMPLIED>
]]>

<!-- ************************************************************** -->
]]>

<!-- <!ENTITY % meiMensur SYSTEM 'meiMensur.dtd'> %meiMensur; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiMensur.dtd  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains declarations for MEI elements used for
          the encoding of neume notation.  This file is invoked by the
          mei.dtd driver file.                                      -->
<!-- ************************************************************** -->
<!ENTITY % nota 'INCLUDE'>
<![%nota;[
<!-- Note (Read, p. 63), a single pitched event. The note element is
allowed to contain other events for situations where a single written
note may be representative of a group of performed notes. The accid and
artic sub-elements may be used instead of the note element's attributes
when accid and artic represent first-class objects, e.g. when they
require attributes, such as x and y location attributes. Similarly, the
syl sub-element may be used instead of the syl attribute. The verse
sub-element may be used to group text syllables by verse. -->
<!ELEMENT %n.nota;  ((%m.events; %m.apparatus; %m.edit;)*|(%n.accid;|%n.artic;|%n.syl;|%n.verse;)*)>
<!ATTLIST %n.nota;
          meiform            CDATA                 #FIXED 'nota'
          %a.common;
          %a.facsimile;
          %a.log.nota;
          %a.vis.nota;
          %a.ges.nota;
          %a.anl.nota;>
]]>

<!ENTITY % pausa 'INCLUDE'>
<![%pausa;[
<!ELEMENT %n.pausa;  EMPTY>
<!ATTLIST %n.pausa;
          meiform            CDATA                 #FIXED 'pausa'
          %a.common;
          %a.facsimile;
          %a.log.pausa;
          %a.vis.pausa;
          %a.ges.pausa;
          %a.anl.pausa;>
]]>

<!-- <![%meiNeumes;[ -->
<!-- <!ENTITY % meiNeume SYSTEM 'meiNeume.dtd'> %meiNeume; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiNeume.dtd  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains declarations for MEI elements used for
          the encoding of neume notation.  This file is invoked by the
          mei.dtd driver file.                                      -->
<!-- ************************************************************** -->

<!-- The interrupted neume element is provided for the encoding of neume
notation.  It is only available when the meiNeumes entity has been set
to INCLUDE. -->
<!ENTITY % ineume 'INCLUDE'>
<![%ineume;[
<!ELEMENT %n.ineume; ((%m.events; %m.apparatus; %m.edit;)*|(%n.accid;|%n.artic;|%n.verse;)*)>
<!ATTLIST %n.ineume;
          meiform            CDATA                 #FIXED 'ineume'
          %a.common;
          %a.facsimile;
          %a.typed;
          %a.log.ineume;
          %a.vis.ineume;
          %a.ges.ineume;
          %a.anl.ineume;>
]]>

<!-- A single, uninterrupted neume sign. While ineume is allowed here as
part of the m.events class, it is unlikely that an uninterrupted neume
containing an interrupted neume is a meaningful construct. -->
<!ENTITY % uneume 'INCLUDE'>
<![%uneume;[
<!ELEMENT %n.uneume;   ((%m.events; %m.apparatus; %m.edit;)*|(%n.accid;|%n.artic;|%n.verse;)*)>
<!ATTLIST %n.uneume;
          meiform            CDATA                 #FIXED 'neume'
          %a.common;
          %a.facsimile;
          %a.typed;
          %a.log.uneume;
          %a.vis.uneume;
          %a.ges.uneume;
          %a.anl.uneume;>
]]>

<!-- The syllable element is used only for neume notation.  Most neume
notation can be thought of as "neumed text". -->
<!ENTITY % syllable 'INCLUDE'>
<![%syllable;[
<!ELEMENT %n.syllable;  ((%m.events;|%n.syl; %m.apparatus; %m.edit;),
                         (%n.pb;|%n.sb;)?)*>
<!ATTLIST %n.syllable;
          meiform            CDATA                 #FIXED 'syllable'
          %a.common;>
]]>

<!-- ************************************************************** -->
<!-- ]]> -->

<![%meiCrit;[
  <!-- <!ENTITY % meiApp SYSTEM 'meiApp.dtd'> %meiApp; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiApp.dtd  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains declarations for elements used when
          encoding a critical apparatus.  It is invoked mei.dtd
          driver file.                                              -->
<!-- ************************************************************** -->

<!-- An app (apparatus) element contains one or more alternative
encodings. The alternatives may be thought of as exclusive or as
parallel. -->
<!ENTITY % app 'INCLUDE'>
<![%app;[
<!ELEMENT %n.app; (%n.rdg;, (%n.rdg;)*)>
<!ATTLIST %n.app;
          meiform            CDATA                 #FIXED 'app'
          %a.common; >
]]>

<!-- Reading. Since a reading can be a multi-measure section, the
scoredef element is allowed so that a reading may have its own meta-
data without the overhead of child sections. The measure sub-element
is declared in the meiBase DTD and the pb sub-element is declared in
the meiShared DTD. The app sub-element is permitted in order to allow
nested sub-variants. The purpose of the m.rdg.x entity is to allow
additional content, namely the syl element, in the content model of rdg
when meiNeumes is INCLUDEd.  This approach has been taken in order to
avoid unnecessarily overloading the content model of rdg in all cases
just to satisfy the needs of a single repertoire. -->
<!ENTITY % rdg 'INCLUDE'>
<![%rdg;[
<!ELEMENT %n.rdg; (%m.rdg;)*>
<!ATTLIST %n.rdg;
          meiform            CDATA                 #FIXED 'rdg'
          %a.common;
          %a.crit;
          %a.typed;
          %a.link.common;
          %a.link.external;
          %a.link.internal;
          %a.anl.rdg;
          %a.ges.rdg;
          %a.log.rdg;
          %a.vis.rdg;>
]]>
]]>

<![%meiFacs;[
  <!-- <!ENTITY % meiFac SYSTEM 'meiFac.dtd'> %meiFac; -->
<!-- ************************************************************** -->
<!--
NAME:     Music Encoding Initiative (MEI) DTD
          File      = meiFacs.dtd  **DRAFT**
                      **DO NOT REDISTRIBUTE**
          Vers Date = 2008/12/04

NOTICE:   Copyright (c) 2008 Perry Roland and the Rector and Visitors
          of the University of Virginia. Licensed under the Educational
          Community License version 1.0. See mei18b.dtd for License
          details.

PURPOSE:  This file contains declarations for elements intended for
          representation of facsimiles.  This file is invoked by the
          mei.dtd driver file.                                      -->
<!-- ************************************************************** -->

<!-- Facsimile contains a representation of some written source in the
form of a set of images rather than as transcribed or encoded text. The
source attribute may be used to link the collection of images with a
particular source. The graphic element is declared in meiShared.dtd. -->
<!ENTITY % facsimile 'INCLUDE'>
<![%facsimile;[
<!ELEMENT %n.facsimile; ((%n.graphic;| %n.surface;)*)>
<!ATTLIST %n.facsimile;
          meiform            CDATA                 #FIXED 'facsimile'
          %a.common;
          source             IDREF                 #IMPLIED>
]]>

<!-- The surface element defines a written surface in terms of a
rectangular coordinate space, optionally grouping one or more graphic
representations of that space, and rectangular zones of interest within
it. The figdesc element is declared in meiShared.dtd. -->
<!ENTITY % surface 'INCLUDE'>
<![%surface;[
<!ELEMENT %n.surface; ((%n.figdesc;)*, (%n.graphic;)*, (%n.zone;)*)>
<!ATTLIST %n.surface;
          meiform            CDATA                 #FIXED 'surface'
          %a.common;
          %a.coordinated;
          start              IDREF                 #IMPLIED>
]]>

<!-- The zone element defines a rectangular area contained within a
surface element. -->
<!ENTITY % zone 'INCLUDE'>
<![%zone;[
<!ELEMENT %n.zone; ((%n.figdesc;)*, (%n.graphic;)*)>
<!ATTLIST %n.zone;
          meiform            CDATA                 #FIXED 'zone'
          %a.common;
          %a.coordinated;>
]]>
]]>
<!-- ************************************************************** -->

