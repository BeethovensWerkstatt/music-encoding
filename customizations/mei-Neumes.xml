<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_odds.rng" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<?xml-model href="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_odds.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:rng="http://relaxng.org/ns/structure/1.0"
  xmlns:sch="http://purl.oclc.org/dsdl/schematron">
  <teiHeader>
    <fileDesc>
      <titleStmt>
        <title>Music Encoding Initiative Guidelines: <title type="sub">Neumes
          Customization</title></title>
        <respStmt>
          <resp>Authored by</resp>
          <name xml:id="PR">Perry Roland</name>
        </respStmt>
      </titleStmt>
      <publicationStmt>
        <p/>
      </publicationStmt>
      <sourceDesc>
        <p/>
      </sourceDesc>
    </fileDesc>
  </teiHeader>
  <text>
    <front>
      <divGen type="toc"/>
    </front>
    <body>
      
      <!-- Limit the set of possible start elements -->
      <schemaSpec ident="mei" ns="http://www.music-encoding.org/ns/mei" prefix="mei_"
        start="mei meiHead meiCorpus music">
        
        <!-- Declare MEI namespace for use in Schematron -->
        <constraintSpec ident="set_ns" scheme="isoschematron">
          <constraint>
            <sch:ns xmlns:sch="http://purl.oclc.org/dsdl/schematron" prefix="mei"
              uri="http://www.music-encoding.org/ns/mei"/>
          </constraint>
        </constraintSpec>
        
        <!-- Deactivate the CMN, mensural, cmnOrnaments, and fingering modules -->
        <moduleRef key="MEI"/>
        <moduleRef key="MEI.shared"/>
        <moduleRef key="MEI.header"/>
        <!-- Disble CMN and mensural modules -->
        <!--<moduleRef key="MEI.cmn"/>-->
        <!--<moduleRef key="MEI.mensural"/>-->
        <moduleRef key="MEI.neumes"/>
        <moduleRef key="MEI.analysis"/>
        <!-- Disable CMN ornaments module -->
        <!--<moduleRef key="MEI.cmnOrnaments"/>-->
        <moduleRef key="MEI.corpus"/>
        <moduleRef key="MEI.critapp"/>
        <moduleRef key="MEI.edittrans"/>
        <moduleRef key="MEI.externalsymbols"/>
        <moduleRef key="MEI.facsimile"/>
        <moduleRef key="MEI.figtable"/>
        <!-- Disable fingering module -->
        <!--<moduleRef key="MEI.fingering"/>-->
        <moduleRef key="MEI.frbr"/>
        <moduleRef key="MEI.harmony"/>
        <moduleRef key="MEI.lyrics"/>
        <moduleRef key="MEI.midi"/>
        <moduleRef key="MEI.namesdates"/>
        <moduleRef key="MEI.performance"/>
        <moduleRef key="MEI.ptrref"/>
        <moduleRef key="MEI.tablature"/>
        <moduleRef key="MEI.text"/>
        <moduleRef key="MEI.usersymbols"/>

        <!-- Include SVG -->
        <moduleRef url="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/svg11.rng">
          <content>
            <rng:define name="mei_model.graphicLike" combine="choice">
              <rng:ref name="svg"/>
            </rng:define>
          </content>
        </moduleRef>

        <!-- Remove dur attribute -->
        <classSpec ident="att.duration.musical" module="MEI.shared" type="atts" mode="delete"/>
        <classSpec ident="att.duration.additive" module="MEI.shared" type="atts" mode="delete"/>

        <!-- Disable CMN-specific model classes in the shared module -->
        <classSpec ident="model.sectionPart.cmn" module="MEI.shared" type="model" mode="delete"/>
        <classSpec ident="model.layerPart.cmn" module="MEI.shared" type="model" mode="delete"/>

        <!-- Disallow events within layer -->
        <classSpec ident="model.eventLike" module="MEI.shared" type="model" mode="replace">
          <desc>groups event elements that occur in all notational repertoires.</desc>
          <classes>
            <!--<memberOf key="model.layerPart"/>-->
            <memberOf key="model.syllablePart"/>
            <memberOf key="model.rdgPart.critapp"/>
          </classes>
        </classSpec>

        <!-- Disallow neume events within layer; only permitted in mei-all customization -->
        <classSpec ident="model.eventLike.neumes" module="MEI.neumes" type="model" mode="replace">
          <desc>groups event elements that occur in the neume repertoire.</desc>
          <classes>
            <!--<memberOf key="model.layerPart.neumes"/>-->
            <memberOf key="model.syllablePart"/>
            <memberOf key="model.rdgPart.critapp"/>
          </classes>
        </classSpec>

      </schemaSpec>
    </body>
  </text>
</TEI>
